<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>言语理解与表达</title>
      <link href="/posts/df384fad.html"/>
      <url>/posts/df384fad.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 国家公务员考试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 言语理解与表达 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断推理</title>
      <link href="/posts/dfee96f3.html"/>
      <url>/posts/dfee96f3.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、图形推理"><a href="#一、图形推理" class="headerlink" title="一、图形推理"></a>一、图形推理</h1><p><img src="../image/判断推理/image-20250127195524902.png" alt="image-20250127195524902"></p><p><img src="../image/判断推理/image-20250127195924948.png" alt="image-20250127195924948"></p><p><img src="../image/判断推理/image-20250127200057234.png" alt="image-20250127200057234"></p><h2 id="1、位置规律"><a href="#1、位置规律" class="headerlink" title="1、位置规律"></a>1、位置规律</h2><p><img src="../image/判断推理/image-20250128074907902.png" alt="image-20250128074907902"></p><h3 id="①平移"><a href="#①平移" class="headerlink" title="①平移"></a>①平移</h3><p><img src="../image/判断推理/image-20250128075525007.png" alt="image-20250128075525007"></p><p><img src="../image/判断推理/image-20250128080031513.png" alt="image-20250128080031513"></p><p><img src="../image/判断推理/image-20250128093613280.png" alt="image-20250128093613280"></p><p><img src="../image/判断推理/image-20250128093800339.png" alt="image-20250128093800339"></p><h3 id="②旋转、翻转"><a href="#②旋转、翻转" class="headerlink" title="②旋转、翻转"></a>②旋转、翻转</h3><p><img src="../image/判断推理/image-20250128093914235.png" alt="image-20250128093914235"></p><p><img src="../image/判断推理/image-20250128155104290.png" alt="image-20250128155104290"></p><p><img src="../image/判断推理/image-20250128161552997.png" alt="image-20250128161552997"></p><p><img src="../image/判断推理/image-20250128161909767.png" alt="image-20250128161909767"></p><h2 id="2、样式规律"><a href="#2、样式规律" class="headerlink" title="2、样式规律"></a>2、样式规律</h2><p><img src="../image/判断推理/image-20250128162224111.png" alt="image-20250128162224111"></p><h3 id="①遍历"><a href="#①遍历" class="headerlink" title="①遍历"></a>①遍历</h3><p><img src="../image/判断推理/image-20250128162817232.png" alt="image-20250128162817232"></p><p><img src="../image/判断推理/image-20250128162912388.png" alt="image-20250128162912388"></p><h3 id="②加减同异"><a href="#②加减同异" class="headerlink" title="②加减同异"></a>②加减同异</h3><p><img src="../image/判断推理/image-20250128163609181.png" alt="image-20250128163609181"></p><h3 id="③黑白运算"><a href="#③黑白运算" class="headerlink" title="③黑白运算"></a>③黑白运算</h3><p><img src="../image/判断推理/image-20250131190720179.png" alt="image-20250131190720179"></p><h2 id="3、属性规律"><a href="#3、属性规律" class="headerlink" title="3、属性规律"></a>3、属性规律</h2><p><img src="../image/判断推理/image-20250131200505896.png" alt="image-20250131200505896"></p><h3 id="①对称性"><a href="#①对称性" class="headerlink" title="①对称性"></a>①对称性</h3><p><img src="../image/判断推理/image-20250131201036924.png" alt="image-20250131201036924"></p><p><img src="../image/判断推理/image-20250131201056624.png" alt="image-20250131201056624"></p><p><img src="../image/判断推理/image-20250131202731257.png" alt="image-20250131202731257"></p><h3 id="②曲直性"><a href="#②曲直性" class="headerlink" title="②曲直性"></a>②曲直性</h3><p><img src="../image/判断推理/image-20250131203112726.png" alt="image-20250131203112726"></p><h3 id="③开闭性"><a href="#③开闭性" class="headerlink" title="③开闭性"></a>③开闭性</h3><p><img src="../image/判断推理/image-20250131203637449.png" alt="image-20250131203637449"></p><p><img src="../image/判断推理/image-20250131204004606.png" alt="image-20250131204004606"></p><h2 id="4、数量规律"><a href="#4、数量规律" class="headerlink" title="4、数量规律"></a>4、数量规律</h2><p><img src="../image/判断推理/image-20250131204211098.png" alt="image-20250131204211098"></p><h3 id="①点数量（交点、切点）"><a href="#①点数量（交点、切点）" class="headerlink" title="①点数量（交点、切点）"></a>①点数量（交点、切点）</h3><p><img src="../image/判断推理/image-20250131204415611.png" alt="image-20250131204415611"></p><p><img src="../image/判断推理/image-20250131204549928.png" alt="image-20250131204549928"></p><p><img src="../image/判断推理/image-20250131205612001.png" alt="image-20250131205612001"></p><p><img src="../image/判断推理/image-20250131210245973.png" alt="image-20250131210245973"></p><h3 id="②线数量（线条数）"><a href="#②线数量（线条数）" class="headerlink" title="②线数量（线条数）"></a>②线数量（线条数）</h3><p><img src="../image/判断推理/image-20250131211534605.png" alt="image-20250131211534605"></p><p><img src="../image/判断推理/image-20250201090242562.png" alt="image-20250201090242562"></p><p><img src="../image/判断推理/image-20250201090537616.png" alt="image-20250201090537616"></p><p><img src="../image/判断推理/image-20250201093128775.png" alt="image-20250201093128775"></p><p><img src="../image/判断推理/image-20250201093357806.png" alt="image-20250201093357806"></p><p><img src="../image/判断推理/image-20250201094257047.png" alt="image-20250201094257047"></p><p><img src="../image/判断推理/image-20250201094745385.png" alt="image-20250201094745385"></p><p><img src="../image/判断推理/image-20250201114021608.png" alt="image-20250201114021608"></p><p><img src="../image/判断推理/image-20250201114350920.png" alt="image-20250201114350920"></p><p><img src="../image/判断推理/image-20250201115854888.png" alt="image-20250201115854888"></p><p><img src="../image/判断推理/image-20250201120121039.png" alt="image-20250201120121039"></p><h3 id="③角数量"><a href="#③角数量" class="headerlink" title="③角数量"></a>③角数量</h3><p><img src="../image/判断推理/image-20250201120324919.png" alt="image-20250201120324919"></p><p><img src="../image/判断推理/image-20250201120606371.png" alt="image-20250201120606371"></p><h3 id="④面数量（封闭空间数）"><a href="#④面数量（封闭空间数）" class="headerlink" title="④面数量（封闭空间数）"></a>④面数量（封闭空间数）</h3><p><img src="../image/判断推理/image-20250201122347995.png" alt="image-20250201122347995"></p><p><img src="../image/判断推理/image-20250201123600611.png" alt="image-20250201123600611"></p><h3 id="⑤素数量"><a href="#⑤素数量" class="headerlink" title="⑤素数量"></a>⑤素数量</h3><p><img src="../image/判断推理/image-20250201124957511.png" alt="image-20250201124957511"></p><p><img src="../image/判断推理/image-20250201125535421.png" alt="image-20250201125535421"></p><p><img src="../image/判断推理/image-20250201130236448.png" alt="image-20250201130236448"></p><p><img src="../image/判断推理/image-20250201130314995.png" alt="image-20250201130314995"></p><h2 id="5、空间重构"><a href="#5、空间重构" class="headerlink" title="5、空间重构"></a>5、空间重构</h2><h3 id="①相对面"><a href="#①相对面" class="headerlink" title="①相对面"></a>①相对面</h3><p><img src="../image/判断推理/image-20250201130958627.png" alt="image-20250201130958627"></p><p><img src="../image/判断推理/image-20250201133159872.png" alt="image-20250201133159872"></p><p><img src="../image/判断推理/image-20250201133706541.png" alt="image-20250201133706541"></p><h3 id="②相邻面"><a href="#②相邻面" class="headerlink" title="②相邻面"></a>②相邻面</h3><p><img src="../image/判断推理/image-20250201134518577.png" alt="image-20250201134518577"></p><p><img src="../image/判断推理/image-20250201134841455.png" alt="image-20250201134841455"></p><p><img src="../image/判断推理/image-20250201140042470.png" alt="image-20250201140042470"></p><p><img src="../image/判断推理/image-20250201140837050.png" alt="image-20250201140837050"></p><p><img src="../image/判断推理/image-20250205131634158.png" alt="image-20250205131634158"></p><p><img src="../image/判断推理/image-20250205153954969.png" alt="image-20250205153954969"></p><p><img src="../image/判断推理/image-20250205154836381.png" alt="image-20250205154836381"></p><p><img src="../image/判断推理/image-20250205155828318.png" alt="image-20250205155828318"></p><h1 id="二、类比推理"><a href="#二、类比推理" class="headerlink" title="二、类比推理"></a>二、类比推理</h1><p><img src="../image/判断推理/image-20250205170735687.png" alt="image-20250205170735687"></p><p><img src="../image/判断推理/image-20250205172542959.png" alt="image-20250205172542959"></p><h2 id="1、语义关系"><a href="#1、语义关系" class="headerlink" title="1、语义关系"></a>1、语义关系</h2><h3 id="①近义关系、反义关系"><a href="#①近义关系、反义关系" class="headerlink" title="①近义关系、反义关系"></a>①近义关系、反义关系</h3><p><img src="../image/判断推理/image-20250205173634907.png" alt="image-20250205173634907"></p><p><img src="../image/判断推理/image-20250205174447301.png" alt="image-20250205174447301"></p><h3 id="②比喻义、象征义"><a href="#②比喻义、象征义" class="headerlink" title="②比喻义、象征义"></a>②比喻义、象征义</h3><p><img src="../image/判断推理/image-20250205182303470.png" alt="image-20250205182303470"></p><p><img src="../image/判断推理/image-20250205183818184.png" alt="image-20250205183818184"></p><p><img src="../image/判断推理/image-20250205183920133.png" alt="image-20250205183920133"></p><p><img src="../image/判断推理/image-20250205184036769.png" alt="image-20250205184036769"></p><p><img src="../image/判断推理/image-20250205184128628.png" alt="image-20250205184128628"></p><p><img src="../image/判断推理/image-20250205184159685.png" alt="image-20250205184159685"></p><h2 id="2、逻辑关系"><a href="#2、逻辑关系" class="headerlink" title="2、逻辑关系"></a>2、逻辑关系</h2><p><img src="../image/判断推理/image-20250205184250187.png" alt="image-20250205184250187"></p><h3 id="①全同关系"><a href="#①全同关系" class="headerlink" title="①全同关系"></a>①全同关系</h3><p><img src="../image/判断推理/image-20250205184549344.png" alt="image-20250205184549344"></p><h3 id="②并列关系"><a href="#②并列关系" class="headerlink" title="②并列关系"></a>②并列关系</h3><p><img src="../image/判断推理/image-20250205184926097.png" alt="image-20250205184926097"></p><h3 id="③包容关系"><a href="#③包容关系" class="headerlink" title="③包容关系"></a>③包容关系</h3><p><img src="../image/判断推理/image-20250206092822499.png" alt="image-20250206092822499"></p><p><img src="../image/判断推理/image-20250206093225921.png" alt="image-20250206093225921"></p><h3 id="④交叉关系"><a href="#④交叉关系" class="headerlink" title="④交叉关系"></a>④交叉关系</h3><p><img src="../image/判断推理/image-20250206094136384.png" alt="image-20250206094136384"></p><p><img src="../image/判断推理/image-20250206094905037.png" alt="image-20250206094905037"></p><h3 id="⑤对应关系"><a href="#⑤对应关系" class="headerlink" title="⑤对应关系"></a>⑤对应关系</h3><p><img src="../image/判断推理/image-20250206095145133.png" alt="image-20250206095145133"></p><p><img src="../image/判断推理/image-20250206095859624.png" alt="image-20250206095859624"></p><p><img src="../image/判断推理/image-20250206100556304.png" alt="image-20250206100556304"></p><p><img src="../image/判断推理/image-20250206100757828.png" alt="image-20250206100757828"></p><p><img src="../image/判断推理/image-20250206101459010.png" alt="image-20250206101459010"></p><p><img src="../image/判断推理/image-20250206101949599.png" alt="image-20250206101949599"></p><p><img src="../image/判断推理/image-20250206103329929.png" alt="image-20250206103329929"></p><p><img src="../image/判断推理/image-20250206104120431.png" alt="image-20250206104120431"></p><p><img src="../image/判断推理/image-20250206105013431.png" alt="image-20250206105013431"></p><h2 id="3、语法关系"><a href="#3、语法关系" class="headerlink" title="3、语法关系"></a>3、语法关系</h2><p><img src="../image/判断推理/image-20250206105953160.png" alt="image-20250206105953160"></p><h1 id="三、定义判断"><a href="#三、定义判断" class="headerlink" title="三、定义判断"></a>三、定义判断</h1><p><img src="../image/判断推理/image-20250206111347847.png" alt="image-20250206111347847"></p><p><img src="../image/判断推理/image-20250206111452819.png" alt="image-20250206111452819"></p><h2 id="1、快速识别有效信息"><a href="#1、快速识别有效信息" class="headerlink" title="1、快速识别有效信息"></a>1、快速识别有效信息</h2><p><img src="../image/判断推理/image-20250206112655860.png" alt="image-20250206112655860"></p><p><img src="../image/判断推理/image-20250206115526029.png" alt="image-20250206115526029"></p><p><img src="../image/判断推理/image-20250206120256985.png" alt="image-20250206120256985"></p><p><img src="../image/判断推理/image-20250206141149677.png" alt="image-20250206141149677"><img src="../image/判断推理/image-20250206140946711.png" alt="image-20250206140946711"></p><p><img src="../image/判断推理/image-20250206155521779.png" alt="image-20250206155521779"></p><h2 id="2、同构选项排除法"><a href="#2、同构选项排除法" class="headerlink" title="2、同构选项排除法"></a>2、同构选项排除法</h2><p><img src="../image/判断推理/image-20250206160949960.png" alt="image-20250206160949960"></p><p><img src="../image/判断推理/image-20250206161736512.png" alt="image-20250206161736512"></p><h1 id="四、逻辑判断"><a href="#四、逻辑判断" class="headerlink" title="四、逻辑判断"></a>四、逻辑判断</h1><p><img src="../image/判断推理/image-20250206171616051.png" alt="image-20250206171616051"></p><h2 id="1、翻译推理"><a href="#1、翻译推理" class="headerlink" title="1、翻译推理"></a>1、翻译推理</h2><h3 id="①前推后"><a href="#①前推后" class="headerlink" title="①前推后"></a>①前推后</h3><p><img src="../image/判断推理/image-20250206172041764.png" alt="image-20250206172041764"></p><p><img src="../image/判断推理/image-20250206172742738.png" alt="image-20250206172742738"></p><p><img src="../image/判断推理/image-20250206174228285.png" alt="image-20250206174228285"></p><p><img src="../image/判断推理/image-20250207133603117.png" alt="image-20250207133603117"></p><h3 id="②逆否等价"><a href="#②逆否等价" class="headerlink" title="②逆否等价"></a>②逆否等价</h3><p><img src="../image/判断推理/image-20250207140839595.png" alt="image-20250207140839595"></p><p><img src="../image/判断推理/image-20250207141230542.png" alt="image-20250207141230542"></p><p><img src="../image/判断推理/image-20250207143547547.png" alt="image-20250207143547547"></p><h3 id="③后推前"><a href="#③后推前" class="headerlink" title="③后推前"></a>③后推前</h3><p><img src="../image/判断推理/image-20250207154757950.png" alt="image-20250207154757950"></p><p><img src="../image/判断推理/image-20250207155555962.png" alt="image-20250207155555962"></p><p><img src="../image/判断推理/image-20250207172744257.png" alt="image-20250207172744257"></p><p><img src="../image/判断推理/image-20250207172938201.png" alt="image-20250207172938201"></p><p><img src="../image/判断推理/image-20250207173205003.png" alt="image-20250207173205003"></p><h3 id="④“且”和“或”"><a href="#④“且”和“或”" class="headerlink" title="④“且”和“或”"></a>④“且”和“或”</h3><p><img src="../image/判断推理/image-20250207174424067.png" alt="image-20250207174424067"></p><p><img src="../image/判断推理/image-20250207174656497.png" alt="image-20250207174656497"></p><p><img src="../image/判断推理/image-20250207174840708.png" alt="image-20250207174840708"></p><p><img src="../image/判断推理/image-20250207180346219.png" alt="image-20250207180346219"></p><p><img src="../image/判断推理/image-20250207182447783.png" alt="image-20250207182447783"></p><h3 id="⑤“—“，”且“和”或“互换"><a href="#⑤“—“，”且“和”或“互换" class="headerlink" title="⑤“—“，”且“和”或“互换"></a>⑤“—“，”且“和”或“互换</h3><p><img src="../image/判断推理/image-20250207182610224.png" alt="image-20250207182610224"></p><p><img src="../image/判断推理/image-20250207183859150.png" alt="image-20250207183859150"></p><p><img src="../image/判断推理/image-20250207184357896.png" alt="image-20250207184357896"></p><h2 id="2、组合排列"><a href="#2、组合排列" class="headerlink" title="2、组合排列"></a>2、组合排列</h2><p><img src="../image/判断推理/image-20250207185653566.png" alt="image-20250207185653566"></p><h3 id="①排除法、代入法"><a href="#①排除法、代入法" class="headerlink" title="①排除法、代入法"></a>①排除法、代入法</h3><p><img src="../image/判断推理/image-20250207190130711.png" alt="image-20250207190130711"></p><p><img src="../image/判断推理/image-20250207190942863.png" alt="image-20250207190942863"></p><h3 id="②辅助技巧"><a href="#②辅助技巧" class="headerlink" title="②辅助技巧"></a>②辅助技巧</h3><p><img src="../image/判断推理/image-20250207194429891.png" alt="image-20250207194429891"><img src="../image/判断推理/image-20250207194354818.png" alt="image-20250207194354818"></p><p><img src="../image/判断推理/image-20250207202323754.png" alt="image-20250207202323754"></p><h2 id="3、日常结论"><a href="#3、日常结论" class="headerlink" title="3、日常结论"></a>3、日常结论</h2><p><img src="../image/判断推理/image-20250208101829554.png" alt="image-20250208101829554"></p><p><img src="../image/判断推理/image-20250208112107022.png" alt="image-20250208112107022"></p><p><img src="../image/判断推理/image-20250208115244412.png" alt="image-20250208115244412"></p><h2 id="4、逻辑论证"><a href="#4、逻辑论证" class="headerlink" title="4、逻辑论证"></a>4、逻辑论证</h2><p><img src="../image/判断推理/image-20250208115408222.png" alt="image-20250208115408222"></p><p><img src="../image/判断推理/image-20250208115506134.png" alt="image-20250208115506134"></p><h3 id="①什么是论证"><a href="#①什么是论证" class="headerlink" title="①什么是论证"></a>①什么是论证</h3><p><img src="../image/判断推理/image-20250208115821886.png" alt="image-20250208115821886"></p><h3 id="②如何快速定位论点和论据"><a href="#②如何快速定位论点和论据" class="headerlink" title="②如何快速定位论点和论据"></a>②如何快速定位论点和论据</h3><h4 id="典型提示词"><a href="#典型提示词" class="headerlink" title="典型提示词"></a>典型提示词</h4><p><img src="../image/判断推理/image-20250208140434510.png" alt="image-20250208140434510"></p><h4 id="首尾句原则"><a href="#首尾句原则" class="headerlink" title="首尾句原则"></a>首尾句原则</h4><p><img src="../image/判断推理/image-20250208141009658.png" alt="image-20250208141009658"></p><h4 id="结合提问方式"><a href="#结合提问方式" class="headerlink" title="结合提问方式"></a>结合提问方式</h4><p><img src="../image/判断推理/image-20250208141620864.png" alt="image-20250208141620864"></p><p><img src="../image/判断推理/image-20250208141535649.png" alt="image-20250208141535649"></p><p><img src="../image/判断推理/image-20250208141809769.png" alt="image-20250208141809769"></p><h3 id="③加强题型"><a href="#③加强题型" class="headerlink" title="③加强题型"></a>③加强题型</h3><p><img src="../image/判断推理/image-20250208141915526.png" alt="image-20250208141915526"></p><p><img src="../image/判断推理/image-20250208142003596.png" alt="image-20250208142003596"></p><p><img src="../image/判断推理/image-20250208142321872.png" alt="image-20250208142321872"></p><h4 id="解释与举例"><a href="#解释与举例" class="headerlink" title="解释与举例"></a>解释与举例</h4><p><img src="../image/判断推理/image-20250208142402911.png" alt="image-20250208142402911"></p><p><img src="../image/判断推理/image-20250208143616299.png" alt="image-20250208143616299"></p><p><img src="../image/判断推理/image-20250208151623441.png" alt="image-20250208151623441"></p><h4 id="论点与论据搭桥"><a href="#论点与论据搭桥" class="headerlink" title="论点与论据搭桥"></a>论点与论据搭桥</h4><p><img src="../image/判断推理/image-20250208152039591.png" alt="image-20250208152039591"></p><p><img src="../image/判断推理/image-20250208152519618.png" alt="image-20250208152519618"></p><p><img src="../image/判断推理/image-20250208155813141.png" alt="image-20250208155813141"></p><p><img src="../image/判断推理/image-20250208171730995.png" alt="image-20250208171730995"></p><p><img src="../image/判断推理/image-20250208171745331.png" alt="image-20250208171745331"></p><p><img src="../image/判断推理/image-20250208172320318.png" alt="image-20250208172320318"></p><h3 id="④削弱题型"><a href="#④削弱题型" class="headerlink" title="④削弱题型"></a>④削弱题型</h3><p><img src="../image/判断推理/image-20250208173221891.png" alt="image-20250208173221891"></p><h4 id="直接否论点和举反例"><a href="#直接否论点和举反例" class="headerlink" title="直接否论点和举反例"></a>直接否论点和举反例</h4><p><img src="../image/判断推理/image-20250208173905313.png" alt="image-20250208173905313"></p><p><img src="../image/判断推理/image-20250208174131719.png" alt="image-20250208174131719"></p><p><img src="../image/判断推理/image-20250208183506782.png" alt="image-20250208183506782"></p><h4 id="论点与论据拆桥"><a href="#论点与论据拆桥" class="headerlink" title="论点与论据拆桥"></a>论点与论据拆桥</h4><p><img src="../image/判断推理/image-20250208183830357.png" alt="image-20250208183830357"></p><p><img src="../image/判断推理/image-20250209100808957.png" alt="image-20250209100808957"></p><p><img src="../image/判断推理/image-20250209101357362.png" alt="image-20250209101357362"></p><p><img src="../image/判断推理/image-20250209101544166.png" alt="image-20250209101544166"></p><p><img src="../image/判断推理/image-20250209114004078.png" alt="image-20250209114004078"></p>]]></content>
      
      
      <categories>
          
          <category> 国家公务员考试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 判断推理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资料分析</title>
      <link href="/posts/9362be7c.html"/>
      <url>/posts/9362be7c.html</url>
      
        <content type="html"><![CDATA[<p><img src="../image/资料分析/image-20250102140910850.png" alt="image-20250102140910850"></p><p><img src="../image/资料分析/image-20250102143204531.png" alt="image-20250102143204531"></p><h1 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h1><h2 id="1、基期量、现期量、增长量、增长率"><a href="#1、基期量、现期量、增长量、增长率" class="headerlink" title="1、基期量、现期量、增长量、增长率"></a>1、基期量、现期量、增长量、增长率</h2><p><img src="../image/资料分析/image-20250102143559743.png" alt="image-20250102143559743"></p><p><img src="../image/资料分析/image-20250102144047441.png" alt="image-20250102144047441"></p><p><img src="../image/资料分析/image-20250102144421650.png" alt="image-20250102144421650"></p><p><img src="../image/资料分析/image-20250102145006264.png" alt="image-20250102145006264"></p><p><img src="../image/资料分析/image-20250102145533402.png" alt="image-20250102145533402"></p><p><img src="../image/资料分析/image-20250102145949310.png" alt="image-20250102145949310"></p><h2 id="2、同比、环比"><a href="#2、同比、环比" class="headerlink" title="2、同比、环比"></a>2、同比、环比</h2><p><img src="../image/资料分析/image-20250102150304058.png" alt="image-20250102150304058"></p><p><img src="../image/资料分析/image-20250102151227587.png" alt="image-20250102151227587"></p><p><img src="../image/资料分析/image-20250102153048638.png" alt="image-20250102153048638"></p><h2 id="3、增长幅度、变化幅度"><a href="#3、增长幅度、变化幅度" class="headerlink" title="3、增长幅度、变化幅度"></a>3、增长幅度、变化幅度</h2><p><img src="../image/资料分析/image-20250102153950684.png" alt="image-20250102153950684"></p><p><img src="../image/资料分析/image-20250102155551541.png" alt="image-20250102155551541"></p><h2 id="4、百分点、百分数"><a href="#4、百分点、百分数" class="headerlink" title="4、百分点、百分数"></a>4、百分点、百分数</h2><p><img src="../image/资料分析/image-20250102161202092.png" alt="image-20250102161202092"></p><p><img src="../image/资料分析/image-20250102162310287.png" alt="image-20250102162310287"></p><p><img src="../image/资料分析/image-20250102170852491.png" alt="image-20250102170852491"></p><p><img src="../image/资料分析/image-20250102171814726.png" alt="image-20250102171814726"></p><p><img src="../image/资料分析/image-20250102172244476.png" alt="image-20250102172244476"></p><h2 id="5、翻番、倍数"><a href="#5、翻番、倍数" class="headerlink" title="5、翻番、倍数"></a>5、翻番、倍数</h2><p><img src="../image/资料分析/image-20250102172820089.png" alt="image-20250102172820089"></p><h2 id="6、平均数"><a href="#6、平均数" class="headerlink" title="6、平均数"></a>6、平均数</h2><p><img src="../image/资料分析/image-20250102174033333.png" alt="image-20250102174033333"></p><p><img src="../image/资料分析/image-20250102175302505.png" alt="image-20250102175302505"></p><p><img src="../image/资料分析/image-20250102181538755.png" alt="image-20250102181538755"></p><p><img src="../image/资料分析/image-20250102182526522.png" alt="image-20250102182526522"></p><h2 id="7、比重、成数"><a href="#7、比重、成数" class="headerlink" title="7、比重、成数"></a>7、比重、成数</h2><p><img src="../image/资料分析/image-20250102211136318.png" alt="image-20250102211136318"></p><p><img src="../image/资料分析/image-20250102213219412.png" alt="image-20250102213219412"></p><p><img src="../image/资料分析/image-20250102214730802.png" alt="image-20250102214730802"></p><h2 id="8、年均增长量（平均增长量）"><a href="#8、年均增长量（平均增长量）" class="headerlink" title="8、年均增长量（平均增长量）"></a>8、年均增长量（平均增长量）</h2><p><img src="../image/资料分析/image-20250102224202337.png" alt="image-20250102224202337"></p><p><img src="../image/资料分析/image-20250103104353619.png" alt="image-20250103104353619"></p><p><img src="../image/资料分析/image-20250103112400414.png" alt="image-20250103112400414"></p><p><img src="../image/资料分析/image-20250103113506343.png" alt="image-20250103113506343"></p><p><img src="../image/资料分析/image-20250103115041186.png" alt="image-20250103115041186"></p><p><img src="../image/资料分析/image-20250103150901461.png" alt="image-20250103150901461"></p><h2 id="9、间隔增长率"><a href="#9、间隔增长率" class="headerlink" title="9、间隔增长率"></a>9、间隔增长率</h2><p><img src="../image/资料分析/image-20250103155636768.png" alt="image-20250103155636768"></p><p><img src="../image/资料分析/image-20250110112326608.png" alt="image-20250110112326608"></p><p><img src="../image/资料分析/image-20250110112418177.png" alt="image-20250110112418177"></p><p><img src="../image/资料分析/image-20250110113256430.png" alt="image-20250110113256430"></p><p> <img src="../image/资料分析/image-20250110114719972.png" alt="image-20250110114719972"></p><p><img src="../image/资料分析/image-20250110120228440.png" alt="image-20250110120228440"></p><p><img src="../image/资料分析/image-20250110121015989.png" alt="image-20250110121015989"></p><h2 id="10、年均增长率-平均增长率"><a href="#10、年均增长率-平均增长率" class="headerlink" title="10、年均增长率(平均增长率)"></a>10、年均增长率(平均增长率)</h2><p><img src="../image/资料分析/image-20250110130952217.png" alt="image-20250110130952217"></p><p><img src="../image/资料分析/image-20250110132329711.png" alt="image-20250110132329711"></p><p><img src="../image/资料分析/image-20250110133755116.png" alt="image-20250110133755116"></p><p><img src="../image/资料分析/image-20250110134721207.png" alt="image-20250110134721207"></p><p><img src="../image/资料分析/image-20250110140819426.png" alt="image-20250110140819426"></p><p><img src="../image/资料分析/image-20250110142146580.png" alt="image-20250110142146580"></p><p><img src="../image/资料分析/image-20250110142435149.png" alt="image-20250110142435149"></p><p>第一步：求出总增长量<br>第二步：求出平均增长量<br>第三步：找出恰当选项，用多年间隔增长率公式代入，排除错误选项<br>恰当：选择好算的那个，选择只算一个就能得出正确答案的那个<br><img src="../image/资料分析/image-20250110160414695.png" alt="image-20250110160414695"></p><p><img src="../image/资料分析/image-20250110160524447.png" alt="image-20250110160524447"></p><p><img src="../image/资料分析/image-20250110172138774.png" alt="image-20250110172138774"></p><p><img src="../image/资料分析/image-20250110181443029.png" alt="image-20250110181443029"></p><h2 id="11、拉动增长、贡献率"><a href="#11、拉动增长、贡献率" class="headerlink" title="11、拉动增长、贡献率"></a>11、拉动增长、贡献率</h2><p><img src="../image/资料分析/image-20250110181759534.png" alt="image-20250110181759534"></p><p><img src="../image/资料分析/image-20250110182204209.png" alt="image-20250110182204209"></p><p><img src="../image/资料分析/image-20250110182631738.png" alt="image-20250110182631738"></p><h2 id="12、顺差、逆差"><a href="#12、顺差、逆差" class="headerlink" title="12、顺差、逆差"></a>12、顺差、逆差</h2><p><img src="../image/资料分析/image-20250110183842711.png" alt="image-20250110183842711"></p><h2 id="13、中位数"><a href="#13、中位数" class="headerlink" title="13、中位数"></a>13、中位数</h2><p><img src="../image/资料分析/image-20250110184723688.png" alt="image-20250110184723688"></p><p><img src="../image/资料分析/image-20250110184639870.png" alt="image-20250110184639870"></p><h2 id="14、发展速度"><a href="#14、发展速度" class="headerlink" title="14、发展速度"></a>14、发展速度</h2><p><img src="../image/资料分析/image-20250110185114961.png" alt="image-20250110185114961"></p><p><img src="../image/资料分析/image-20250110190019790.png" alt="image-20250110190019790"></p><h2 id="15、人口出生率、人口死亡率、人口自然增长率"><a href="#15、人口出生率、人口死亡率、人口自然增长率" class="headerlink" title="15、人口出生率、人口死亡率、人口自然增长率"></a>15、人口出生率、人口死亡率、人口自然增长率</h2><p><img src="../image/资料分析/image-20250110191535565.png" alt="image-20250110191535565"></p><p><img src="../image/资料分析/image-20250110192312619.png" alt="image-20250110192312619"></p><h2 id="16、三次产业（三大产业）"><a href="#16、三次产业（三大产业）" class="headerlink" title="16、三次产业（三大产业）"></a>16、三次产业（三大产业）</h2><p><img src="../image/资料分析/image-20250110192542957.png" alt="image-20250110192542957"></p><h2 id="17、国内生产总值"><a href="#17、国内生产总值" class="headerlink" title="17、国内生产总值"></a>17、国内生产总值</h2><p><img src="../image/资料分析/image-20250110192657272.png" alt="image-20250110192657272"></p><h2 id="18、五年计划"><a href="#18、五年计划" class="headerlink" title="18、五年计划"></a>18、五年计划</h2><p><img src="../image/资料分析/image-20250110193006931.png" alt="image-20250110193006931"></p><h2 id="19、恩格尔系数、基尼系数"><a href="#19、恩格尔系数、基尼系数" class="headerlink" title="19、恩格尔系数、基尼系数"></a>19、恩格尔系数、基尼系数</h2><p><img src="../image/资料分析/image-20250110193233189.png" alt="image-20250110193233189"></p><h2 id="20、东部、中部、西部和东北"><a href="#20、东部、中部、西部和东北" class="headerlink" title="20、东部、中部、西部和东北"></a>20、东部、中部、西部和东北</h2><p><img src="../image/资料分析/image-20250110193409745.png" alt="image-20250110193409745"></p><h1 id="二、快速定位"><a href="#二、快速定位" class="headerlink" title="二、快速定位"></a>二、快速定位</h1><h2 id="1、表格类材料"><a href="#1、表格类材料" class="headerlink" title="1、表格类材料"></a>1、表格类材料</h2><p><img src="../image/资料分析/image-20250110203043121.png" alt="image-20250110203043121"></p><p>根据选项确立计算原则：<br>若选项首位不同，计算时取前两位。<br>若选项第二位不同，计算时取前三位。<br>依此类推</p><p><img src="../image/资料分析/image-20250110204439430.png" alt="image-20250110204439430"></p><p><img src="../image/资料分析/image-20250113090210575.png" alt="image-20250113090210575"></p><h2 id="2、图形类材料"><a href="#2、图形类材料" class="headerlink" title="2、图形类材料"></a>2、图形类材料</h2><p><img src="../image/资料分析/image-20250113090551527.png" alt="image-20250113090551527"></p><p><img src="../image/资料分析/image-20250113092031106.png" alt="image-20250113092031106"></p><p><img src="../image/资料分析/image-20250113093317555.png" alt="image-20250113093317555"></p><p><img src="../image/资料分析/image-20250113102734425.png" alt="image-20250113102734425"></p><p><img src="../image/资料分析/image-20250113104234855.png" alt="image-20250113104234855"></p><h2 id="3、文字类材料"><a href="#3、文字类材料" class="headerlink" title="3、文字类材料"></a>3、文字类材料</h2><p><img src="../image/资料分析/image-20250113105034392.png" alt="image-20250113105034392"></p><p><img src="../image/资料分析/image-20250113133016466.png" alt="image-20250113133016466"><img src="../image/资料分析/image-20250113132937166.png" alt="image-20250113132937166"></p><p> <img src="../image/资料分析/image-20250113140240804.png" alt="image-20250113140240804"></p><h1 id="三、重点题型"><a href="#三、重点题型" class="headerlink" title="三、重点题型"></a>三、重点题型</h1><h2 id="1、基期量和现期量计算"><a href="#1、基期量和现期量计算" class="headerlink" title="1、基期量和现期量计算"></a>1、基期量和现期量计算</h2><p><img src="../image/资料分析/image-20250113154241188.png" alt="image-20250113154241188"></p><h3 id="①基本基期量计算"><a href="#①基本基期量计算" class="headerlink" title="①基本基期量计算"></a>①基本基期量计算</h3><h4 id="题型一"><a href="#题型一" class="headerlink" title="题型一"></a>题型一</h4><p><img src="../image/资料分析/image-20250113154922702.png" alt="image-20250113154922702"></p><p><img src="../image/资料分析/image-20250113161429470.png" alt="image-20250113161429470"></p><h4 id="题型二"><a href="#题型二" class="headerlink" title="题型二"></a>题型二</h4><p><img src="../image/资料分析/image-20250113162108261.png" alt="image-20250113162108261"></p><p><img src="../image/资料分析/image-20250113162918112.png" alt="image-20250113162918112"></p><p><img src="../image/资料分析/image-20250113163802427.png" alt="image-20250113163802427"></p><p><img src="../image/资料分析/image-20250113164026704.png" alt="image-20250113164026704"></p><p><img src="../image/资料分析/image-20250113164434068.png" alt="image-20250113164434068"></p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p><img src="../image/资料分析/image-20250113164621666.png" alt="image-20250113164621666"></p><h3 id="②间隔基期量计算"><a href="#②间隔基期量计算" class="headerlink" title="②间隔基期量计算"></a>②间隔基期量计算</h3><p><img src="../image/资料分析/image-20250113165322136.png" alt="image-20250113165322136"></p><p><img src="../image/资料分析/image-20250113170806191.png" alt="image-20250113170806191"></p><p><img src="../image/资料分析/image-20250113185342989.png" alt="image-20250113185342989"></p><p><img src="../image/资料分析/image-20250113191352184.png" alt="image-20250113191352184"></p><p><img src="../image/资料分析/image-20250113191818171.png" alt="image-20250113191818171"></p><h3 id="③现期量计算"><a href="#③现期量计算" class="headerlink" title="③现期量计算"></a>③现期量计算</h3><p><img src="../image/资料分析/image-20250113192134790.png" alt="image-20250113192134790"></p><p><img src="../image/资料分析/image-20250113195454682.png" alt="image-20250113195454682"></p><p><img src="../image/资料分析/image-20250113201512727.png" alt="image-20250113201512727"></p><p><img src="../image/资料分析/image-20250113202750995.png" alt="image-20250113202750995"></p><p><img src="../image/资料分析/image-20250113203014637.png" alt="image-20250113203014637"></p><h2 id="2、增长率的计算和比较"><a href="#2、增长率的计算和比较" class="headerlink" title="2、增长率的计算和比较"></a>2、增长率的计算和比较</h2><p><img src="../image/资料分析/image-20250114085652004.png" alt="image-20250114085652004"></p><h3 id="①增长率计算"><a href="#①增长率计算" class="headerlink" title="①增长率计算"></a>①增长率计算</h3><p><img src="../image/资料分析/image-20250114090159960.png" alt="image-20250114090159960"></p><p>当选项中首位不同的时候，就不要考虑小数点<br>各选项数量级相同，就不要讨论小数点。<br>两者满足其一即可</p><p><img src="../image/资料分析/image-20250114094142267.png" alt="image-20250114094142267"></p><p><img src="../image/资料分析/image-20250114094926733.png" alt="image-20250114094926733"></p><p><img src="../image/资料分析/image-20250114095925670.png" alt="image-20250114095925670"></p><p><img src="../image/资料分析/image-20250114101148154.png" alt="image-20250114101148154"></p><p> <img src="../image/资料分析/image-20250114102050380.png" alt="image-20250114102050380"></p><p><img src="../image/资料分析/image-20250114102658788.png" alt="image-20250114102658788"></p><p><img src="../image/资料分析/image-20250114104916603.png" alt="image-20250114104916603"></p><p><img src="../image/资料分析/image-20250114105403838.png" alt="image-20250114105403838"></p><p><img src="../image/资料分析/image-20250114105651311.png" alt="image-20250114105651311"></p><h3 id="②增长率比较"><a href="#②增长率比较" class="headerlink" title="②增长率比较"></a>②增长率比较</h3><p><img src="../image/资料分析/image-20250114111543387.png" alt="image-20250114111543387"></p><p><img src="../image/资料分析/image-20250114111945703.png" alt="image-20250114111945703"></p><p><img src="../image/资料分析/image-20250114115555090.png" alt="image-20250114115555090"></p><p><img src="../image/资料分析/image-20250114121056224.png" alt="image-20250114121056224"></p><p><img src="../image/资料分析/image-20250114121837721.png" alt="image-20250114121837721"></p><p><img src="../image/资料分析/image-20250114124110215.png" alt="image-20250114124110215"></p><p><img src="../image/资料分析/image-20250114142750505.png" alt="image-20250114142750505"></p><p> <img src="../image/资料分析/image-20250114145110811.png" alt="image-20250114145110811"></p><p><img src="../image/资料分析/image-20250114145659273.png" alt="image-20250114145659273"></p><h2 id="3、增长量计算和比较"><a href="#3、增长量计算和比较" class="headerlink" title="3、增长量计算和比较"></a>3、增长量计算和比较</h2><p><img src="../image/资料分析/image-20250114150206079.png" alt="image-20250114150206079"></p><h3 id="①增长量计算"><a href="#①增长量计算" class="headerlink" title="①增长量计算"></a>①增长量计算</h3><h4 id="题型一-1"><a href="#题型一-1" class="headerlink" title="题型一"></a>题型一</h4><p><img src="../image/资料分析/image-20250114150831961.png" alt="image-20250114150831961"></p><p><img src="../image/资料分析/image-20250114152633627.png" alt="image-20250114152633627"></p><p><img src="../image/资料分析/image-20250114154846726.png" alt="image-20250114154846726"></p><p><img src="../image/资料分析/image-20250114160741865.png" alt="image-20250114160741865"></p><h4 id="题型二-1"><a href="#题型二-1" class="headerlink" title="题型二"></a>题型二</h4><p><img src="../image/资料分析/image-20250114161316147.png" alt="image-20250114161316147"></p><p><img src="../image/资料分析/image-20250114161623404.png" alt="image-20250114161623404"></p><p><img src="../image/资料分析/image-20250114162354074.png" alt="image-20250114162354074"></p><p><img src="../image/资料分析/image-20250114162741730.png" alt="image-20250114162741730"></p><p><img src="../image/资料分析/image-20250114163221760.png" alt="image-20250114163221760"></p><p><img src="../image/资料分析/image-20250114164743583.png" alt="image-20250114164743583"></p><p><img src="../image/资料分析/image-20250114173227235.png" alt="image-20250114173227235"></p><p><img src="../image/资料分析/image-20250114173619167.png" alt="image-20250114173619167"></p><p><img src="../image/资料分析/image-20250114183249959.png" alt="image-20250114183249959"></p><p> <img src="../image/资料分析/image-20250114183807746.png" alt="image-20250114183807746"></p><p><img src="../image/资料分析/image-20250114185141127.png" alt="image-20250114185141127"></p><p><img src="../image/资料分析/image-20250114190212457.png" alt="image-20250114190212457"></p><p><img src="../image/资料分析/image-20250114190924442.png" alt="image-20250114190924442"></p><p><img src="../image/资料分析/image-20250114193404625.png" alt="image-20250114193404625"></p><p><img src="../image/资料分析/image-20250114193727933.png" alt="image-20250114193727933"></p><h3 id="②增长量比较"><a href="#②增长量比较" class="headerlink" title="②增长量比较"></a>②增长量比较</h3><h4 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h4><p><img src="../image/资料分析/image-20250114194523845.png" alt="image-20250114194523845"></p><p><img src="../image/资料分析/image-20250114194952702.png" alt="image-20250114194952702"></p><p><img src="../image/资料分析/image-20250114195807975.png" alt="image-20250114195807975"></p><h4 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h4><p><img src="../image/资料分析/image-20250114200616136.png" alt="image-20250114200616136"></p><p><img src="../image/资料分析/image-20250114201723453.png" alt="image-20250114201723453"></p><p>看分子和分母哪个增长的快（增长率超过百分百慎用）</p><p><img src="../image/资料分析/image-20250114203006827.png" alt="image-20250114203006827"></p><p><img src="../image/资料分析/image-20250114203726511.png" alt="image-20250114203726511"></p><p><img src="../image/资料分析/image-20250114204618923.png" alt="image-20250114204618923"></p><p><img src="../image/资料分析/image-20250114205555293.png" alt="image-20250114205555293"></p><p><img src="../image/资料分析/image-20250114210507292.png" alt="image-20250114210507292"></p><p><img src="../image/资料分析/image-20250114213144992.png" alt="image-20250114213144992"><img src="../image/资料分析/image-20250114211419736.png" alt="image-20250114211419736"></p><p><img src="../image/资料分析/image-20250114213046793.png" alt="image-20250114213046793"></p><h4 id="方法三、"><a href="#方法三、" class="headerlink" title="方法三、"></a>方法三、</h4><p><img src="../image/资料分析/image-20250116181011225.png" alt="image-20250116181011225"></p><h3 id="③增长量其他"><a href="#③增长量其他" class="headerlink" title="③增长量其他"></a>③增长量其他<img src="../image/资料分析/image-20250116181910222.png" alt="image-20250116181910222"></h3><p><img src="../image/资料分析/image-20250116182317817.png" alt="image-20250116182317817"></p><p><img src="../image/资料分析/image-20250116182749255.png" alt="image-20250116182749255"></p><p><img src="../image/资料分析/image-20250116184136333.png" alt="image-20250116184136333"></p><p><img src="../image/资料分析/image-20250116184538334.png" alt="image-20250116184538334"></p><p> <img src="../image/资料分析/image-20250116185836532.png" alt="image-20250116185836532"></p><p><img src="../image/资料分析/image-20250116190155987.png" alt="image-20250116190155987"></p><h2 id="4、现期比重和基期比重"><a href="#4、现期比重和基期比重" class="headerlink" title="4、现期比重和基期比重"></a>4、现期比重和基期比重</h2><h3 id="①现期比重"><a href="#①现期比重" class="headerlink" title="①现期比重"></a>①现期比重</h3><p><img src="../image/资料分析/image-20250116194519987.png" alt="image-20250116194519987"></p><p><img src="../image/资料分析/image-20250116195842574.png" alt="image-20250116195842574"></p><p><img src="../image/资料分析/image-20250116200813218.png" alt="image-20250116200813218"></p><p><img src="../image/资料分析/image-20250116200947600.png" alt="image-20250116200947600"></p><p><img src="../image/资料分析/image-20250117075639575.png" alt="image-20250117075639575"></p><p><img src="../image/资料分析/image-20250117080741436.png" alt="image-20250117080741436"></p><p><img src="../image/资料分析/image-20250117085444045.png" alt="image-20250117085444045"></p><p><img src="../image/资料分析/image-20250117085802577.png" alt="image-20250117085802577"></p><p><img src="../image/资料分析/image-20250117104849028.png" alt="image-20250117104849028"></p><h3 id="②基期比重"><a href="#②基期比重" class="headerlink" title="②基期比重"></a>②基期比重</h3><p><img src="../image/资料分析/image-20250117105913726.png" alt="image-20250117105913726"></p><p><img src="../image/资料分析/image-20250117113350501.png" alt="image-20250117113350501"></p><p><img src="../image/资料分析/image-20250117153502432.png" alt="image-20250117153502432"></p><p>第一：首先从选项中找到现期比重A/B</p><p>第二：判定（1+B%）/（1+A%）是大于1还是小于1，排除错误选项</p><p>第三：确定（1+B%）/（1+A%）的首位</p><p><img src="../image/资料分析/image-20250117155805648.png" alt="image-20250117155805648"></p><p><img src="../image/资料分析/image-20250117160658983.png" alt="image-20250117160658983"></p><p><img src="../image/资料分析/image-20250117161704511.png" alt="image-20250117161704511"></p><p><img src="../image/资料分析/image-20250117164841569.png" alt="image-20250117164841569"></p><p><img src="../image/资料分析/image-20250117174147293.png" alt="image-20250117174147293"></p><p><img src="../image/资料分析/image-20250117175149368.png" alt="image-20250117175149368"></p><p><img src="../image/资料分析/image-20250117181745162.png" alt="image-20250117181745162"></p><p><img src="../image/资料分析/image-20250117182027332.png" alt="image-20250117182027332"></p><h2 id="5、两期比重"><a href="#5、两期比重" class="headerlink" title="5、两期比重"></a>5、两期比重</h2><h3 id="①两期比重比较"><a href="#①两期比重比较" class="headerlink" title="①两期比重比较"></a>①两期比重比较</h3><p><img src="../image/资料分析/image-20250117185726595.png" alt="image-20250117185726595"></p><p> <img src="../image/资料分析/image-20250117195519220.png" alt="image-20250117195519220"></p><p><img src="../image/资料分析/image-20250117200607942.png" alt="image-20250117200607942"></p><p><img src="../image/资料分析/image-20250117201702117.png" alt="image-20250117201702117"></p><p><img src="../image/资料分析/image-20250117202821380.png" alt="image-20250117202821380"></p><p><img src="../image/资料分析/image-20250117203635909.png" alt="image-20250117203635909"></p><p><img src="../image/资料分析/image-20250118083458264.png" alt="image-20250118083458264"></p><p><img src="../image/资料分析/image-20250118084704470.png" alt="image-20250118084704470"></p><p><img src="../image/资料分析/image-20250118085738534.png" alt="image-20250118085738534"></p><p><img src="../image/资料分析/image-20250118102545271.png" alt="image-20250118102545271"></p><p><img src="../image/资料分析/image-20250118103650063.png" alt="image-20250118103650063"></p><h3 id="②两期比重差值"><a href="#②两期比重差值" class="headerlink" title="②两期比重差值"></a>②两期比重差值</h3><p><img src="../image/资料分析/image-20250118110118894.png" alt="image-20250118110118894"></p><p><img src="../image/资料分析/image-20250118110943639.png" alt="image-20250118110943639"></p><p><img src="../image/资料分析/image-20250118111617887.png" alt="image-20250118111617887"></p><p><img src="../image/资料分析/image-20250118112348735.png" alt="image-20250118112348735"></p><p><img src="../image/资料分析/image-20250118112854452.png" alt="image-20250118112854452"></p><p><img src="../image/资料分析/image-20250118113510660.png" alt="image-20250118113510660"></p><p><img src="../image/资料分析/image-20250118115303019.png" alt="image-20250118115303019"></p><p><img src="../image/资料分析/image-20250118120628058.png" alt="image-20250118120628058"></p><p><img src="../image/资料分析/image-20250118120959977.png" alt="image-20250118120959977"></p><h2 id="6、混合增长率（☆☆☆☆☆）"><a href="#6、混合增长率（☆☆☆☆☆）" class="headerlink" title="6、混合增长率（☆☆☆☆☆）"></a>6、混合增长率（☆☆☆☆☆）</h2><p><strong>第一：若A=B（基期量），则和的增长率为二者增长率的平均数</strong></p><p><strong>第二：和的增长率越靠近基期量大的增长率</strong></p><p><strong>第三：若rA=rB=r，则和的增长率一定为r（混合之后增长率不变）</strong></p><p><strong>以上结论和备注同样适合比例问题、浓度问题、平均分问题</strong></p><p><img src="../image/资料分析/image-20250118130929404.png" alt="image-20250118130929404"></p><p><strong>两大应用：</strong></p><p><strong>①：已知A、B的增长率、比例、浓度、平均分，求C的增长率、比例、浓度、平均分</strong></p><p><strong>②：已知B、C的增长率、比例、浓度、平均分，求A的增长率、比例、浓度、平均分</strong></p><p><img src="../image/资料分析/image-20250118162113511.png" alt="image-20250118162113511"></p><p><img src="../image/资料分析/image-20250118163157996.png" alt="image-20250118163157996"></p><p><img src="../image/资料分析/image-20250118170332125.png" alt="image-20250118170332125"></p><p><img src="../image/资料分析/image-20250118172042026.png" alt="image-20250118172042026"></p><p><img src="../image/资料分析/image-20250118173207840.png" alt="image-20250118173207840"></p><p><img src="../image/资料分析/image-20250118175137735.png" alt="image-20250118175137735"></p><p><img src="../image/资料分析/image-20250118182638248.png" alt="image-20250118182638248"></p><p><img src="../image/资料分析/image-20250118183152865.png" alt="image-20250118183152865"></p><p><img src="../image/资料分析/image-20250118184207684.png" alt="image-20250118184207684"></p><p><img src="../image/资料分析/image-20250118194049665.png" alt="image-20250118194049665"></p><p><img src="../image/资料分析/image-20250118194422178.png" alt="image-20250118194422178"></p><h1 id="四、分析方法"><a href="#四、分析方法" class="headerlink" title="四、分析方法"></a>四、分析方法</h1><h2 id="1、估算法"><a href="#1、估算法" class="headerlink" title="1、估算法"></a>1、估算法</h2><p><img src="../image/资料分析/image-20250119084934517.png" alt="image-20250119084934517"></p><p><img src="../image/资料分析/image-20250119103135744.png" alt="image-20250119103135744"></p><p><img src="../image/资料分析/image-20250119103609894.png" alt="image-20250119103609894"></p><p><img src="../image/资料分析/image-20250119105509291.png" alt="image-20250119105509291"></p><p><img src="../image/资料分析/image-20250119111434197.png" alt="image-20250119111434197"></p><p><img src="../image/资料分析/image-20250119123926936.png" alt="image-20250119123926936"></p><p><img src="../image/资料分析/image-20250119142607520.png" alt="image-20250119142607520"></p><p><img src="../image/资料分析/image-20250119165725587.png" alt="image-20250119165725587"></p><p><img src="../image/资料分析/image-20250119171003467.png" alt="image-20250119171003467"></p><p><img src="../image/资料分析/image-20250119172127701.png" alt="image-20250119172127701"></p><p><img src="../image/资料分析/image-20250119175432256.png" alt="image-20250119175432256"></p><p><img src="../image/资料分析/image-20250120081021816.png" alt="image-20250120081021816"></p><h2 id="2、直除法"><a href="#2、直除法" class="headerlink" title="2、直除法"></a>2、直除法</h2><p><img src="../image/资料分析/image-20250120082259623.png" alt="image-20250120082259623"></p><p><img src="../image/资料分析/image-20250120084256978.png" alt="image-20250120084256978"></p><p><img src="../image/资料分析/image-20250120085926491.png" alt="image-20250120085926491"></p><p><img src="../image/资料分析/image-20250120091307982.png" alt="image-20250120091307982"></p><p><img src="../image/资料分析/image-20250120092821291.png" alt="image-20250120092821291"></p><p><img src="../image/资料分析/image-20250120100258033.png" alt="image-20250120100258033"><img src="../image/资料分析/image-20250120100216124.png" alt="image-20250120100216124"></p><p><img src="../image/资料分析/image-20250120100557726.png" alt="image-20250120100557726"></p><p><img src="../image/资料分析/image-20250120101943611.png" alt="image-20250120101943611"></p><p><img src="../image/资料分析/image-20250120110555907.png" alt="image-20250120110555907"></p><p><img src="../image/资料分析/image-20250120111023294.png" alt="image-20250120111023294"></p><p><img src="../image/资料分析/image-20250120112133196.png" alt="image-20250120112133196"></p><p><img src="../image/资料分析/image-20250120112646959.png" alt="image-20250120112646959"></p><p><img src="../image/资料分析/image-20250120113029520.png" alt="image-20250120113029520"></p><p><img src="../image/资料分析/image-20250120113623190.png" alt="image-20250120113623190"></p><p><img src="../image/资料分析/image-20250120115056850.png" alt="image-20250120115056850"></p><p><img src="../image/资料分析/image-20250120162946065.png" alt="image-20250120162946065"></p><h2 id="3、截位法、尾数法"><a href="#3、截位法、尾数法" class="headerlink" title="3、截位法、尾数法"></a>3、截位法、尾数法</h2><p> <img src="../image/资料分析/image-20250120163146742.png" alt="image-20250120163146742"></p><h3 id="①截位法"><a href="#①截位法" class="headerlink" title="①截位法"></a>①截位法<img src="../image/资料分析/image-20250120164056375.png" alt="image-20250120164056375"></h3><p><img src="../image/资料分析/image-20250120164957787.png" alt="image-20250120164957787"></p><p><img src="../image/资料分析/image-20250120165545760.png" alt="image-20250120165545760"></p><p><img src="../image/资料分析/image-20250120171821889.png" alt="image-20250120171821889"></p><p><img src="../image/资料分析/image-20250120172414508.png" alt="image-20250120172414508"></p><p><img src="../image/资料分析/image-20250120173827208.png" alt="image-20250120173827208"></p><p><img src="../image/资料分析/image-20250120174444289.png" alt="image-20250120174444289"></p><p><img src="../image/资料分析/image-20250120182958712.png" alt="image-20250120182958712"></p><h3 id="②尾数法"><a href="#②尾数法" class="headerlink" title="②尾数法"></a>②尾数法</h3><p><img src="../image/资料分析/image-20250120183740043.png" alt="image-20250120183740043"></p><p><img src="../image/资料分析/image-20250121075138054.png" alt="image-20250121075138054"></p><p><img src="../image/资料分析/image-20250121075817812.png" alt="image-20250121075817812"></p><p><img src="../image/资料分析/image-20250121081307540.png" alt="image-20250121081307540"></p><p><img src="../image/资料分析/image-20250121081837956.png" alt="image-20250121081837956"></p><p><img src="../image/资料分析/image-20250121084239706.png" alt="image-20250121084239706"></p><h2 id="4、差分法、化同法"><a href="#4、差分法、化同法" class="headerlink" title="4、差分法、化同法"></a>4、差分法、化同法</h2><p><img src="../image/资料分析/image-20250121090539474.png" alt="image-20250121090539474"></p><p>差分法分为三步：<br>第一步：首先计算出差分数并将其放在大分数一侧<br>第二步：用差分数和小分数作比较<br>第三步：差分数的大小就代表着大分数的大小</p><p><img src="../image/资料分析/image-20250121092036003.png" alt="image-20250121092036003"></p><p><img src="../image/资料分析/image-20250121092658933.png" alt="image-20250121092658933"></p><p><img src="../image/资料分析/image-20250121093150739.png" alt="image-20250121093150739"></p><p><img src="../image/资料分析/image-20250121094001894.png" alt="image-20250121094001894"></p><p> <img src="../image/资料分析/image-20250121094552690.png" alt="image-20250121094552690"></p><p><img src="../image/资料分析/image-20250121095333997.png" alt="image-20250121095333997"></p><p><img src="../image/资料分析/image-20250121095611224.png" alt="image-20250121095611224"></p><p><img src="../image/资料分析/image-20250121101540298.png" alt="image-20250121101540298"></p><p><img src="../image/资料分析/image-20250121102720016.png" alt="image-20250121102720016"></p><p><img src="../image/资料分析/image-20250121104820819.png" alt="image-20250121104820819"></p><p><img src="../image/资料分析/image-20250121113010714.png" alt="image-20250121113010714"></p><p><img src="../image/资料分析/image-20250121122817932.png" alt="image-20250121122817932"></p><p><img src="../image/资料分析/image-20250121125618472.png" alt="image-20250121125618472"></p><p><img src="../image/资料分析/image-20250121133819682.png" alt="image-20250121133819682"></p><p><img src="../image/资料分析/image-20250121140703282.png" alt="image-20250121140703282"></p><p><img src="../image/资料分析/image-20250121143621667.png" alt="image-20250121143621667"></p><p><img src="../image/资料分析/image-20250121151504915.png" alt="image-20250121151504915"></p><p><img src="../image/资料分析/image-20250121152832049.png" alt="image-20250121152832049"></p><p><img src="../image/资料分析/image-20250121154314521.png" alt="image-20250121154314521"></p><h2 id="5、放缩法、凑整法"><a href="#5、放缩法、凑整法" class="headerlink" title="5、放缩法、凑整法"></a>5、放缩法、凑整法</h2><p><img src="../image/资料分析/image-20250121182342024.png" alt="image-20250121182342024"></p><p><img src="../image/资料分析/image-20250121182529690.png" alt="image-20250121182529690"></p><p><img src="../image/资料分析/image-20250121190930378.png" alt="image-20250121190930378"><img src="../image/资料分析/image-20250121190905937.png" alt="image-20250121190905937"></p><p><img src="../image/资料分析/image-20250121211000966.png" alt="image-20250121211000966"></p><p><img src="../image/资料分析/image-20250121211434037.png" alt="image-20250121211434037"></p><p><img src="../image/资料分析/image-20250121212313086.png" alt="image-20250121212313086"></p><p> <img src="../image/资料分析/image-20250122084719519.png" alt="image-20250122084719519"></p><p><img src="../image/资料分析/image-20250122092123642.png" alt="image-20250122092123642"></p><p><img src="../image/资料分析/image-20250122095437632.png" alt="image-20250122095437632"></p><p><img src="../image/资料分析/image-20250122100704750.png" alt="image-20250122100704750"></p><p><img src="../image/资料分析/image-20250122101743033.png" alt="image-20250122101743033"></p><h2 id="6、图形法"><a href="#6、图形法" class="headerlink" title="6、图形法"></a>6、图形法</h2><p><img src="../image/资料分析/image-20250122102055006.png" alt="image-20250122102055006"></p><p><img src="../image/资料分析/image-20250122102331461.png" alt="image-20250122102331461"></p><p><img src="../image/资料分析/image-20250122102648470.png" alt="image-20250122102648470"></p><p><img src="../image/资料分析/image-20250122162657887.png" alt="image-20250122162657887"></p><p><img src="../image/资料分析/image-20250122163417990.png" alt="image-20250122163417990"></p><p><img src="../image/资料分析/image-20250122164118703.png" alt="image-20250122164118703"></p><p><img src="../image/资料分析/image-20250122164325826.png" alt="image-20250122164325826"></p><p><img src="../image/资料分析/image-20250122165619817.png" alt="image-20250122165619817"></p><p><img src="../image/资料分析/image-20250122170038252.png" alt="image-20250122170038252">            </p><p><img src="../image/资料分析/image-20250122172550240.png" alt="image-20250122172550240"></p><p><img src="../image/资料分析/image-20250122192042826.png" alt="image-20250122192042826"></p><p><img src="../image/资料分析/image-20250122193356534.png" alt="image-20250122193356534"></p><p><img src="../image/资料分析/image-20250122194641389.png" alt="image-20250122194641389"></p><p><img src="../image/资料分析/image-20250122201752087.png" alt="image-20250122201752087"></p><p><img src="../image/资料分析/image-20250122202424133.png" alt="image-20250122202424133"></p><p><img src="../image/资料分析/image-20250122203027322.png" alt="image-20250122203027322"></p><p><img src="../image/资料分析/image-20250122203402576.png" alt="image-20250122203402576"></p><p><img src="../image/资料分析/image-20250122203830364.png" alt="image-20250122203830364"></p><p><img src="../image/资料分析/image-20250122204017957.png" alt="image-20250122204017957"></p><h2 id="7、综合法"><a href="#7、综合法" class="headerlink" title="7、综合法"></a>7、综合法</h2><h3 id="①平均数"><a href="#①平均数" class="headerlink" title="①平均数"></a>①平均数</h3><p><img src="../image/资料分析/image-20250123191906733.png" alt="image-20250123191906733"></p><p><img src="../image/资料分析/image-20250123202924161.png" alt="image-20250123202924161"></p><h3 id="②相同互补型两数乘积"><a href="#②相同互补型两数乘积" class="headerlink" title="②相同互补型两数乘积"></a>②相同互补型两数乘积</h3><p><img src="../image/资料分析/image-20250123203956035.png" alt="image-20250123203956035"></p><h3 id="③首位是1的两位数乘积"><a href="#③首位是1的两位数乘积" class="headerlink" title="③首位是1的两位数乘积"></a>③首位是1的两位数乘积</h3><p><img src="../image/资料分析/image-20250123205220036.png" alt="image-20250123205220036"></p><h3 id="④尾数是1的两位数乘积"><a href="#④尾数是1的两位数乘积" class="headerlink" title="④尾数是1的两位数乘积"></a>④尾数是1的两位数乘积</h3><p><img src="../image/资料分析/image-20250123212307433.png" alt="image-20250123212307433"></p><h3 id="⑤任意两位数成绩"><a href="#⑤任意两位数成绩" class="headerlink" title="⑤任意两位数成绩"></a>⑤任意两位数成绩</h3><p><img src="../image/资料分析/image-20250123211739364.png" alt="image-20250123211739364"></p><p><img src="../image/资料分析/image-20250123212716428.png" alt="image-20250123212716428"></p><h3 id="⑥减半相加"><a href="#⑥减半相加" class="headerlink" title="⑥减半相加"></a>⑥减半相加</h3><p><img src="../image/资料分析/image-20250123213109129.png" alt="image-20250123213109129"></p><h3 id="⑦错位相加"><a href="#⑦错位相加" class="headerlink" title="⑦错位相加"></a>⑦错位相加</h3><p><img src="../image/资料分析/image-20250123213418689.png" alt="image-20250123213418689"></p><p><img src="../image/资料分析/image-20250123214617763.png" alt="image-20250123214617763"></p><p><img src="../image/资料分析/image-20250124092009131.png" alt="image-20250124092009131"></p><p><img src="../image/资料分析/image-20250124100653584.png" alt="image-20250124100653584"></p><p><img src="../image/资料分析/image-20250124101940568.png" alt="image-20250124101940568"></p><p><img src="../image/资料分析/image-20250124111501400.png" alt="image-20250124111501400"></p><p><img src="../image/资料分析/image-20250124112210116.png" alt="image-20250124112210116"></p><p><img src="../image/资料分析/image-20250124114404548.png" alt="image-20250124114404548"></p><p><img src="../image/资料分析/image-20250124123906091.png" alt="image-20250124123906091"></p><h1 id="五、核心要点"><a href="#五、核心要点" class="headerlink" title="五、核心要点"></a>五、核心要点</h1><h2 id="1、时间要点"><a href="#1、时间要点" class="headerlink" title="1、时间要点"></a>1、时间要点</h2><p><img src="../image/资料分析/image-20250124125536059.png" alt="image-20250124125536059"></p><p><img src="../image/资料分析/image-20250124130253441.png" alt="image-20250124130253441"></p><p><img src="../image/资料分析/image-20250124152557101.png" alt="image-20250124152557101"></p><p><img src="../image/资料分析/image-20250124153341472.png" alt="image-20250124153341472"></p><p><img src="../image/资料分析/image-20250124165835355.png" alt="image-20250124165835355"></p><p><img src="../image/资料分析/image-20250126102945142.png" alt="image-20250126102945142"></p><h2 id="2、单位要点"><a href="#2、单位要点" class="headerlink" title="2、单位要点"></a>2、单位要点</h2><p><img src="../image/资料分析/image-20250126103030437.png" alt="image-20250126103030437"></p><p><img src="../image/资料分析/image-20250126103344642.png" alt="image-20250126103344642"></p><p><img src="../image/资料分析/image-20250126104933760.png" alt="image-20250126104933760"></p><p><img src="../image/资料分析/image-20250126105925173.png" alt="image-20250126105925173"></p><h2 id="3、表述要点"><a href="#3、表述要点" class="headerlink" title="3、表述要点"></a>3、表述要点</h2><h3 id="①增长多少、增长快慢"><a href="#①增长多少、增长快慢" class="headerlink" title="①增长多少、增长快慢"></a>①增长多少、增长快慢</h3><p><img src="../image/资料分析/image-20250126110053579.png" alt="image-20250126110053579"></p><p><img src="../image/资料分析/image-20250126110927245.png" alt="image-20250126110927245"></p><p><img src="../image/资料分析/image-20250126111201583.png" alt="image-20250126111201583"></p><h3 id="②不超过、不低于"><a href="#②不超过、不低于" class="headerlink" title="②不超过、不低于"></a>②不超过、不低于</h3><p><img src="../image/资料分析/image-20250126111615027.png" alt="image-20250126111615027"></p><p><img src="../image/资料分析/image-20250126111823233.png" alt="image-20250126111823233"></p><p><img src="../image/资料分析/image-20250126111924275.png" alt="image-20250126111924275"></p><h3 id="③约、近、余"><a href="#③约、近、余" class="headerlink" title="③约、近、余"></a>③约、近、余</h3><p><img src="../image/资料分析/image-20250126112144217.png" alt="image-20250126112144217"></p><p><img src="../image/资料分析/image-20250126120249991.png" alt="image-20250126120249991"></p><p><img src="../image/资料分析/image-20250126121138725.png" alt="image-20250126121138725"></p><h3 id="④增长要点"><a href="#④增长要点" class="headerlink" title="④增长要点"></a>④增长要点</h3><p><img src="../image/资料分析/image-20250126121644236.png" alt="image-20250126121644236"></p><p><img src="../image/资料分析/image-20250126121944649.png" alt="image-20250126121944649"></p><p><img src="../image/资料分析/image-20250126122441308.png" alt="image-20250126122441308"></p><p><img src="../image/资料分析/image-20250126122815536.png" alt="image-20250126122815536"></p><h1 id="六、真题演练"><a href="#六、真题演练" class="headerlink" title="六、真题演练"></a>六、真题演练</h1><h2 id="1、2021国考"><a href="#1、2021国考" class="headerlink" title="1、2021国考"></a>1、2021国考</h2><p><img src="../image/资料分析/image-20250126151422955.png" alt="image-20250126151422955"></p><p><img src="../image/资料分析/image-20250126152658851.png" alt="image-20250126152658851"></p><p><img src="../image/资料分析/image-20250126153937398.png" alt="image-20250126153937398"></p><p><img src="../image/资料分析/image-20250126161836897.png" alt="image-20250126161836897"></p><p><img src="../image/资料分析/image-20250126162911946.png" alt="image-20250126162911946"></p><p><img src="../image/资料分析/image-20250126164548772.png" alt="image-20250126164548772"></p><p><img src="../image/资料分析/image-20250126165912249.png" alt="image-20250126165912249"></p><p><img src="../image/资料分析/image-20250126170157176.png" alt="image-20250126170157176"></p><p><img src="../image/资料分析/image-20250127131943924.png" alt="image-20250127131943924"></p><p><img src="../image/资料分析/image-20250127132909894.png" alt="image-20250127132909894"></p><p><img src="../image/资料分析/image-20250127134117793.png" alt="image-20250127134117793"></p><p><img src="../image/资料分析/image-20250127134700390.png" alt="image-20250127134700390"></p><p><img src="../image/资料分析/image-20250127135232055.png" alt="image-20250127135232055"></p><p><img src="../image/资料分析/image-20250127140054436.png" alt="image-20250127140054436"></p><p><img src="../image/资料分析/image-20250127140312420.png" alt="image-20250127140312420"></p><p><img src="../image/资料分析/image-20250127141154542.png" alt="image-20250127141154542"></p><h2 id="2、2021省考"><a href="#2、2021省考" class="headerlink" title="2、2021省考"></a>2、2021省考</h2><p><img src="../image/资料分析/image-20250127141702174.png" alt="image-20250127141702174"></p><p><img src="../image/资料分析/image-20250127142229769.png" alt="image-20250127142229769"></p><p><img src="../image/资料分析/image-20250127143717933.png" alt="image-20250127143717933"></p><p><img src="../image/资料分析/image-20250127143758949.png" alt="image-20250127143758949"></p><p><img src="../image/资料分析/image-20250127144910428.png" alt="image-20250127144910428"></p><p><img src="../image/资料分析/image-20250127145821301.png" alt="image-20250127145821301"></p><p><img src="../image/资料分析/image-20250127150141094.png" alt="image-20250127150141094"></p><p><img src="../image/资料分析/image-20250127150343072.png" alt="image-20250127150343072"></p><p><img src="../image/资料分析/image-20250127154718000.png" alt="image-20250127154718000"></p><p><img src="../image/资料分析/image-20250127155536113.png" alt="image-20250127155536113"></p><p><img src="../image/资料分析/image-20250127160359822.png" alt="image-20250127160359822"></p><p><img src="../image/资料分析/image-20250127161118937.png" alt="image-20250127161118937"></p><p><img src="../image/资料分析/image-20250127161601420.png" alt="image-20250127161601420"></p><p><img src="../image/资料分析/image-20250127162312456.png" alt="image-20250127162312456"></p><p><img src="../image/资料分析/image-20250127163059473.png" alt="image-20250127163059473"></p>]]></content>
      
      
      <categories>
          
          <category> 国家公务员考试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资料分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数量关系</title>
      <link href="/posts/444092dd.html"/>
      <url>/posts/444092dd.html</url>
      
        <content type="html"><![CDATA[<p><img src="../image/·数量关系/image-20241214090755187.png" alt="image-20241214090755187"></p><h1 id="一、倍数特性"><a href="#一、倍数特性" class="headerlink" title="一、倍数特性"></a>一、倍数特性</h1><p><img src="../image/·数量关系/image-20241214092723468.png" alt="image-20241214092723468"></p><h2 id="1、倍数特性四大应用"><a href="#1、倍数特性四大应用" class="headerlink" title="1、倍数特性四大应用"></a>1、倍数特性四大应用</h2><h3 id="①当条件出现比例"><a href="#①当条件出现比例" class="headerlink" title="①当条件出现比例"></a>①当条件出现比例</h3><p><img src="../image/·数量关系/image-20241231162626580.png" alt="image-20241214094359165"></p><p><img src="../image/·数量关系/image-20241214100111363.png" alt="image-20241214100111363"></p><p><img src="../image/·数量关系/image-20241214101045217.png" alt="image-20241214101045217"></p><p><img src="../image/·数量关系/image-20241214102448703.png" alt="image-20241214102448703"></p><p><img src="../image/·数量关系/image-20241214104021514.png" alt="image-20241214104021514"></p><p><img src="../image/·数量关系/image-20241214104224448.png" alt="image-20241214104224448"></p><p><img src="../image/·数量关系/image-20241214104925707.png" alt="image-20241214104925707"></p><pre><code>   ![image-20241214105247357](../image/·数量关系/image-20241214105247357.png)</code></pre><p><img src="../image/·数量关系/image-20241214105527753.png" alt="image-20241214105527753"></p><p><img src="../image/·数量关系/image-20241214110221090.png" alt="image-20241214110221090"></p><p><img src="../image/·数量关系/image-20241214110747156.png" alt="image-20241214110747156"></p><p><img src="../image/·数量关系/image-20241214112230961.png" alt="image-20241214112230961"></p><p><img src="../image/·数量关系/image-20241214112417404.png" alt="image-20241214112417404"></p><p><img src="../image/·数量关系/image-20241214113334100.png" alt="image-20241214113334100"></p><p><img src="../image/·数量关系/image-20241214113814358.png" alt="image-20241214113814358"></p><h3 id="②当条件出现分数"><a href="#②当条件出现分数" class="headerlink" title="②当条件出现分数"></a>②当条件出现分数</h3><p><img src="../image/·数量关系/image-20241214114515760.png" alt="image-20241214114515760"></p><p> <img src="../image/·数量关系/image-20241214133023548.png" alt="image-20241214133023548"></p><p><img src="../image/·数量关系/image-20241214134239662.png" alt="image-20241214134239662"></p><p><img src="../image/·数量关系/image-20241214135026835.png" alt="image-20241214135026835"></p><p><img src="../image/·数量关系/image-20241214135741485.png" alt="image-20241214135741485"></p><p><img src="../image/·数量关系/image-20241214140813615.png" alt="image-20241214140813615"></p><p><img src="../image/·数量关系/image-20241214141145262.png" alt="image-20241214141145262"></p><h3 id="③当条件中出现百分数"><a href="#③当条件中出现百分数" class="headerlink" title="③当条件中出现百分数"></a>③当条件中出现百分数</h3><p><img src="../image/·数量关系/image-20241214162854376.png" alt="image-20241214162854376"></p><p> <img src="../image/·数量关系/image-20241214163835371.png" alt="image-20241214163835371"></p><p><img src="../image/·数量关系/image-20241214164433185.png" alt="image-20241214164433185"></p><p> <img src="../image/·数量关系/image-20241214165158771.png" alt="image-20241214165158771"></p><p><img src="../image/·数量关系/image-20241214171345240.png" alt="image-20241214171345240"></p><p><img src="../image/·数量关系/image-20241214171758137.png" alt="image-20241214171758137"></p><h3 id="④当条件中出现倍数"><a href="#④当条件中出现倍数" class="headerlink" title="④当条件中出现倍数"></a>④当条件中出现倍数</h3><p><img src="../image/·数量关系/image-20241214172206062.png" alt=""></p><p><img src="../image/·数量关系/image-20241214173718410.png" alt="image-20241214173718410"></p><p><img src="../image/·数量关系/image-20241214180506929.png" alt="image-20241214180506929"></p><p><img src="../image/·数量关系/image-20241214180936413.png" alt="image-20241214180936413"></p><p><img src="../image/·数量关系/image-20241214182923251.png" alt="image-20241214182923251"></p><h1 id="二、余数特性"><a href="#二、余数特性" class="headerlink" title="二、余数特性"></a>二、余数特性</h1><h2 id="1、余数基本概念"><a href="#1、余数基本概念" class="headerlink" title="1、余数基本概念"></a>1、余数基本概念</h2><p><img src="../image/·数量关系/image-20241214184308583.png" alt="image-20241214184308583"></p><h2 id="2、余数基本运算"><a href="#2、余数基本运算" class="headerlink" title="2、余数基本运算"></a>2、余数基本运算</h2><p><img src="../image/·数量关系/image-20241214193855267.png" alt="image-20241214193855267"></p><h2 id="3、同余定理"><a href="#3、同余定理" class="headerlink" title="3、同余定理"></a>3、同余定理</h2><p><img src="../image/·数量关系/image-20241214194639007.png" alt="image-20241214194639007"></p><p><img src="../image/·数量关系/image-20241214195347098.png" alt="image-20241214195347098"></p><p><img src="../image/·数量关系/image-20241214202728171.png" alt="image-20241214202728171"></p><p><img src="../image/·数量关系/image-20241214203815393.png" alt="image-20241214203815393"></p><p><img src="../image/·数量关系/image-20241215151513726.png" alt="image-20241215151513726"></p><p><img src="../image/·数量关系/image-20241215152628682.png" alt="image-20241215152628682"></p><p><img src="../image/·数量关系/image-20241215152828274.png" alt="image-20241215152828274"></p><p><img src="../image/·数量关系/image-20241215153406696.png" alt="image-20241215153406696"></p><p><img src="../image/·数量关系/image-20241215154110492.png" alt="image-20241215154110492"></p><p><img src="../image/·数量关系/image-20241215155146107.png" alt="image-20241215155146107"></p><p><img src="../image/·数量关系/image-20241215160643359.png" alt="image-20241215160643359"></p><p><img src="../image/·数量关系/image-20241215160930006.png" alt="image-20241215160930006"></p><p><img src="../image/·数量关系/image-20241215163200984.png" alt="image-20241215163200984"></p><p><img src="../image/·数量关系/image-20241215165104160.png" alt="image-20241215165104160"></p><p><img src="../image/·数量关系/image-20241215165528368.png" alt="image-20241215165528368"></p><h1 id="三、方程问题"><a href="#三、方程问题" class="headerlink" title="三、方程问题"></a>三、方程问题</h1><p><img src="../image/·数量关系/image-20241215170734723.png" alt="image-20241215170734723"></p><p><img src="../image/·数量关系/image-20241215171436441.png" alt="image-20241215171436441"></p><p><img src="../image/·数量关系/image-20241215173957243.png" alt="image-20241215173957243"></p><p><img src="../image/·数量关系/image-20241215175059746.png" alt="image-20241215175059746"></p><p><img src="../image/·数量关系/image-20241215180141127.png" alt="image-20241215180141127"></p><p><img src="../image/·数量关系/image-20241215182039295.png" alt="image-20241215182039295"></p><p><img src="../image/·数量关系/image-20241215184018519.png" alt="image-20241215184018519"></p><p><img src="../image/·数量关系/image-20241215200358057.png" alt="image-20241215200358057"></p><p><img src="../image/·数量关系/image-20241215204342382.png" alt="image-20241215204342382"></p><p><img src="../image/·数量关系/image-20241215205753717.png" alt="image-20241215205753717"></p><p> <img src="../image/·数量关系/image-20241216093240207.png" alt="image-20241216093240207"></p><p><img src="../image/·数量关系/image-20241216094617228.png" alt="image-20241216094617228"></p><p><img src="../image/·数量关系/image-20241216094810937.png" alt="image-20241216094810937"></p><h1 id="四、不定方程"><a href="#四、不定方程" class="headerlink" title="四、不定方程"></a>四、不定方程</h1><h2 id="1、一个方程"><a href="#1、一个方程" class="headerlink" title="1、一个方程"></a>1、一个方程</h2><p><img src="../image/·数量关系/image-20241216095911757.png" alt="image-20241216095911757"></p><p><img src="../image/·数量关系/image-20241216100946361.png" alt="image-20241216100946361"></p><p><img src="../image/·数量关系/image-20241216102807938.png" alt="image-20241216102807938"></p><p><img src="../image/·数量关系/image-20241216103128264.png" alt="image-20241216103128264"></p><p><img src="../image/·数量关系/image-20241216104231124.png" alt="image-20241216104231124"></p><p><img src="../image/·数量关系/image-20241216104533333.png" alt="image-20241216104533333"></p><p><img src="../image/·数量关系/image-20241216114338378.png" alt="image-20241216114338378"></p><h2 id="2、两个方程"><a href="#2、两个方程" class="headerlink" title="2、两个方程"></a>2、两个方程</h2><p><img src="../image/·数量关系/image-20241216152721828.png" alt="image-20241216152721828"></p><p><img src="../image/·数量关系/image-20241216153726234.png" alt="image-20241216153726234"> </p><p><img src="../image/·数量关系/image-20241216154915217.png" alt="image-20241216154915217"></p><p><img src="../image/·数量关系/image-20241216155728613.png" alt="image-20241216155728613"></p><p><img src="../image/·数量关系/image-20241216160823345.png" alt="image-20241216160823345"></p><p><img src="../image/·数量关系/image-20241216161545927.png" alt="image-20241216161545927"></p><p> <img src="../image/·数量关系/image-20241216161833973.png" alt="image-20241216161833973"></p><p><img src="../image/·数量关系/image-20241216161947758.png" alt="image-20241216161947758"></p><h1 id="五、浓度问题"><a href="#五、浓度问题" class="headerlink" title="五、浓度问题"></a>五、浓度问题</h1><p><img src="../image/·数量关系/image-20241216162652813.png" alt="image-20241216162652813"></p><h2 id="1、定义法"><a href="#1、定义法" class="headerlink" title="1、定义法"></a>1、定义法</h2><p><img src="../image/·数量关系/image-20241216162855877.png" alt="image-20241216162855877"></p><p><img src="../image/·数量关系/image-20241216164203507.png" alt="image-20241216164203507"></p><p> <img src="../image/·数量关系/image-20241216164740261.png" alt="image-20241216164740261"></p><p><img src="../image/·数量关系/image-20241216170342712.png" alt="image-20241216170342712"></p><p><img src="../image/·数量关系/image-20241216173618278.png" alt="image-20241216173618278"></p><h2 id="2、公式法"><a href="#2、公式法" class="headerlink" title="2、公式法"></a>2、公式法</h2><p><img src="../image/·数量关系/image-20241216172212234.png" alt="image-20241216172212234"> </p><p><img src="../image/·数量关系/image-20241216173529752.png" alt="image-20241216173529752"></p><p><img src="../image/·数量关系/image-20241216173940877.png" alt="image-20241216173940877"></p><p><img src="../image/·数量关系/image-20241216174541991.png" alt="image-20241216174541991"></p><p><img src="../image/·数量关系/image-20241216175701227.png" alt="image-20241216175701227"></p><h2 id="3、特值法"><a href="#3、特值法" class="headerlink" title="3、特值法"></a>3、特值法</h2><p><img src="../image/·数量关系/image-20241216175805564.png" alt="image-20241216175805564"></p><p><img src="../image/·数量关系/image-20241216180707586.png" alt="image-20241216180707586"></p><p><img src="../image/·数量关系/image-20241216181103038.png" alt="image-20241216181103038"></p><p><img src="../image/·数量关系/image-20241216181634375.png" alt="image-20241216181634375"></p><h1 id="六、集合问题"><a href="#六、集合问题" class="headerlink" title="六、集合问题"></a>六、集合问题</h1><h2 id="1、双集合问题"><a href="#1、双集合问题" class="headerlink" title="1、双集合问题"></a>1、双集合问题</h2><p><img src="../image/·数量关系/image-20241216190409063.png" alt="image-20241216190409063"></p><p><img src="../image/·数量关系/image-20241216191037072.png" alt="image-20241216191037072"></p><p><img src="../image/·数量关系/image-20241216192211970.png" alt="image-20241216192211970"></p><p><img src="../image/·数量关系/image-20241216193706132.png" alt="image-20241216193706132"></p><h2 id="2、三集合问题"><a href="#2、三集合问题" class="headerlink" title="2、三集合问题"></a>2、三集合问题</h2><p><img src="../image/·数量关系/image-20241216194955532.png" alt="image-20241216194955532"></p><p><img src="../image/·数量关系/image-20241216195540055.png" alt="image-20241216195540055"></p><p><img src="../image/·数量关系/image-20241216200659428.png" alt="image-20241216200659428"></p><p><img src="../image/·数量关系/image-20241216201215663.png" alt="image-20241216201215663"></p><p><img src="../image/·数量关系/image-20241216202436148.png" alt="image-20241216202436148"></p><p><img src="../image/·数量关系/image-20241216204029223.png" alt="image-20241216204029223"></p><p><img src="../image/·数量关系/image-20241216204627380.png" alt="image-20241216204627380"></p><h2 id="3、类集合问题"><a href="#3、类集合问题" class="headerlink" title="3、类集合问题"></a>3、类集合问题</h2><p><img src="../image/·数量关系/image-20241216205714578.png" alt="image-20241216205714578"></p><p><img src="../image/·数量关系/image-20241216205844317.png" alt="image-20241216205844317"></p><p><img src="../image/·数量关系/image-20241216210010113.png" alt="image-20241216210010113"></p><h1 id="七、最值问题"><a href="#七、最值问题" class="headerlink" title="七、最值问题"></a>七、最值问题</h1><p><img src="../image/·数量关系/image-20241216211022991.png" alt="image-20241216211022991"></p><p><img src="../image/·数量关系/image-20241216211212029.png" alt="image-20241216211212029"></p><p><img src="../image/·数量关系/image-20241216211342359.png" alt="image-20241216211342359"></p><p><img src="../image/·数量关系/image-20241216212628535.png" alt="image-20241216212628535"></p><p><img src="../image/·数量关系/image-20241216213231410.png" alt="image-20241216213231410"></p><p><img src="../image/·数量关系/image-20241216213506458.png" alt="image-20241216213506458"></p><p><img src="../image/·数量关系/image-20241216214244885.png" alt="image-20241216214244885"></p><p><img src="../image/·数量关系/image-20241217094411099.png" alt="image-20241217094411099"></p><p><img src="../image/·数量关系/image-20241217094954981.png" alt="image-20241217094954981"></p><p><img src="../image/·数量关系/image-20241217095800499.png" alt="image-20241217095800499"></p><p><img src="../image/·数量关系/image-20241217100731928.png" alt="image-20241217100731928"></p><p><img src="../image/·数量关系/image-20241217101852803.png" alt="image-20241217101852803"></p><p> <img src="../image/·数量关系/image-20241217103439104.png" alt="image-20241217103439104"></p><p><img src="../image/·数量关系/image-20241217103832622.png" alt="image-20241217103832622"></p><p><img src="../image/·数量关系/image-20241217104801242.png" alt="image-20241217104801242"></p><p><img src="../image/·数量关系/image-20241217105100381.png" alt="image-20241217105100381"></p><h1 id="八、抽屉原理"><a href="#八、抽屉原理" class="headerlink" title="八、抽屉原理"></a>八、抽屉原理</h1><p><img src="../image/·数量关系/image-20241217105748724.png" alt="image-20241217105748724"></p><p><img src="../image/·数量关系/image-20241217114502420.png" alt="image-20241217114502420"></p><p><img src="../image/·数量关系/image-20241217115113607.png" alt="image-20241217115113607"></p><p> <img src="../image/·数量关系/image-20241217120316667.png" alt="image-20241217120316667"></p><p><img src="../image/·数量关系/image-20241217132100108.png" alt="image-20241217132100108"></p><p> <img src="../image/·数量关系/image-20241217134042018.png" alt="image-20241217134042018"></p><h1 id="九、工程问题"><a href="#九、工程问题" class="headerlink" title="九、工程问题"></a>九、工程问题</h1><p><img src="../image/·数量关系/image-20241217154958658.png" alt="image-20241217154958658"></p><h2 id="1、条件给出工作时间"><a href="#1、条件给出工作时间" class="headerlink" title="1、条件给出工作时间"></a>1、条件给出工作时间</h2><p><img src="../image/·数量关系/image-20241217155242943.png" alt="image-20241217155242943"></p><p><img src="../image/·数量关系/image-20241217160050420.png" alt="image-20241217160050420"></p><p><img src="../image/·数量关系/image-20241217163411381.png" alt="image-20241217163411381"></p><p><img src="../image/·数量关系/image-20241217170904310.png" alt="image-20241217170904310"></p><p><img src="../image/·数量关系/image-20241217180318472.png" alt="image-20241217180318472"><img src="../image/·数量关系/image-20241217180150874.png" alt="image-20241217180150874"></p><p><img src="../image/·数量关系/image-20241217181455945.png" alt="image-20241217181455945"></p><h2 id="2、条件给出工作效率"><a href="#2、条件给出工作效率" class="headerlink" title="2、条件给出工作效率"></a>2、条件给出工作效率</h2><p><img src="../image/·数量关系/image-20241217182648748.png" alt="image-20241217182648748"></p><p><img src="../image/·数量关系/image-20241217183841068.png" alt="image-20241217183841068"></p><p><img src="../image/·数量关系/image-20241217184814208.png" alt="image-20241217184814208"></p><p><img src="../image/·数量关系/image-20241217185502721.png" alt="image-20241217185502721"></p><h1 id="十、行程问题"><a href="#十、行程问题" class="headerlink" title="十、行程问题"></a>十、行程问题</h1><h2 id="1、基础行程问题"><a href="#1、基础行程问题" class="headerlink" title="1、基础行程问题"></a>1、基础行程问题</h2><p><img src="../image/·数量关系/image-20241217214234350.png" alt="image-20241217214234350"></p><p><img src="../image/·数量关系/image-20241218095508473.png" alt="image-20241218095508473"></p><p><img src="../image/·数量关系/image-20241218100529247.png" alt="image-20241218100529247"></p><p><img src="../image/·数量关系/image-20241218101742850.png" alt="image-20241218101742850"></p><p><img src="../image/·数量关系/image-20241218103504833.png" alt="image-20241218103504833"></p><h2 id="2、平均速度问题"><a href="#2、平均速度问题" class="headerlink" title="2、平均速度问题"></a>2、平均速度问题</h2><p><img src="../image/·数量关系/image-20241218103856675.png" alt="image-20241218103856675"></p><p><img src="../image/·数量关系/image-20241218104309106.png" alt="image-20241218104309106"></p><p><img src="../image/·数量关系/image-20241218110559884.png" alt="image-20241218110559884"></p><p><img src="../image/·数量关系/image-20241218112153359.png" alt="image-20241218112153359"></p><p><img src="../image/·数量关系/image-20241218114256570.png" alt="image-20241218114256570"></p><h2 id="3、相对速度问题"><a href="#3、相对速度问题" class="headerlink" title="3、相对速度问题"></a>3、相对速度问题</h2><p><img src="../image/·数量关系/image-20241218115342046.png" alt="image-20241218115342046"></p><p><img src="../image/·数量关系/image-20241218115952585.png" alt="image-20241218115952585"></p><p><img src="../image/·数量关系/image-20241218120311016.png" alt="image-20241218120311016"></p><p><img src="../image/·数量关系/image-20241218121325278.png" alt="image-20241218121325278"></p><p><img src="../image/·数量关系/image-20241218121919376.png" alt="image-20241218121919376"></p><p> <img src="../image/·数量关系/image-20241218122603589.png" alt="image-20241218122603589"></p><p><img src="../image/·数量关系/image-20241218124659630.png" alt="image-20241218124659630"></p><h1 id="十一、周期问题"><a href="#十一、周期问题" class="headerlink" title="十一、周期问题"></a>十一、周期问题</h1><p><img src="../image/·数量关系/image-20241218161011039.png" alt="image-20241218161011039"></p><p><img src="../image/·数量关系/image-20241218162101564.png" alt="image-20241218162101564"></p><p><img src="../image/·数量关系/image-20241218174613443.png" alt="image-20241218174613443"></p><p><img src="../image/·数量关系/image-20241218180802723.png" alt="image-20241218180802723"></p><p><img src="../image/·数量关系/image-20241218183047866.png" alt="image-20241218183047866"></p><p><img src="../image/·数量关系/image-20241218184108506.png" alt="image-20241218184108506"></p><p><img src="../image/·数量关系/image-20241218190622002.png" alt="image-20241218190622002"></p><h1 id="十二、利润问题"><a href="#十二、利润问题" class="headerlink" title="十二、利润问题"></a>十二、利润问题</h1><p><img src="../image/·数量关系/image-20241219101504189.png" alt="image-20241219101504189"></p><p><img src="../image/·数量关系/image-20241219101940827.png" alt="image-20241219101940827"></p><p><img src="../image/·数量关系/image-20241219103204248.png" alt="image-20241219103204248"></p><p><img src="../image/·数量关系/image-20241219125807416.png" alt="image-20241219125807416"></p><p><img src="../image/·数量关系/image-20241219130011442.png" alt="image-20241219130011442"></p><p><img src="../image/·数量关系/image-20241219131048063.png" alt="image-20241219131048063"></p><p><img src="../image/·数量关系/image-20241219192453785.png" alt="image-20241219192453785"></p><p><img src="../image/·数量关系/image-20241219194700103.png" alt="image-20241219194700103"></p><p><img src="../image/·数量关系/image-20241220170502333.png" alt="image-20241220170502333"></p><p><img src="../image/·数量关系/image-20241222164427237.png" alt="image-20241222164427237"></p><p><img src="../image/·数量关系/image-20241222170149556.png" alt="image-20241222170149556"></p><p><img src="../image/·数量关系/image-20241222173149994.png" alt="image-20241222173149994"></p><p><img src="../image/·数量关系/image-20241222180029817.png" alt="image-20241222180029817"></p><h1 id="十三、年龄问题"><a href="#十三、年龄问题" class="headerlink" title="十三、年龄问题"></a>十三、年龄问题</h1><p><img src="../image/·数量关系/image-20241222183153910.png" alt="image-20241222183153910"></p><p><img src="../image/·数量关系/image-20241222183231279.png" alt="image-20241222183231279"></p><p><img src="../image/·数量关系/image-20241222191000767.png" alt="image-20241222191000767"></p><p><img src="../image/·数量关系/image-20241222193710637.png" alt="image-20241222193710637"></p><p><img src="../image/·数量关系/image-20241222195142944.png" alt="image-20241222195142944"></p><p><img src="../image/·数量关系/image-20241222195547172.png" alt="image-20241222195547172"><br><img src="../image/·数量关系/image-20241222204124143.png" alt="image-20241222204124143"><img src="../image/·数量关系/image-20241222203744058.png" alt="image-20241222203744058"></p><h1 id="十四、边端问题"><a href="#十四、边端问题" class="headerlink" title="十四、边端问题"></a>十四、边端问题</h1><h2 id="1、植树问题"><a href="#1、植树问题" class="headerlink" title="1、植树问题"></a>1、植树问题</h2><h3 id="①线性植树"><a href="#①线性植树" class="headerlink" title="①线性植树"></a>①线性植树</h3><p><img src="../image/·数量关系/image-20241222211604546.png" alt="image-20241222211604546"></p><h3 id="②环形植树"><a href="#②环形植树" class="headerlink" title="②环形植树"></a>②环形植树</h3><p><img src="../image/·数量关系/image-20241222213014971.png" alt="image-20241222213014971"></p><h3 id="③楼间植树"><a href="#③楼间植树" class="headerlink" title="③楼间植树"></a>③楼间植树</h3><p><img src="../image/·数量关系/image-20241222214911322.png" alt="image-20241222214911322"></p><p><img src="../image/·数量关系/image-20241223115244867.png" alt="image-20241223115244867"></p><p><img src="../image/·数量关系/image-20241229105326391.png" alt="image-20241229105326391"></p><p><img src="../image/·数量关系/image-20241229105818971.png" alt="image-20241229105818971"></p><p><img src="../image/·数量关系/image-20241229111407611.png" alt="image-20241229111407611"></p><h2 id="2、方阵问题"><a href="#2、方阵问题" class="headerlink" title="2、方阵问题"></a>2、方阵问题</h2><p><img src="../image/·数量关系/image-20241229112400737.png" alt="image-20241229112400737"></p><p>方阵的外层比里层每层每边多两人<br>方阵的外层比相邻里层共多8人<br><img src="../image/·数量关系/image-20241229113009438.png" alt="image-20241229113009438"></p><p><img src="../image/·数量关系/image-20241229113425628.png" alt="image-20241229113425628"></p><p><img src="../image/·数量关系/image-20241229113704465.png" alt="image-20241229113704465"></p><p><img src="../image/·数量关系/image-20241229114915831.png" alt="image-20241229114915831"></p><p><img src="../image/·数量关系/image-20241229115952159.png" alt="image-20241229115952159"></p><p><img src="../image/·数量关系/image-20241229120605104.png" alt="image-20241229120605104"></p><p><img src="../image/·数量关系/image-20241229121350434.png" alt="image-20241229121350434"></p><p><img src="../image/·数量关系/image-20241229122029878.png" alt="image-20241229122029878"></p><h1 id="十五、排列组合"><a href="#十五、排列组合" class="headerlink" title="十五、排列组合"></a>十五、排列组合</h1><h2 id="1、分类分步"><a href="#1、分类分步" class="headerlink" title="1、分类分步"></a>1、分类分步</h2><p><img src="../image/·数量关系/image-20241229162358866.png" alt="image-20241229162358866"></p><p><img src="../image/·数量关系/image-20241229171333901.png" alt="image-20241229171333901"></p><p><img src="../image/·数量关系/image-20241229172657049.png" alt="image-20241229172657049"></p><p><img src="../image/·数量关系/image-20241229172839973.png" alt="image-20241229172839973"></p><p><img src="../image/·数量关系/image-20241229174036501.png" alt="image-20241229174036501"></p><p><img src="../image/·数量关系/image-20241229175538331.png" alt="image-20241229175538331"></p><p><img src="../image/·数量关系/image-20241229180131657.png" alt="image-20241229180131657"></p><h2 id="2、排列组合"><a href="#2、排列组合" class="headerlink" title="2、排列组合"></a>2、排列组合</h2><div class="table-container"><table><thead><tr><th><strong>主题</strong></th><th><strong>内容</strong></th></tr></thead><tbody><tr><td><strong>基本概念</strong></td><td><strong>排列</strong>：从 n 个不同元素中取出 m 个元素，按一定的顺序排列，顺序不同即为不同排列。</td></tr><tr><td></td><td><strong>组合</strong>：从 n 个不同元素中取出 m 个元素，顺序无关，元素相同即为相同组合。</td></tr><tr><td><strong>符号表示</strong></td><td>排列：( A(n, m) ) 或 ( P(n, m) )，组合：( C(n, m) ) 或 ( \binom{n}{m} )。</td></tr><tr><td><strong>公式</strong></td><td>- 排列公式：( A(n, m) = \frac{n!}{(n-m)!} )，其中 ( n! = n \times (n-1) \times \cdots \times 1 )。</td></tr><tr><td></td><td>- 组合公式：( C(n, m) = \frac{n!}{m!(n-m)!} )。</td></tr><tr><td></td><td>- 排列与组合关系：( A(n, m) = C(n, m) \times m! )。</td></tr><tr><td><strong>特殊情况</strong></td><td>- ( m = n )：排列数 ( A(n, n) = n! )，组合数 ( C(n, n) = 1 )。</td></tr><tr><td></td><td>- ( m = 0 )：排列数 ( A(n, 0) = 1 )，组合数 ( C(n, 0) = 1 )。</td></tr><tr><td><strong>性质</strong></td><td>- ( C(n, m) = C(n, n-m) )，即选出 m 个和剩下 ( n-m ) 个是等价的。</td></tr><tr><td></td><td>- 组合递推公式：( C(n, m) = C(n-1, m) + C(n-1, m-1) )。</td></tr><tr><td></td><td>- 排列与组合数均为整数。</td></tr><tr><td><strong>扩展公式</strong></td><td>- <strong>带重复元素的排列</strong>：如果从 n 种元素中，每种元素可以重复选取，总排列数为 ( n^m )。</td></tr><tr><td></td><td>- <strong>带重复元素的组合</strong>：从 n 种元素中，每种元素可以重复选取，总组合数为 ( C(n+m-1, m) )。</td></tr><tr><td></td><td>- <strong>环形排列</strong>：将 n 个元素排成一圈时，独立排列数为 ( (n-1)! )。</td></tr><tr><td></td><td>- <strong>捆绑元素</strong>：将特定多个元素视为整体，共同参与排列或组合。</td></tr><tr><td><strong>常见应用</strong></td><td>- 排列问题：人员座次安排、数字密码排列、比赛顺序安排等。</td></tr><tr><td></td><td>- 组合问题：团队分组选择、抽奖中奖情况、选择搭配问题等。</td></tr><tr><td><strong>简化技巧</strong></td><td>- <strong>固定元素法</strong>：固定某一位置的元素减少可能性。例如：第一个位置固定为 A 的情况。</td></tr><tr><td></td><td>- <strong>捆绑法</strong>：某些元素总是同时出现，例如某两人总在一起排列，可视为一个“整体”排列。</td></tr><tr><td></td><td>- <strong>排除法</strong>：用全排列总数减去不符合条件的情况。例如不包含某元素的情况。</td></tr><tr><td><strong>工具使用</strong></td><td>计算器上的 nPr 表示排列数，nCr 表示组合数，可快速计算常见的排列或组合结果。</td></tr><tr><td><strong>实际案例</strong></td><td><strong>排列案例</strong>：</td></tr><tr><td></td><td>- 比如从 5 个人中选 3 人站成一排，共有 ( A(5, 3) = \frac{5!}{(5-3)!} = 60 ) 种不同站法。</td></tr><tr><td></td><td><strong>组合案例</strong>：</td></tr><tr><td></td><td>- 比如从 8 名候选人中选择 4 人参加比赛，顺序不重要，则共有 ( C(8, 4) = \frac{8!}{4!(8-4)!} = 70 ) 种组合。</td></tr><tr><td></td><td><strong>综合案例</strong>：</td></tr><tr><td></td><td>- 一个队列中有 10 人，3 名作为领导，7 名作为工作人员，总共有 ( C(10, 3) \times C(7, 2) ) 种分配方案。</td></tr><tr><td><strong>练习题</strong></td><td>1. 从 10 本书中选出 4 本分配给两个学生，每个学生 2 本，共有几种分配方案？</td></tr><tr><td></td><td>2. 一场比赛有 5 队参与，排定前三名顺序有几种可能？</td></tr><tr><td></td><td>3. 从 12 个候选人中挑选 5 名组队，共有多少种方法？</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th><strong>题目</strong></th><th><strong>解答与结果</strong></th></tr></thead><tbody><tr><td><strong>1. 从 10 本书中选出 4 本分配给两个学生，每个学生 2 本，共有几种分配方案？</strong></td><td><strong>解答</strong>：先从 10 本书中选择 4 本，共有 ( C(10, 4) ) 种方法；再将这 4 本书分给两名学生，每人 2 本，共有 ( C(4, 2) \times C(2, 2) ) 种方法。总方案数为：<br></td></tr><tr><td></td><td>( C(10, 4) \times C(4, 2) = \frac{10!}{4!(10-4)!} \times \frac{4!}{2! \cdot 2!} = 210 \times 6 = 1260 ) 种。</td></tr><tr><td><strong>2. 一场比赛有 5 队参与，排定前三名顺序有几种可能？</strong></td><td><strong>解答</strong>：从 5 支队伍中选择 3 支进行排列，共有 ( A(5, 3) ) 种排列：<br></td></tr><tr><td></td><td>( A(5, 3) = \frac{5!}{(5-3)!} = \frac{5 \times 4 \times 3 \times 2!}{2!} = 60 ) 种。</td></tr><tr><td><strong>3. 从 12 个候选人中挑选 5 名组队，共有多少种方法？</strong></td><td><strong>解答</strong>：从 12 人中选择 5 人，不考虑顺序，共有 ( C(12, 5) ) 种组合：<br></td></tr><tr><td></td><td>( C(12, 5) = \frac{12!}{5!(12-5)!} = \frac{12 \times 11 \times 10 \times 9 \times 8}{5 \times 4 \times 3 \times 2 \times 1} = 792 ) 种。</td></tr><tr><td><strong>4. 从 6 个相同苹果和 4 个不同橙子中，选择 3 个水果，能分为多少种情况？</strong></td><td><strong>解答</strong>：需分成两种情况讨论：<br></td></tr><tr><td></td><td>(1) 全部是橙子，从 4 个不同橙子中选 3 个，方法为 ( C(4, 3) = 4 )。</td></tr><tr><td></td><td>(2) 含有苹果，选择 1 个苹果和 2 个橙子的情况，方法为 ( C(4, 2) = 6 )。<br></td></tr><tr><td></td><td>总方法数：( 4 + 6 = 10 ) 种。</td></tr><tr><td><strong>5. 在一队 8 人中，其中包含 2 位领导，随机从中选 4 人组成小组，要求至少 1 名是领导，有多少种方法？</strong></td><td><strong>解答</strong>：总方案减去没有领导的方案：<br></td></tr><tr><td></td><td>- 总方法数：( C(8, 4) = 70 )。<br></td></tr><tr><td></td><td>- 没有领导的情况，从剩余 6 人中选 4 人，方法为 ( C(6, 4) = 15 )。</td></tr><tr><td></td><td>有领导的情况方法数：( 70 - 15 = 55 ) 种。</td></tr></tbody></table></div><p><img src="../image/·数量关系/image-20241231100703405.png" alt="image-20241231100703405"></p><p><img src="../image/·数量关系/image-20241231100950816.png" alt="image-20241231100950816"></p><p><img src="../image/·数量关系/image-20241231101810138.png" alt="image-20241231101810138"></p><p><img src="../image/·数量关系/image-20241231102600193.png" alt="image-20241231102600193"></p><p><img src="../image/·数量关系/image-20241231104323935.png" alt="image-20241231104323935"></p><p><img src="../image/·数量关系/image-20241231105418062.png" alt="image-20241231105418062"></p><p><img src="../image/·数量关系/image-20241231110127108.png" alt="image-20241231110127108"></p><p><img src="../image/·数量关系/image-20241231111424132.png" alt="image-20241231111424132"></p><p><img src="../image/·数量关系/image-20241231112523786.png" alt="image-20241231112523786"></p><p><img src="../image/·数量关系/image-20241231155449948.png" alt="image-20241231155449948"></p><p><img src="../image/·数量关系/image-20241231161124730.png" alt="image-20241231161124730"></p><p><img src="../image/·数量关系/image-20241231161856274.png" alt="image-20241231161856274"></p><p><img src="../image/·数量关系/image-20241231162634372.png" alt="image-20241231162634372"></p><p><img src="../image/·数量关系/image-20241231164615092.png" alt="image-20241231164615092"></p><p><img src="../image/·数量关系/image-20241231170536410.png" alt="image-20241231170536410"></p><p><img src="../image/·数量关系/image-20241231172049618.png" alt="image-20241231172049618"></p><p><img src="../image/·数量关系/image-20241231174026980.png" alt="image-20241231174026980"></p><h1 id="十六、概率问题"><a href="#十六、概率问题" class="headerlink" title="十六、概率问题"></a>十六、概率问题</h1><h2 id="1、基础概率"><a href="#1、基础概率" class="headerlink" title="1、基础概率"></a>1、基础概率</h2><p><img src="../image/·数量关系/image-20250101093219542.png" alt="image-20250101093219542"></p><p><img src="../image/·数量关系/image-20250101094357993.png" alt="image-20250101094357993"></p><p><img src="../image/·数量关系/image-20250101095806220.png" alt="image-20250101095806220"></p><p><img src="../image/·数量关系/image-20250101100703983.png" alt="image-20250101100703983"></p><p><img src="../image/·数量关系/image-20250101103823067.png" alt="image-20250101103823067"></p><p><img src="../image/·数量关系/image-20250101104453858.png" alt="image-20250101104453858"></p><p><img src="../image/·数量关系/image-20250101114641674.png" alt="image-20250101114641674"></p><h2 id="2、分类概率、分步概率"><a href="#2、分类概率、分步概率" class="headerlink" title="2、分类概率、分步概率"></a>2、分类概率、分步概率</h2><p><img src="../image/·数量关系/image-20250101115152543.png" alt="image-20250101115152543"></p><p><img src="../image/·数量关系/image-20250101122439517.png" alt="image-20250101122439517"></p><p> <img src="../image/·数量关系/image-20250101123515346.png" alt="image-20250101123515346"></p><p><img src="../image/·数量关系/image-20250101124539454.png" alt="image-20250101124539454"></p><p><img src="../image/·数量关系/image-20250101132358122.png" alt="image-20250101132358122"></p><p><img src="../image/·数量关系/image-20250101134028814.png" alt="image-20250101134028814"></p><p><img src="../image/·数量关系/image-20250101161016313.png" alt="image-20250101161016313"></p><p><img src="../image/·数量关系/image-20250101162629484.png" alt="image-20250101162629484"></p><p><img src="../image/·数量关系/image-20250101170455774.png" alt="image-20250101170455774"></p><h1 id="十七、几何问题"><a href="#十七、几何问题" class="headerlink" title="十七、几何问题"></a>十七、几何问题</h1><p><img src="../image/·数量关系/image-20250101172308006.png" alt="image-20250101172308006"></p><p>  <img src="../image/·数量关系/image-20250101173055674.png" alt="image-20250101173055674"></p><p><img src="../image/·数量关系/image-20250101174544711.png" alt="image-20250101174544711"></p><p><img src="../image/·数量关系/image-20250101175024167.png" alt="image-20250101175024167"></p><p>​    <img src="../image/·数量关系/image-20250101180724115.png" alt="image-20250101180724115"></p><p><img src="../image/·数量关系/image-20250101185108979.png" alt="image-20250101185108979"></p><p><img src="../image/·数量关系/image-20250101185752427.png" alt="image-20250101185752427"></p><p><img src="../image/·数量关系/image-20250101204414087.png" alt="image-20250101204414087"></p><p><img src="../image/·数量关系/image-20250101210241224.png" alt="image-20250101210241224"></p><p><img src="../image/·数量关系/image-20250101214419393.png" alt="image-20250101214419393"></p><p><img src="../image/·数量关系/image-20250101220138958.png" alt="image-20250101220138958"></p><p><img src="../image/·数量关系/image-20250101220829917.png" alt="image-20250101220829917"></p><p><img src="../image/·数量关系/image-20250101224455925.png" alt="image-20250101224455925"></p><p><img src="../image/·数量关系/image-20250101231204112.png" alt="image-20250101231204112"></p><p><img src="../image/·数量关系/image-20250102103838699.png" alt="image-20250102103838699"></p><p><img src="../image/·数量关系/image-20250102104522661.png" alt="image-20250102104522661"></p><p><img src="../image/·数量关系/image-20250102105840302.png" alt="image-20250102105840302"></p><p><img src="../image/·数量关系/image-20250102111038511.png" alt="image-20250102111038511"></p>]]></content>
      
      
      <categories>
          
          <category> 国家公务员考试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数量关系 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>引脚</title>
      <link href="/posts/4026791c.html"/>
      <url>/posts/4026791c.html</url>
      
        <content type="html"><![CDATA[<h4 id="1、TCP351"><a href="#1、TCP351" class="headerlink" title="1、TCP351"></a>1、TCP351</h4><p><img src="../image/引脚/image-20241130144941519.png" alt="image-20241130144941519"></p><div class="table-container"><table><thead><tr><th>引脚号</th><th>名称</th><th>功能描述</th></tr></thead><tbody><tr><td>1</td><td>NC</td><td>无连接（Not Connected），通常留空，不使用。</td></tr><tr><td>2</td><td>Anode</td><td>输入端正极，引脚连接至内部发光二极管（LED）的正极。</td></tr><tr><td>3</td><td>Cathode</td><td>输入端负极，引脚连接至内部发光二极管（LED）的负极。</td></tr><tr><td>4</td><td>NC</td><td>无连接（Not Connected），通常留空，不使用。</td></tr><tr><td>5</td><td>GND</td><td>输出侧的接地（低电平参考点）。</td></tr><tr><td>6</td><td>Vo (output)</td><td>输出端，连接到驱动电路或负载的输入，提供输出信号。</td></tr><tr><td>7</td><td>NC</td><td>无连接（Not Connected），通常留空，不使用。</td></tr><tr><td>8</td><td>Vcc</td><td>输出侧电源正极，为输出驱动部分供电。</td></tr></tbody></table></div><p><img src="../image/引脚/673958c6990cd23349a48cc8fe00103b_720.jpg" alt="img"></p><h4 id="2、HCPL-7800（A7800）"><a href="#2、HCPL-7800（A7800）" class="headerlink" title="2、HCPL-7800（A7800）"></a>2、HCPL-7800（A7800）</h4><p><img src="../image/引脚/image-20241130165948269.png" alt="image-20241130165948269"></p><div class="table-container"><table><thead><tr><th>引脚号</th><th>名称</th><th>功能描述</th></tr></thead><tbody><tr><td>1</td><td>VDD1</td><td>输入侧电源正极，为输入电路（包括输入端的放大器和 LED 驱动器）提供工作电压，通常接到输入侧的电源。</td></tr><tr><td>2</td><td>VIN+</td><td>输入信号正端，用于接入差分输入信号的正极。它是输入信号的参考点之一。</td></tr><tr><td>3</td><td>VIN-</td><td>输入信号负端，用于接入差分输入信号的负极。通过与 VIN+ 形成差分输入信号，用以提升抗干扰能力。</td></tr><tr><td>4</td><td>GND1</td><td>输入侧接地端，用于提供输入侧的低电平参考点，通常连接到输入电路的接地。</td></tr><tr><td>5</td><td>GND2</td><td>输出侧接地端，用于提供输出侧的低电平参考点，与输入侧的 GND1 电气隔离，保障信号隔离特性。</td></tr><tr><td>6</td><td>VOUT-</td><td>输出信号负端，与 VOUT+ 一起构成差分输出信号，用于接到后续电路的负输入端。差分输出增强了抗干扰性能。</td></tr><tr><td>7</td><td>VOUT+</td><td>输出信号正端，与 VOUT- 一起构成差分输出信号，用于接到后续电路的正输入端。</td></tr><tr><td>8</td><td>VDD2</td><td>输出侧电源正极，为输出电路（包括输出放大器和反馈电路）提供工作电压，通常接到输出侧的电源。</td></tr></tbody></table></div><p><img src="../image/引脚/a6bf1068a34063bbcf61113e3d8c3b00_720.jpg" alt="img"></p><h4 id="3、HCPL-7860（A7860）"><a href="#3、HCPL-7860（A7860）" class="headerlink" title="3、HCPL-7860（A7860）"></a>3、HCPL-7860（A7860）</h4><p><img src="../image/引脚/image-20241130173110857.png" alt="image-20241130173110857"></p><div class="table-container"><table><thead><tr><th>引脚号</th><th>名称</th><th>功能描述</th></tr></thead><tbody><tr><td>1</td><td>VDD1</td><td>输入侧电源正极，供给光耦输入电路和驱动发光二极管（LED）的电源，通常接 +5V 电源。</td></tr><tr><td>2</td><td>VIN+</td><td>输入端正极，用于接收待测模拟信号的正极，与 VIN- 共同形成差分输入信号。</td></tr><tr><td>3</td><td>VIN-</td><td>输入端负极，用于接收待测模拟信号的负极，与 VIN+ 共同形成差分输入信号，增强抗噪能力。</td></tr><tr><td>4</td><td>VDD2</td><td>输出侧电源正极，为输出侧的光电检测器和放大电路供电，通常接 +5V 电源。</td></tr><tr><td>5</td><td>MCLK</td><td>主时钟信号输入引脚，用于控制 HCPL-7860 内部的时钟基准，用以支持可编程增益的操作。如果增益无需改变，时钟可以保持默认状态或来自外部时钟源。</td></tr><tr><td>6</td><td>MDAT</td><td>可编程增益数据引脚，用于传输增益设置信号。通过此引脚输入数据信号来配置增益值，实现高精度增益控制。</td></tr><tr><td>7</td><td>GND1</td><td>输入侧地，作为输入电路的参考电平，通常与系统地相连。</td></tr><tr><td>8</td><td>GND2</td><td>输出侧地，作为输出电路的参考电平，与输出信号共同定义参考点。</td></tr></tbody></table></div><p><img src="../image/引脚/3af8dd11539fd21735725b55ce8112b3_720.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 元器件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>万用表的使用</title>
      <link href="/posts/da0eeeef.html"/>
      <url>/posts/da0eeeef.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、万用表的分类及对比"><a href="#一、万用表的分类及对比" class="headerlink" title="一、万用表的分类及对比"></a>一、万用表的分类及对比</h1><h2 id="万用表的分类"><a href="#万用表的分类" class="headerlink" title="万用表的分类"></a>万用表的分类</h2><div class="table-container"><table><thead><tr><th>分类</th><th>描述</th></tr></thead><tbody><tr><td>模拟万用表</td><td>使用指针式表盘显示测量结果，通过机械结构指针指示数值。</td></tr><tr><td>数字万用表</td><td>采用液晶显示屏（LCD）显示测量结果，通常具有较高的精度和更多功能。</td></tr><tr><td>自动量程万用表</td><td>自动选择测量范围，无需手动调整，方便快捷。</td></tr><tr><td>手动量程万用表</td><td>需要用户手动调整测量范围，适合特定用途，价格相对较低。</td></tr><tr><td>专业级万用表</td><td>用于高精度和专业领域的万用表，通常具有多种高级功能（如数据记录、蓝牙连接）。</td></tr><tr><td>基础型万用表</td><td>功能简单，适合家庭或非专业人员使用，通常用于测量基本的电压、电流和电阻。</td></tr></tbody></table></div><hr><h2 id="不同类型万用表的对比"><a href="#不同类型万用表的对比" class="headerlink" title="不同类型万用表的对比"></a>不同类型万用表的对比</h2><div class="table-container"><table><thead><tr><th>特性</th><th>模拟万用表</th><th>数字万用表</th><th>自动量程万用表</th><th>手动量程万用表</th><th>专业级万用表</th><th>基础型万用表</th></tr></thead><tbody><tr><td><strong>显示方式</strong></td><td>指针式表盘</td><td>数字显示屏</td><td>数字显示屏</td><td>数字显示屏</td><td>数字显示屏</td><td>数字显示屏</td></tr><tr><td><strong>精度</strong></td><td>一般较低</td><td>一般较高</td><td>高</td><td>高</td><td>非常高</td><td>一般</td></tr><tr><td><strong>量程调整</strong></td><td>手动</td><td>手动/自动</td><td>自动</td><td>手动</td><td>自动</td><td>手动/自动</td></tr><tr><td><strong>操作难度</strong></td><td>较高，需要读取指针刻度</td><td>较低，直接读取数值</td><td>非常低</td><td>较低</td><td>较低</td><td>非常低</td></tr><tr><td><strong>功能扩展</strong></td><td>基本</td><td>基本到中级</td><td>中级</td><td>基本</td><td>高级（数据记录、蓝牙连接等）</td><td>基本</td></tr><tr><td><strong>价格</strong></td><td>较低</td><td>较高</td><td>中等</td><td>较低</td><td>较高</td><td>较低</td></tr><tr><td><strong>适用场景</strong></td><td>教学、基础电路测试</td><td>日常使用、电路维修</td><td>家庭、专业维修</td><td>特定测试用途</td><td>工业、科研、专业领域</td><td>日常基础测试</td></tr><tr><td><strong>耐用性</strong></td><td>较高</td><td>一般</td><td>一般</td><td>较高</td><td>较高</td><td>一般</td></tr><tr><td><strong>测量精确性</strong></td><td>受操作影响较大</td><td>不受人为误差影响</td><td>精确</td><td>精确</td><td>高精度</td><td>一般</td></tr></tbody></table></div><hr><h2 id="选择建议"><a href="#选择建议" class="headerlink" title="选择建议"></a>选择建议</h2><ul><li><strong>初学者或家庭用户</strong>：建议选择 <strong>基础型数字万用表</strong>，价格便宜且操作简单。</li><li><strong>电气维修人员</strong>：可以选择 <strong>自动量程数字万用表</strong>，方便快捷。</li><li><strong>工业或专业用户</strong>：推荐 <strong>专业级数字万用表</strong>，具有更多功能和更高精度。</li><li><strong>教学或训练</strong>：模拟万用表适合用来训练基本的电气测试技能。</li></ul><h1 id="二、万用表的接线方法"><a href="#二、万用表的接线方法" class="headerlink" title="二、万用表的接线方法"></a>二、万用表的接线方法</h1><h2 id="基本接线说明"><a href="#基本接线说明" class="headerlink" title="基本接线说明"></a>基本接线说明</h2><ol><li><p><strong>表笔接线</strong>：</p><ul><li><strong>黑表笔（COM端）</strong>：<ul><li>始终插入 <strong>COM（Common）接口</strong>，作为公共端或接地端。</li></ul></li><li><strong>红表笔</strong>：<ul><li>根据测量的类型插入相应的接口，例如：<ul><li>测量电压、电阻、二极管时：插入 <strong>VΩmA</strong> 或类似的接口。</li><li>测量大电流时：插入专用的 <strong>10A 或 20A</strong> 接口。</li></ul></li></ul></li></ul></li><li><p><strong>接口标注</strong>：</p><ul><li><strong>COM</strong>：公共端，连接黑表笔。</li><li><strong>V/Ω</strong>：测量电压、电阻、二极管等。</li><li><strong>mA</strong>：测量小电流（通常在 200mA 以下）。</li><li><strong>10A</strong> 或 <strong>20A</strong>：测量大电流（高于 200mA）。</li></ul></li></ol><hr><h2 id="不同测量模式的接线方法"><a href="#不同测量模式的接线方法" class="headerlink" title="不同测量模式的接线方法"></a>不同测量模式的接线方法</h2><h3 id="1-测量直流电压（DCV）或交流电压（ACV）"><a href="#1-测量直流电压（DCV）或交流电压（ACV）" class="headerlink" title="1. 测量直流电压（DCV）或交流电压（ACV）"></a>1. 测量直流电压（DCV）或交流电压（ACV）</h3><ul><li><strong>接线方法</strong>：<ul><li>黑表笔插入 <strong>COM</strong> 接口。</li><li>红表笔插入 <strong>VΩmA</strong> 接口。</li></ul></li><li><strong>注意事项</strong>：<ul><li>将万用表档位调整到合适的电压范围（DCV 或 ACV）。</li><li>测量时，表笔并联在电路中，切勿串联。</li></ul></li></ul><hr><h3 id="2-测量直流电流（DCA）或交流电流（ACA）"><a href="#2-测量直流电流（DCA）或交流电流（ACA）" class="headerlink" title="2. 测量直流电流（DCA）或交流电流（ACA）"></a>2. 测量直流电流（DCA）或交流电流（ACA）</h3><ul><li><strong>接线方法</strong>：<ul><li>黑表笔插入 <strong>COM</strong> 接口。</li><li>红表笔插入 <strong>mA</strong> 接口（小电流）或 <strong>10A</strong> 接口（大电流）。</li></ul></li><li><strong>注意事项</strong>：<ul><li>将万用表档位调整到合适的电流范围。</li><li>测量时，表笔 <strong>串联</strong> 在电路中。</li><li>确保电流值不超过万用表允许的最大电流，否则可能烧坏保险丝或万用表。</li></ul></li></ul><hr><h3 id="3-测量电阻"><a href="#3-测量电阻" class="headerlink" title="3. 测量电阻"></a>3. 测量电阻</h3><ul><li><strong>接线方法</strong>：<ul><li>黑表笔插入 <strong>COM</strong> 接口。</li><li>红表笔插入 <strong>VΩmA</strong> 接口。</li></ul></li><li><strong>注意事项</strong>：<ul><li>将万用表档位调整到 <strong>Ω</strong> 档位。</li><li>测量前，确保电路断电，否则可能损坏万用表。</li><li>测量电阻时，表笔并联接在待测电阻的两端。</li></ul></li></ul><hr><h3 id="4-测量二极管或通断性"><a href="#4-测量二极管或通断性" class="headerlink" title="4. 测量二极管或通断性"></a>4. 测量二极管或通断性</h3><ul><li><strong>接线方法</strong>：<ul><li>黑表笔插入 <strong>COM</strong> 接口。</li><li>红表笔插入 <strong>VΩmA</strong> 接口。</li></ul></li><li><strong>注意事项</strong>：<ul><li>将万用表档位调整到 <strong>二极管符号（或蜂鸣符号）</strong>。</li><li>表笔接触二极管的两端：<ul><li>正向导通时，会显示压降值（如 0.5~0.7V）。</li><li>反向时应显示 <strong>OL</strong> 或无导通。</li></ul></li><li>通断性测量时，电路导通会发出蜂鸣声。</li></ul></li></ul><hr><h3 id="5-测量电容"><a href="#5-测量电容" class="headerlink" title="5. 测量电容"></a>5. 测量电容</h3><ul><li><strong>接线方法</strong>：<ul><li>黑表笔插入 <strong>COM</strong> 接口。</li><li>红表笔插入电容测量专用接口（部分万用表）。</li></ul></li><li><strong>注意事项</strong>：<ul><li>万用表需具备电容测量功能。</li><li>测量前，确保电容已完全放电，否则可能损坏万用表。</li><li>表笔接触电容的两端即可。</li></ul></li></ul><hr><h2 id="接线注意事项"><a href="#接线注意事项" class="headerlink" title="接线注意事项"></a>接线注意事项</h2><ol><li><strong>档位选择</strong>：确保万用表档位与测量对象相匹配，否则可能测量不准确或损坏仪表。</li><li><strong>串联与并联</strong>：<ul><li>电压测量时：表笔并联在电路中。</li><li>电流测量时：表笔串联在电路中。</li></ul></li><li><strong>量程选择</strong>：测量前选择适当量程，无法判断时从最高档开始，逐步降低以避免损坏。</li><li><strong>高电压测量</strong>：测量高压时，请确保仪表和表笔的电压等级足够高，防止触电。</li><li><strong>检查表笔连接</strong>：使用前确保表笔连接牢固，避免误操作。</li></ol><hr><p>按照以上方法正确接线，可以保证测量安全、准确，同时保护万用表不被损坏。</p><h1 id="三、测量"><a href="#三、测量" class="headerlink" title="三、测量"></a>三、测量</h1><h2 id="1、电阻"><a href="#1、电阻" class="headerlink" title="1、电阻"></a>1、电阻</h2><p><img src="../image/万用表使用/image-20241128105607288.png" alt="image-20241128105607288"></p><h2 id="2、二极管"><a href="#2、二极管" class="headerlink" title="2、二极管"></a>2、二极管</h2><p><img src="../image/万用表使用/image-20241128142348197.png" alt="image-20241128142348197"></p><h2 id="3、电容"><a href="#3、电容" class="headerlink" title="3、电容"></a>3、电容</h2><p><img src="../image/万用表使用/image-20241128151605279.png" alt="image-20241128151605279"></p><h2 id="4、三极管"><a href="#4、三极管" class="headerlink" title="4、三极管"></a>4、三极管</h2><p><img src="../image/万用表使用/image-20241128152859253.png" alt="image-20241128152859253"></p><p><img src="../image/万用表使用/5952741fb52004930f2f9c3f047d7ae6.jpeg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 工具的使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 万用表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>精彩时刻</title>
      <link href="/posts/a483b97a.html"/>
      <url>/posts/a483b97a.html</url>
      
        <content type="html"><![CDATA[<p><strong>咿呀！</strong></p><video controls width="100%" height="auto">     <source src="../videos/001.mp4" type="video/mp4">     您的浏览器不支持视频播放，请升级浏览器。 </video>]]></content>
      
      
      <categories>
          
          <category> 游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>伺服驱动器</title>
      <link href="/posts/ee6694ba.html"/>
      <url>/posts/ee6694ba.html</url>
      
        <content type="html"><![CDATA[<p><strong>三相电源和单项电源的对比总结</strong></p><div class="table-container"><table><thead><tr><th><strong>特性</strong></th><th><strong>单相电源</strong></th><th><strong>三相电源</strong></th></tr></thead><tbody><tr><td><strong>电源结构</strong></td><td>由单根火线（L）和一根零线（N）构成</td><td>由三根火线（L1、L2、L3）和一根零线（N）构成</td></tr><tr><td><strong>电压</strong></td><td>一般为 220V（家庭用电）</td><td>一般为 380V（工业用电）</td></tr><tr><td><strong>输出波形</strong></td><td>单正弦波</td><td>三个相位差 120° 的正弦波</td></tr><tr><td><strong>功率输出</strong></td><td>功率相对较低</td><td>功率高，适合大功率设备</td></tr><tr><td><strong>能效</strong></td><td>传输效率低，功率损耗较大</td><td>传输效率高，功率损耗小</td></tr><tr><td><strong>供电稳定性</strong></td><td>电压波动较大，负载变化容易引起供电不稳定</td><td>电压波动较小，供电更稳定</td></tr><tr><td><strong>适用范围</strong></td><td>家庭照明、家用电器等低功率设备</td><td>工业设备、大功率电机、供电系统</td></tr><tr><td><strong>电机运行特性</strong></td><td>单相电机运行效率较低，启动困难，运行不平稳</td><td>三相电机运行效率高，启动容易，运行平稳</td></tr><tr><td><strong>线路复杂度</strong></td><td>线路简单，布线成本低</td><td>线路复杂，布线成本高</td></tr><tr><td><strong>接线方式</strong></td><td>一般为火线 + 零线</td><td>星形（Y 型）或三角形（Δ 型）接法</td></tr><tr><td><strong>电力传输损耗</strong></td><td>损耗较高，不适合长距离传输</td><td>损耗低，适合长距离传输</td></tr><tr><td><strong>设备成本</strong></td><td>用于单相电的设备成本低</td><td>用于三相电的设备成本较高</td></tr><tr><td><strong>应用场景</strong></td><td>日常生活用电、低功率负载</td><td>工业用电、建筑施工、工厂生产等高功率场景</td></tr></tbody></table></div><h1 id="1、台达伺服驱动器"><a href="#1、台达伺服驱动器" class="headerlink" title="1、台达伺服驱动器"></a>1、台达伺服驱动器</h1><iframe src="../pdf/A2R.pdf" width="100%" height="600"></iframe><p>ASD-A2-0721-L的维修</p><p><img src="../image/伺服驱动器/image-20241108152343984.png" alt="image-20241108152343984"></p><p><img src="../image/伺服驱动器/image-20241108152533724.png" alt="image-20241108152533724"></p><p><img src="../image/伺服驱动器/image-20241108152631185.png" alt="image-20241108152631185"><br><img src="../image/伺服驱动器/image-20241108153217365.png" alt="image-20241108153217365"><br><img src="../image/伺服驱动器/image-20241108153438521.png" alt="image-20241108153438521"><br><img src="../image/伺服驱动器/image-20241108153614082.png" alt="image-20241108153614082"></p><p><img src="../image/伺服驱动器/image-20241108153640848.png" alt="image-20241108153640848"></p><h2 id="驱动器异警一览表"><a href="#驱动器异警一览表" class="headerlink" title="驱动器异警一览表"></a>驱动器异警一览表</h2><div class="table-container"><table><thead><tr><th>异警表示</th><th>异警名称</th><th>异警动作内容</th><th>指示DO</th><th>伺服状态切换</th></tr></thead><tbody><tr><td>AL001</td><td>过电流</td><td>主回路电流值超越电机瞬间最大电流值 1.5 倍时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL002</td><td>过电压</td><td>主回路电压值高于规格值时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL003</td><td>低电压</td><td>主回路电压值低于规格电压时动作</td><td>WARN</td><td>Servo Off</td></tr><tr><td>AL004</td><td>电机匹配异常</td><td>驱动器所对应的电机不对</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL005</td><td>回生错误</td><td>回生错误时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL006</td><td>过负荷</td><td>电机及驱动器过负荷时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL007</td><td>过速度</td><td>电机控制速度超过正常速度过大时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL008</td><td>异常脉冲控制命令</td><td>脉冲命令的输入频率超过硬件接口容许值时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL009</td><td>位置控制误差过大</td><td>位置控制误差量大于设定容许值时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL011</td><td>位置检出器异常</td><td>位置检出器产生脉冲信号异常时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL012</td><td>校正异常</td><td>执行电气校正时校正值超越容许值时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL013</td><td>紧急停止</td><td>紧急按钮按下时动作</td><td>WARN</td><td>Servo Off</td></tr><tr><td>AL014</td><td>反向极限异常</td><td>逆向极限开关被按下时动作</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL015</td><td>正向极限异常</td><td>正向极限开关被按下时动作</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL016</td><td>IGBT 过热</td><td>IGBT 温度过高时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL017</td><td>参数内存异常</td><td>内存（EE-PROM）存取异常时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL018</td><td>检出器输出异常</td><td>检出器输出高于额定输出频率</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL019</td><td>串行通讯异常</td><td>RS-485 通讯异常时动作</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL020</td><td>串行通讯逾时</td><td>RS-485 通讯逾时时动作</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL022</td><td>主回路电源缺相</td><td>主回路电源缺仅单相输入</td><td>WARN</td><td>Servo Off</td></tr><tr><td>AL023</td><td>预先过负载警告</td><td>预先过负载警告</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL024</td><td>编码器初始磁场错误</td><td>编码器磁场位置 UVW 错误</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL025</td><td>编码器内部错误</td><td>编码器内部存储器异常，内部计数器异常</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL026</td><td>编码器内部数据可靠度错误</td><td>内部数据连续三次异常</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL027</td><td>编码器内部重置错误</td><td>编码器芯片异常重置</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL030</td><td>电机碰撞错误</td><td>当电机撞击硬设备，达到 P1-57 的扭矩设定在经过 P1-58 的设定时间</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL031</td><td>电机 U,V, W 接线错误</td><td>电机 Power Line U,V,W,GND 接线错误</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL033</td><td>转接盒 26PIN 端断线</td><td>转接盒 26PIN 端(电机端 encoder)断线</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL035</td><td>电机温度错误</td><td>电机温度过高</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL040</td><td>全闭环位置控制误差过大</td><td>全闭环位置控制误差过大异常</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL041</td><td>CN5 断线</td><td>CN5 断线</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL044</td><td>驱动器功能使用率警告</td><td>驱动器功能使用率警告</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL050</td><td>电机参数自动侦测结束</td><td>当电机执行 PM-01 电机参数自动侦测的功能时，电机参数自动侦测结束时，即会显示此异警</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL051</td><td>电机参数自动侦测错误</td><td>当电机执行 PM-01 电机参数自动侦测的功能期间，当摩擦力过大，电机卡住，解析、极距输入错误过大时，即显示此异警</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL052</td><td>初始磁场侦测错误</td><td>当电机 PM-03.Y=0 时，上电磁场会自动侦测，当找不到磁场时，即显示此异警</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL053</td><td>电机参数未确认</td><td>在 PM-02=0 的情况下，电机 SERVO ON 即跳此异警</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL054</td><td>电机参数范围超出</td><td>线马与旋转式电机的参数范围很多地方不同，当电机型式 PM-00，做切换时，如果有参数因为型式切换所造成的范围超出，及显示此错误。</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL055</td><td>电机磁场异常</td><td>当开启 PM-09 的 Y 项时，伺服会侦测电机目前所在磁场位置与霍尔组件的磁场位置做比对，当两个位置相差太多时，即会跳此异警。</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL057</td><td>回授脉冲遗失</td><td>当开启 P2-81=1 时，会检查脉冲是否遗失，当脉冲遗失超出 P2-82 的数值时，即跳此异警。</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL058</td><td>上电初始磁场侦测位置误差过大</td><td>上电初始磁场侦测期间，会检查位置误差是否有超出理论范围值，当超出时即跳此异警。</td><td>ALM</td><td>Servo Off</td></tr><tr><td>AL067</td><td>电机温度警告</td><td>电机温度将过热</td><td>WARN</td><td>Servo On</td></tr><tr><td>AL099</td><td>DSP 韧体升级</td><td>韧体版本升级后，尚未执行 EE-PROM 重整，执行 P2-08＝30，28 后重新送电即可。</td><td>ALM</td><td>Servo Off</td></tr></tbody></table></div><h2 id="异警原因与处置"><a href="#异警原因与处置" class="headerlink" title="异警原因与处置"></a>异警原因与处置</h2><div class="table-container"><table><thead><tr><th>错误代码</th><th>异警原因</th><th>异警检查</th><th>异警处置</th></tr></thead><tbody><tr><td>AL001</td><td>过电流</td><td>驱动器输出短路、IGBT异常、控制参数设定异常</td><td>检查电机接线，送修或调整控制命令，恢复默认值再修正</td></tr><tr><td>AL002</td><td>过电压</td><td>主回路输入电压过高、电源输入错误、驱动器硬件故障</td><td>检查电压源，使用正确电压或送修</td></tr><tr><td>AL003</td><td>低电压</td><td>主回路电压不足或无电源、电源输入错误</td><td>检查接线及电源开关，确保电压源正确</td></tr><tr><td>AL004</td><td>电机匹配错误</td><td>位置检出器损坏、位置检出器松脱、电机匹配错误</td><td>检查及更换电机、安装位置检出器</td></tr><tr><td>AL005</td><td>回生错误</td><td>回生电阻错误、参数设置错误</td><td>重新连接回生电阻，设定回生电阻容量参数</td></tr><tr><td>AL006</td><td>过负荷</td><td>负载超额、控制系统参数错误</td><td>提高电机容量、调整控制参数、检查接线或更换电机</td></tr><tr><td>AL007</td><td>过速度</td><td>速度输入命令变动剧烈、过速度参数设定不当</td><td>调整输入信号变动率、设定过速度参数</td></tr><tr><td>AL008</td><td>异常脉冲控制命令</td><td>输入频率过高</td><td>正确设定输入脉冲频率</td></tr><tr><td>AL009</td><td>位置控制误差过大</td><td>最大位置误差参数设定小、增益设定小、扭矩限制低</td><td>增大误差参数、调整增益、调整扭矩限制</td></tr><tr><td>AL011</td><td>位置检出器异常</td><td>检出器接线错误、松脱或损坏</td><td>检查接线，重新连接或更换电机</td></tr><tr><td>AL012</td><td>校正异常</td><td>模拟输入无正确归零、检测组件损坏</td><td>重新接地，若不正常则送修</td></tr><tr><td>AL013</td><td>紧急停止</td><td>紧急停止开关按下</td><td>开启紧急停止开关</td></tr><tr><td>AL014</td><td>反向运动极限异常</td><td>反向极限开关按下、伺服系统稳定性不够</td><td>开启开关，重新评估控制参数或电机容量</td></tr><tr><td>AL015</td><td>正向运动极限异常</td><td>正向极限开关按下、伺服系统稳定性不够</td><td>开启开关，重新评估控制参数或电机容量</td></tr><tr><td>AL016</td><td>IGBT 过热</td><td>负载过大、驱动器输出短路</td><td>检查接线或调整电机容量</td></tr><tr><td>AL017</td><td>内存异常</td><td>参数资料写入异常、隐藏参数异常、ROM 损坏</td><td>检查参数范围，重置 DI：ARST 清除</td></tr><tr><td>AL018</td><td>检出器输出异常</td><td>编码器错误、输出脉冲超限</td><td>依照相关流程处理编码器错误，设定 P1-76 与 P1-46</td></tr><tr><td>AL019</td><td>串行通讯异常</td><td>通讯参数错误、地址错误、数值错误</td><td>检查并正确设定通讯参数、地址和数值</td></tr><tr><td>AL020</td><td>串行通讯逾时</td><td>逾时参数设定不当、未接收命令</td><td>确保通讯线连接良好，正确设定参数</td></tr><tr><td>AL022</td><td>主回路电源缺相</td><td>主回路电源异常</td><td>检查 RST 电源线连接或送修</td></tr><tr><td>AL023</td><td>预先过负载警告</td><td>过载、P1-56 设定过小</td><td>参考过负荷处理或调整 P1-56</td></tr><tr><td>AL024</td><td>编码器初始磁场错误</td><td>编码器初始磁场错误</td><td>确保接地正常、信号线隔离，必要时送修</td></tr><tr><td>AL025</td><td>编码器内部错误</td><td>内部存储异常、计数异常</td><td>确保接地正常，使用隔离网信号线，必要时送修</td></tr><tr><td>AL026</td><td>编码器数据可靠度错误</td><td>内部数据异常</td><td>确保接地和隔离网信号线，必要时送修</td></tr><tr><td>AL027</td><td>编码器内部重置错误</td><td>编码器重置失败</td><td>检查信号线和电源稳定性，必要时送修</td></tr><tr><td>AL030</td><td>电机碰撞错误</td><td>电机碰撞检测</td><td>确认 P1-57 是否开启</td></tr></tbody></table></div><h2 id="台达伺服器测试"><a href="#台达伺服器测试" class="headerlink" title="台达伺服器测试"></a>台达伺服器测试</h2><p>P2-30 改为1 SET</p><p>p4-05 设置转速（先50转再1000转） SET</p><h2 id="常见故障处理"><a href="#常见故障处理" class="headerlink" title="常见故障处理"></a>常见故障处理</h2><h3 id="1、AL001："><a href="#1、AL001：" class="headerlink" title="1、AL001："></a>1、AL001：</h3><p>（1）未上电001</p><p>常见电容失效，先更换C236和C201</p><p>（2）上电001</p><p>可能是电容失效，也可能是IGBT模块短路</p><h3 id="2、AL013"><a href="#2、AL013" class="headerlink" title="2、AL013"></a>2、AL013</h3><p>重新编写资料</p><h3 id="3、上电正常，但是电机不转或者电机振动"><a href="#3、上电正常，但是电机不转或者电机振动" class="headerlink" title="3、上电正常，但是电机不转或者电机振动"></a>3、上电正常，但是电机不转或者电机振动</h3><p>PC929损坏（具体哪一个不固定）</p><p>判断</p><h1 id="2、安川伺服驱动器"><a href="#2、安川伺服驱动器" class="headerlink" title="2、安川伺服驱动器"></a>2、安川伺服驱动器</h1><h2 id="SGDV系列"><a href="#SGDV系列" class="headerlink" title="SGDV系列"></a>SGDV系列</h2><iframe src="../pdf/SGDV.pdf" width="100%" height="600"></iframe><p><img src="../image/伺服驱动器/image-20241116172622242.png" alt="image-20241116172622242"><br><img src="../image/伺服驱动器/image-20241120152644091.png" alt="image-20241120152644091"></p><p>制动检测：故障代码<code>A300</code>,<code>U201</code>容易损坏</p><p><img src="../image/伺服驱动器/image-20241116172857795.png" alt="image-20241116172857795"></p><p>PS21564模块或PS21767模块</p><p><img src="../image/伺服驱动器/image-20241116180246611.png" alt="image-20241116180246611"></p><div class="table-container"><table><thead><tr><th>参数</th><th>PS21564</th><th>PS21767</th></tr></thead><tbody><tr><td><strong>额定电压</strong></td><td>600V</td><td>600V</td></tr><tr><td><strong>额定电流</strong></td><td>15A</td><td>20A</td></tr><tr><td><strong>封装形式</strong></td><td>紧凑型多引脚模块</td><td>紧凑型多引脚模块</td></tr><tr><td><strong>功率范围</strong></td><td>低功率</td><td>中功率</td></tr><tr><td><strong>保护功能</strong></td><td>基础保护（过流、过热、欠压等）</td><td>更全面的保护功能</td></tr><tr><td><strong>开关频率支持</strong></td><td>适合低至中频率应用</td><td>支持更高的开关频率需求</td></tr><tr><td><strong>内置续流二极管</strong></td><td>有</td><td>有</td></tr></tbody></table></div><p>电流检测电路</p><p><img src="../image/伺服驱动器/image-20241119090141144.png" alt="image-20241119090141144"></p><p><img src="../image/伺服驱动器/image-20241120134828184.png" alt="image-20241120134828184"></p><p><img src="../image/伺服驱动器/image-20241120145627303.png" alt="image-20241120145627303"></p><p><img src="../image/伺服驱动器/image-20241121102356050.png" alt="image-20241121102356050"></p><p><img src="../image/伺服驱动器/image-20241121160801831.png" alt="image-20241121160801831"></p><p>A7800（HCPL-7800）的引脚图</p><p><img src="../image/伺服驱动器/image-20241125090823195.png" alt="image-20241125090823195"></p><p> <img src="../image/伺服驱动器/image-20241125111936193.png" alt="image-20241125111936193"></p><p><img src="../image/伺服驱动器/aab234322105850418da70f3cba945b4.jpg" alt="img"></p><p><img src="../image/伺服驱动器/45d92b06415bba8ab357e09cadec56a3_720.jpg" alt="img"></p><p><img src="../image/伺服驱动器/f4dfebdd3c15b0aa519c8cfb8430efe8_720.jpg" alt="img"></p><p><img src="../image/伺服驱动器/image-20241207095252101.png" alt="image-20241207095252101"></p><p><img src="../image/伺服驱动器/image-20241207100738905.png" alt="image-20241207100738905"></p><h1 id="3、三菱伺服放大器"><a href="#3、三菱伺服放大器" class="headerlink" title="3、三菱伺服放大器"></a>3、三菱伺服放大器</h1><h2 id="J2S系列"><a href="#J2S系列" class="headerlink" title="J2S系列"></a>J2S系列</h2>]]></content>
      
      
      <categories>
          
          <category> 驱动器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 驱动器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>检测元件是否失效</title>
      <link href="/posts/287aa340.html"/>
      <url>/posts/287aa340.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、万用表的使用"><a href="#一、万用表的使用" class="headerlink" title="一、万用表的使用"></a>一、万用表的使用</h1><p><img src="../image/检测元件是否失效/image-20241011162937291.png" alt="image-20241011162937291"></p><p><img src="../image/检测元件是否失效/image-20241011165951755.png" alt="image-20241011165951755"></p><p><img src="../image/检测元件是否失效/image-20241011170557134.png" alt="image-20241011170557134"></p><h1 id="二、-外观检查"><a href="#二、-外观检查" class="headerlink" title="二、 外观检查"></a>二、 <strong>外观检查</strong></h1><p>首先可以对元件进行外观检查，查找是否有明显的损坏迹象，如：</p><p>①<strong>烧焦或发黑</strong>：表明元件过热或短路。</p><p>②<strong>变形或裂纹</strong>：元件可能已经受损。</p><p>③<strong>焊接点松动</strong>：可能导致接触不良或断路。</p><p>④<strong>鼓包的电容</strong></p><p><img src="../image/检测元件是否失效/image-20241011175702991.png" alt="image-20241011175702991"><br>⑤<strong>烧焦的电阻</strong></p><p><img src="../image/检测元件是否失效/image-20241011175721432.png" alt="image-20241011175721432"><br>⑥<strong>损坏的晶体</strong></p><p><img src="../image/检测元件是否失效/image-20241011175808268.png" alt="image-20241011175808268"></p><p>⑦<strong>损坏的电容</strong></p><p><img src="../image/检测元件是否失效/image-20241011175925809.png" alt="image-20241011175925809"></p><h1 id="三、-使用万用表检测"><a href="#三、-使用万用表检测" class="headerlink" title="三、 使用万用表检测"></a>三、 <strong>使用万用表检测</strong></h1><p>使用数字万用表是最常见的检测方法，可以测量元件的电阻、电容、电压、电流等参数，判断元件是否损坏。</p><h2 id="1、电阻（Resistor）"><a href="#1、电阻（Resistor）" class="headerlink" title="1、电阻（Resistor）"></a>1、<strong>电阻（Resistor）</strong></h2><p>（1）设置万用表到电阻档（Ω），测量电阻两端的阻值。</p><p>①<strong>正常情况</strong>：阻值应接近元件的标称值（误差范围内）。</p><p>②<strong>损坏情况</strong>：如果显示为无穷大，可能是开路；如果阻值为零，可能短路。</p><p>（2）<strong>使用万用表测量电阻的常见问题</strong></p><p>①<strong>测量不到阻值</strong>：如果测量结果总是显示无穷大或0Ω，检查电阻是否已经损坏，或者检查探针接触是否良好。</p><p>②<strong>测量数值不稳定</strong>：可能是电阻接触不良，或者是万用表的电池电量不足，导致测量不准。</p><h2 id="2、电容（Capacitor）"><a href="#2、电容（Capacitor）" class="headerlink" title="2、电容（Capacitor）"></a>2、<strong>电容（Capacitor）</strong></h2><p><strong>（1）将万用表设定在电容档位，测量电容两端的电容值。</strong></p><p>①<strong>正常情况</strong>：电容应显示接近标称值。</p><p>②<strong>损坏情况</strong>：如果显示“无穷大”，可能是开路；如果显示为零或非常低的值，可能是短路或漏电。</p><p><img src="../image/检测元件是否失效/image-20241012090418919.png" alt="image-20241012090418919"></p><p><img src="../image/检测元件是否失效/image-20241012091005075.png" alt="image-20241012091005075"></p><p><strong>（2）替换电容</strong><br>找相同规格的电容：相同尺寸、相同颜色（颜色越深尺寸越大的一般容量越大）</p><p>(3) <strong>替换电容的注意事项</strong></p><p>①<strong>电容类型</strong>：确定是替换 <strong>电解电容</strong>、<strong>陶瓷电容</strong> 还是其他类型的电容。不同类型的电容特性不同，不能随意替换。</p><p>②<strong>电压值</strong>：除了容量，还需匹配 <strong>额定电压</strong>。额定电压必须等于或高于原电容的电压值，低于原电压值的电容可能会导致损坏。</p><p>③<strong>温度范围</strong>：确保新电容的工作温度范围满足电路的需求，特别是在高温环境下使用的设备。</p><p>④<strong>极性</strong>：特别是对电解电容，需注意正负极性，错误连接可能会导致电容爆裂或损坏电路。</p><p>⑤<strong>耐久性和品牌</strong>：尽量选择耐久性好的品牌，尤其在对电容寿命有要求的应用中。</p><h2 id="3、二极管（Diode）"><a href="#3、二极管（Diode）" class="headerlink" title="3、二极管（Diode）"></a>3、<strong>二极管（Diode）</strong></h2><p>（1）设置万用表到二极管档，测量二极管的正向电压降。</p><p>①<strong>正常情况</strong>：正向时有0.5V~0.7V左右的压降（硅二极管），反向时显示无穷大。</p><p>②<strong>损坏情况</strong>：如果正反向都显示无穷大或为零，表示二极管损坏。</p><p><img src="../image/检测元件是否失效/image-20241012105221907.png" alt="image-20241012105221907"></p><p><img src="../image/检测元件是否失效/image-20241012105604350.png" alt="image-20241012105604350"></p><p>（2）设置万用表到蜂鸣档</p><p>如果蜂鸣档响，说明已经短路或者击穿，不再具有单项导电的特性。</p><h2 id="4、晶体管（双极型二极管、三极管）（Transistor）"><a href="#4、晶体管（双极型二极管、三极管）（Transistor）" class="headerlink" title="4、晶体管（双极型二极管、三极管）（Transistor）"></a>4、<strong>晶体管（双极型二极管、三极管）（Transistor）</strong></h2><p><strong>（1）通过测量基极到发射极和基极到集电极的电压降，判断三极管是否正常。</strong></p><p>①<strong>正常情况</strong>：PNP和NPN型三极管在基极正向偏置时，基-发、基-集两端有约0.6V的压降，反向时应为无穷大。</p><p>②<strong>损坏情况</strong>：无电压降或电压为零，表示晶体管损坏。</p><p>  <strong>（2）识别引脚：</strong></p><p>①选择三极管的任意两个引脚进行测试（例如，假设引脚是1、2、3）。</p><p>②对于NPN型三极管：</p><ul><li>将红表笔连接到第一个引脚，黑表笔连接到第二个引脚，记录下电压降。如果电压降在0.6V左右，说明第一个引脚是基极（B），第二个引脚可能是集电极（C）或发射极（E）。</li><li>然后，尝试将红表笔连接到第一个引脚，黑表笔连接到第三个引脚。如果电压降再次在0.6V左右，则确认第一个引脚是基极（B），而第三个引脚是发射极（E）。如果电压降为0，第三个引脚则是集电极（C）。</li></ul><p>③对于PNP型三极管：</p><ul><li><p>测量方法类似，只是红黑表笔连接的方向相反。记得红表笔连接到负极，黑表笔连接到正极。</p><p><img src="../image/检测元件是否失效/image-20241012150248099.png" alt="image-20241012150248099"></p></li></ul><p><img src="../image/检测元件是否失效/image-20241012152238304.png" alt="image-20241012152238304"></p><p><img src="../image/检测元件是否失效/image-20241012154405198.png" alt="image-20241012154405198"></p><p>如果基极在中间的话，左发右集（三只脚朝下，有标签的那面对着自己）<br>基极如果在边上，那发射极也在边上。</p><h2 id="5、电感（Inductor）"><a href="#5、电感（Inductor）" class="headerlink" title="5、电感（Inductor）"></a>5、<strong>电感（Inductor）</strong></h2><p>（1）设置万用表到电阻档位，测量电感的直流电阻（DCR）。</p><p>①<strong>正常情况</strong>：电感的直流电阻通常为较小的值。</p><p>②<strong>损坏情况</strong>：显示为无穷大（开路）或非常大的电阻值，表明电感已断路或受损。</p><p><strong>电感开路或断路</strong>：</p><ul><li>如果电感的线圈断开，万用表会显示 <strong>无穷大</strong>（”OL”）或很大的电阻值。这意味着电感器内部线圈已经断开，无法正常工作。</li><li>在这种情况下，电感无法正常产生磁场，对电流不起任何作用。</li></ul><p><strong>电感短路</strong>：</p><ul><li>如果测量到的电阻值接近 <strong>零</strong>，则可能表示电感器的线圈发生了短路。短路会导致电感失去其储能功能，并可能导致电路出现过大的电流。</li><li>在高频应用中，短路的电感器可能会影响电路性能，导致其他元件损坏。</li></ul><p><strong>电感线圈受损</strong>：</p><ul><li>如果电感的电阻值显著偏离其正常范围（例如显著高于预期值），这可能表示线圈受损，导致内部导线变细或部分断路，影响电感的性能。</li></ul><p>（2）测试其电阻</p><p><img src="../image/检测元件是否失效/image-20241012161235472.png" alt="image-20241012161235472"></p><p><img src="../image/检测元件是否失效/image-20241012161310073.png" alt="image-20241012161310073"></p><p>（3）测试绝缘性，看是否存在漏电故障<br><img src="../image/检测元件是否失效/image-20241012161533163.png" alt="image-20241012161533163"></p><p><img src="../image/检测元件是否失效/image-20241012161547203.png" alt="image-20241012161547203"></p><h2 id="6、集成电路（IC）"><a href="#6、集成电路（IC）" class="headerlink" title="6、集成电路（IC）"></a>6、<strong>集成电路（IC）</strong></h2><ul><li>集成电路的损坏难以通过简单的万用表检测，需要结合外部电路或使用专用IC测试仪检测。</li><li><strong>正常情况</strong>：集成电路应根据电路设计工作，输出正确的信号。</li><li><strong>损坏情况</strong>：无输出信号、错误信号或元件过热，可能表明IC损坏。</li></ul><h1 id="四、-使用示波器检测"><a href="#四、-使用示波器检测" class="headerlink" title="四、 使用示波器检测"></a>四、 <strong>使用示波器检测</strong></h1><p>如果怀疑元件性能不正常，可以使用示波器来检查元件的工作状态：</p><ul><li><strong>测量电压和波形</strong>：对于晶振、晶体管、集成电路等可以测量其信号输出波形，判断是否有异常。</li><li><strong>信号不正常</strong>：如果信号波形不正确或失真，可能表示元件损坏。</li></ul><h1 id="五、替换法"><a href="#五、替换法" class="headerlink" title="五、替换法"></a>五、<strong>替换法</strong></h1><p>如果没有专用设备，可以尝试<strong>替换法</strong>：</p><ul><li>将怀疑有问题的元件从电路中取下，并用同规格的正常元件替换。</li><li>如果电路恢复正常，说明该元件已损坏。</li></ul><h1 id="六、功能测试"><a href="#六、功能测试" class="headerlink" title="六、功能测试"></a>六、<strong>功能测试</strong></h1><p>对于一些复杂元件，如集成电路或晶振，可以将其放入相关电路中观察其实际功能是否正常。比如：</p><ul><li>晶振是否能够正确振荡并产生所需的频率信号。</li><li>集成电路是否输出正确的信号。</li></ul><p>189-201</p>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 元器件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>表面贴装元件</title>
      <link href="/posts/5b654e61.html"/>
      <url>/posts/5b654e61.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h1><p>表面贴装元件（SMD）是SMT（表面贴装技术）中使用的常见电子元件，种类多样，广泛应用于现代电子设备中。</p><h1 id="二、常见的SMD的缩写"><a href="#二、常见的SMD的缩写" class="headerlink" title="二、常见的SMD的缩写"></a>二、常见的SMD的缩写</h1><div class="table-container"><table><thead><tr><th><strong>符号</strong></th><th style="text-align:left"><strong>元件名称</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>R</strong></td><td style="text-align:left">电阻（Resistor）</td><td>用于限制电流、分压或调整电路中的阻抗。</td></tr><tr><td><strong>C</strong></td><td style="text-align:left">电容（Capacitor）</td><td>存储和释放电荷，用于滤波、耦合、去耦等。</td></tr><tr><td><strong>D</strong></td><td style="text-align:left">二极管（Diode）</td><td>允许电流单向通过，常用于整流、保护和开关。</td></tr><tr><td><strong>Q</strong></td><td style="text-align:left">三极管（Transistor）</td><td>用于放大或开关电路的晶体管（如BJT或FET）。</td></tr><tr><td><strong>U</strong></td><td style="text-align:left">集成电路（Integrated Circuit）</td><td>各种功能的IC，可能是微控制器、放大器或其他复杂电路。</td></tr><tr><td><strong>K</strong></td><td style="text-align:left">继电器（Relay）</td><td>用于电路开关的电子开关，控制高电流的电路。</td></tr><tr><td><strong>LED</strong></td><td style="text-align:left">发光二极管（Light Emitting Diode）</td><td>发光二极管，用于显示或照明。</td></tr><tr><td><strong>Y</strong></td><td style="text-align:left">晶体振荡器（Crystal Oscillator）</td><td>提供精确时钟信号的元件，常用于微控制器和通信设备。</td></tr><tr><td><strong>T</strong></td><td style="text-align:left">变压器（Transformer）</td><td>用于改变电压的元件，常用于电源变压器或信号耦合。</td></tr><tr><td><strong>P</strong></td><td style="text-align:left">电源模块（Power Supply Module）</td><td>提供电路供电的模块，可能包括稳压电路。</td></tr><tr><td><strong>S</strong></td><td style="text-align:left">开关（Switch）</td><td>手动或自动切换电路状态的元件。</td></tr><tr><td><strong>TP</strong></td><td style="text-align:left">测试点（Test Point）</td><td>用于测量电压、信号或调试的接点。</td></tr><tr><td><strong>FIL</strong></td><td style="text-align:left">滤波器（Filter）</td><td>用于移除电路中的不需要的频率或噪声信号。</td></tr><tr><td><strong>M</strong></td><td style="text-align:left">电动机（Motor）</td><td>电动机，用于机械运动。</td></tr><tr><td><strong>L</strong></td><td style="text-align:left">电感（Inductor）</td><td>存储磁能的元件，用于滤波、电源转换或信号处理。</td></tr><tr><td><strong>F</strong></td><td style="text-align:left">保险丝（Fuse）</td><td>过电流保护元件，当电流超过特定值时熔断保护电路。</td></tr><tr><td><strong>CN</strong></td><td style="text-align:left">接插件（Connector）</td><td>用于连接两个电路或设备的连接器，提供电气连接。</td></tr><tr><td><strong>W</strong></td><td style="text-align:left">稳压管（Zener Diode）</td><td>一种特殊的二极管，允许反向击穿电压，用于电压调节。</td></tr><tr><td><strong>RT</strong></td><td style="text-align:left">热敏电阻（Thermistor）</td><td>根据温度变化改变其电阻值的电阻，常用于温度检测和保护。</td></tr><tr><td><strong>J</strong></td><td style="text-align:left">跳线（Jumper）</td><td>用于手动选择或配置电路的连接，通常用于临时或可变连接。</td></tr><tr><td><strong>NTC</strong></td><td style="text-align:left">负温度系数热敏电阻（Negative Temperature Coefficient Thermistor）</td><td>随温度升高而电阻减小的热敏电阻。</td></tr><tr><td><strong>PTC</strong></td><td style="text-align:left">正温度系数热敏电阻（Positive Temperature Coefficient Thermistor）</td><td>随温度升高而电阻增大的热敏电阻。</td></tr><tr><td><strong>SA</strong></td><td style="text-align:left">瞬态抑制二极管（Transient Voltage Suppression Diode, TVS Diode）</td><td>用于保护电路免受瞬态电压（如浪涌、过压）冲击的损害。</td></tr></tbody></table></div><h1 id="三、电阻（Resistor）"><a href="#三、电阻（Resistor）" class="headerlink" title="三、电阻（Resistor）"></a>三、电阻（Resistor）</h1><h2 id="1、结构："><a href="#1、结构：" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD电阻是电路中常见的被动元件，通常封装在小型矩形的封装中，常见的封装尺寸包括0603、0805、1206等。其内部主要由金属氧化物膜或厚膜电阻材料构成。</p><h2 id="2、功能："><a href="#2、功能：" class="headerlink" title="2、功能："></a>2、功能：</h2><ul><li><strong>限流</strong>：电阻用于限制电流的流动，确保电路中的电流保持在安全范围内。</li><li><strong>分压</strong>：通过电阻网络分配电压，使电路中的不同部分获得所需的电压。</li><li><strong>阻抗匹配</strong>：电阻还可以用来匹配电路中的阻抗，以避免信号反射。</li></ul><h2 id="3、应用："><a href="#3、应用：" class="headerlink" title="3、应用："></a>3、应用：</h2><p>用于滤波、限流、分压和电压调节等电路中。</p><h2 id="4、贴片电阻的几种标值方法和型号"><a href="#4、贴片电阻的几种标值方法和型号" class="headerlink" title="4、贴片电阻的几种标值方法和型号"></a>4、贴片电阻的几种标值方法和型号</h2><p><img src="../image/表面贴装元件/image-20241010113757653.png" alt="image-20241010113757653"></p><p><img src="../image/表面贴装元件/image-20241010151118413.png" alt="image-20241010151118413"></p><p><img src="../image/表面贴装元件/image-20241010151240653.png" alt="image-20241010151240653"><br>30R0:30.0Ω、4700:470x10º=470Ω、R010:0.010Ω</p><p>零欧姆贴片电阻的作用：连接线路的作用（零欧姆并不是电阻等于零，只是接近于0）</p><p><img src="../image/表面贴装元件/image-20241010175654785.png" alt="image-20241010175654785"></p><p><img src="../image/表面贴装元件/image-20241010114201838.png" alt="image-20241010114201838"></p><p><img src="../image/表面贴装元件/image-20241010145946538.png" alt="image-20241010145946538"></p><p>01B的读法的参考EIA-96编码</p><p><img src="../image/表面贴装元件/image-20241010152018341.png" alt="image-20241010152018341"><br><strong>贴片电阻型号</strong></p><p>贴片电阻的型号主要指其封装尺寸，不同型号的封装尺寸适用于不同的电路板设计需求。常见的贴片电阻型号按照尺寸分类，通常表示为四位数字，前两位表示长度，后两位表示宽度，单位为英寸。以下是常见的贴片电阻型号：</p><ol><li><strong>0402</strong></li></ol><ul><li><strong>尺寸</strong>：0.04 × 0.02 英寸（1.0 × 0.5 毫米）</li><li><strong>特点</strong>：体积非常小，适用于高密度电路板。</li><li><strong>应用</strong>：多用于便携式设备如手机、智能手表等，对空间要求较高的场景。</li></ul><ol><li><strong>0603</strong></li></ol><ul><li><strong>尺寸</strong>：0.06 × 0.03 英寸（1.6 × 0.8 毫米）</li><li><strong>特点</strong>：相对0402稍大，较为常用。</li><li><strong>应用</strong>：广泛用于手机、笔记本电脑等中小型电子设备。</li></ul><ol><li><strong>0805</strong></li></ol><ul><li><strong>尺寸</strong>：0.08 × 0.05 英寸（2.0 × 1.25 毫米）</li><li><strong>特点</strong>：尺寸适中，是贴片电阻中使用最广泛的型号之一。</li><li><strong>应用</strong>：常见于计算机、家用电器、通信设备等。</li></ul><ol><li><strong>1206</strong></li></ol><ul><li><strong>尺寸</strong>：0.12 × 0.06 英寸（3.2 × 1.6 毫米）</li><li><strong>特点</strong>：比0805稍大，适合稍高功率的应用场景。</li><li><strong>应用</strong>：常用于电流稍大的设备中，如电源管理模块。</li></ul><ol><li><strong>1210</strong></li></ol><ul><li><strong>尺寸</strong>：0.12 × 0.10 英寸（3.2 × 2.5 毫米）</li><li><strong>特点</strong>：能够承受更高的功率，适合更高功率电路。</li><li><strong>应用</strong>：电源电路、LED驱动电路等。</li></ul><ol><li><strong>1812</strong></li></ol><ul><li><strong>尺寸</strong>：0.18 × 0.12 英寸（4.5 × 3.2 毫米）</li><li><strong>特点</strong>：大尺寸，适用于需要高功率电阻的场景。</li><li><strong>应用</strong>：功率放大器、电源电路。</li></ul><ol><li><strong>2010</strong></li></ol><ul><li><strong>尺寸</strong>：0.20 × 0.10 英寸（5.0 × 2.5 毫米）</li><li><strong>特点</strong>：适用于大功率应用，通常用于高功率电源管理电路。</li><li><strong>应用</strong>：工业设备、功率放大器。</li></ul><ol><li><strong>2512</strong></li></ol><ul><li><strong>尺寸</strong>：0.25 × 0.12 英寸（6.3 × 3.2 毫米）</li><li><strong>特点</strong>：尺寸较大，可处理更高的电流和功率。</li><li><strong>应用</strong>：用于大电流的电源管理和高功率设备。</li></ul><p><strong>总结</strong></p><p>不同型号的贴片电阻对应不同的封装尺寸和功率处理能力，从极小的0402型号到更大的2512型号，选择适合的型号取决于电路的设计需求和功率要求。0402、0603和0805是最常用的型号，广泛应用于各种消费电子产品中。</p><h2 id="5、色环电阻的阻值的读法"><a href="#5、色环电阻的阻值的读法" class="headerlink" title="5、色环电阻的阻值的读法"></a>5、色环电阻的阻值的读法</h2><p><img src="../image/表面贴装元件/image-20241123143955954.png" alt="image-20241123143955954"></p><p><img src="../image/表面贴装元件/image-20241123144051311.png" alt="image-20241123144051311"></p><p>蓝色：金属膜色环电阻（一般5环）</p><p>土黄色：碳膜色环电阻（一般4环）</p><p><img src="../image/表面贴装元件/image-20241123144913063.png" alt="image-20241123144913063"></p><p>四环电阻的表示：一环:十位数字、二环：个位数字、三环：倍数、四环：误差。</p><p><img src="../image/表面贴装元件/image-20241123145633197.png" alt="image-20241123145633197"></p><p>五环电阻的表示：一环：百位数字、二环：十位数字、三环：个位数字、四环：倍数、五环：误差。<br><img src="../image/表面贴装元件/image-20241123150112831.png" alt="image-20241123150112831"><img src="../image/表面贴装元件/image-20241123150719517.png" alt="image-20241123150719517"><br>六环电阻的前五环和五环是一样的，最后一环是温度系数。</p><h1 id="四、电容（Capacitor）"><a href="#四、电容（Capacitor）" class="headerlink" title="四、电容（Capacitor）"></a>四、电容（Capacitor）</h1><h2 id="1、结构：-1"><a href="#1、结构：-1" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD电容也是被动元件，常见的类型有陶瓷电容、钽电容和铝电解电容。它通常封装在矩形或圆形的外壳中。陶瓷电容是最常见的，内部由陶瓷材料和金属电极构成。</p><h2 id="2、功能：-1"><a href="#2、功能：-1" class="headerlink" title="2、功能："></a>2、功能：</h2><ul><li><strong>储能</strong>：电容可以储存电荷，并在需要时释放。</li><li><strong>滤波</strong>：在滤波电路中，电容用于平滑电源或信号的波动。</li><li><strong>去耦</strong>：电容可以减少电源线路中的噪声和干扰，保持电压稳定。</li><li><strong>定时</strong>：在定时电路中，电容和电阻结合用于控制电路的时序。</li></ul><h2 id="3、应用：-1"><a href="#3、应用：-1" class="headerlink" title="3、应用："></a>3、应用：</h2><p>广泛用于滤波、耦合、去耦、定时电路中。</p><p><img src="../image/表面贴装元件/5eef48df2b80993533cbf643ef06575b.png" alt="img"></p><p><img src="../image/表面贴装元件/image-20241010164743842.png" alt="image-20241010164743842"></p><p><img src="../image/表面贴装元件/image-20241010164951024.png" alt="image-20241010164951024"></p><p><img src="../image/表面贴装元件/image-20241010165429230.png" alt="image-20241010165429230"></p><p><img src="../image/表面贴装元件/b17aa2fb96eb0782268076d3834c1131.png" alt="img"></p><p><img src="../image/表面贴装元件/image-20241010171519355.png" alt="image-20241010171519355"></p><p><img src="../image/表面贴装元件/image-20241010171833574.png" alt="image-20241010171833574"></p><p><img src="../image/表面贴装元件/image-20241010172118854.png" alt="image-20241010172118854"></p><p><img src="../image/表面贴装元件/image-20241010172354836.png" alt="image-20241010172354836"></p><p><img src="../image/表面贴装元件/image-20241010172551611.png" alt="image-20241010172551611"></p><h2 id="4、贴片电容常用的换算单位及其关系："><a href="#4、贴片电容常用的换算单位及其关系：" class="headerlink" title="4、贴片电容常用的换算单位及其关系："></a>4、贴片电容常用的换算单位及其关系：</h2><h3 id="（1）电容单位换算关系："><a href="#（1）电容单位换算关系：" class="headerlink" title="（1）电容单位换算关系："></a>（1）电容单位换算关系：</h3><ol><li><strong>1 F（法拉）</strong> = 1,000,000 μF（微法）</li><li><strong>1 μF（微法）</strong> = 1,000 nF（纳法）</li><li><strong>1 nF（纳法）</strong> = 1,000 pF（皮法）</li></ol><h3 id="（2）常见电容单位换算："><a href="#（2）常见电容单位换算：" class="headerlink" title="（2）常见电容单位换算："></a>（2）常见电容单位换算：</h3><ul><li><strong>1 μF（微法）</strong> = 10−610^{-6}10−6 法拉</li><li><strong>1 nF（纳法）</strong> = 10−910^{-9}10−9 法拉</li><li><strong>1 pF（皮法）</strong> = 10−1210^{-12}10−12 法拉</li></ul><h1 id="五、二极管（Diode）"><a href="#五、二极管（Diode）" class="headerlink" title="五、二极管（Diode）"></a>五、二极管（Diode）</h1><h2 id="1、结构：-2"><a href="#1、结构：-2" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD二极管是一种半导体器件，通常封装在小型SOD（Small Outline Diode）封装中。二极管通常由P型和N型半导体材料结合而成，形成PN结。</p><p><img src="../image/表面贴装元件/image-20241011090348650.png" alt="image-20241011090348650"></p><h2 id="2、功能：-2"><a href="#2、功能：-2" class="headerlink" title="2、功能："></a>2、功能：</h2><ul><li><strong>整流</strong>：二极管允许电流仅从一个方向流动，用于将交流电（AC）转换为直流电（DC）。</li><li><strong>保护</strong>：在电源和负载之间的二极管用于防止反向电压损坏电路。</li><li><strong>信号调制</strong>：二极管用于调制或检测信号，特别是在射频电路中。</li><li><strong>稳压</strong>：齐纳二极管可以在反向偏置时提供恒定电压，起到稳压的作用。</li></ul><h2 id="3、应用：-2"><a href="#3、应用：-2" class="headerlink" title="3、应用："></a>3、应用：</h2><p>用于整流、保护、调制和稳压等电路中。</p><p><img src="../image/表面贴装元件/image-20241011084103245.png" alt="image-20241011084103245"></p><p><img src="../image/表面贴装元件/image-20241011085654915.png" alt="image-20241011085654915"></p><h2 id="4、类型："><a href="#4、类型：" class="headerlink" title="4、类型："></a>4、类型：</h2><p><strong>整流二极管（Rectifier Diodes）</strong></p><ul><li>用于将交流电转化为直流电，常用于电源电路。</li></ul><p><strong>肖特基二极管（Schottky Diodes）</strong></p><p>因为普通二极管在高频场合中不能工作</p><p>反向恢复时间10ns</p><ul><li><p>具有低正向压降和快速恢复时间，常用于高速开关和电源保护电路中。</p><p><img src="../image/表面贴装元件/image-20241011091930502.png" alt="image-20241011091930502"></p><p><img src="../image/表面贴装元件/image-20241011092034742.png" alt="image-20241011092034742"></p></li></ul><p><strong>齐纳二极管（Zener Diodes）（稳压二极管）</strong></p><ul><li><p>主要用于电压稳压，通过反向击穿工作，保护电路免受过电压损坏。</p><p><img src="../image/表面贴装元件/image-20241011091031220.png" alt="image-20241011091031220"></p></li></ul><p><strong>发光二极管（LED，Light Emitting Diodes）</strong></p><ul><li>通过正向偏置发光，广泛应用于显示器和指示灯。</li></ul><h2 id="5、单向导电的底层原理："><a href="#5、单向导电的底层原理：" class="headerlink" title="5、单向导电的底层原理："></a>5、单向导电的底层原理：</h2><p>纯净硅晶体</p><p><img src="../image/表面贴装元件/image-20241011092538592.png" alt="image-20241011092538592"></p><p>掺入5价磷</p><p><img src="../image/表面贴装元件/image-20241011092643015.png" alt="image-20241011092643015"></p><p>多出的自由电子会游离</p><p><img src="../image/表面贴装元件/image-20241011092727676.png" alt="image-20241011092727676"></p><p><img src="../image/表面贴装元件/image-20241011094235837.png" alt="image-20241011094235837"></p><p>掺入3价硼</p><p><img src="../image/表面贴装元件/image-20241011094404996.png" alt="image-20241011094404996"></p><p><img src="../image/表面贴装元件/image-20241011094811392.png" alt="image-20241011094811392"></p><p> <img src="../image/表面贴装元件/image-20241011095127823.png" alt="image-20241011095127823"></p><h1 id="六、-三极管（Transistor）"><a href="#六、-三极管（Transistor）" class="headerlink" title="六、 三极管（Transistor）"></a>六、 <strong>三极管（Transistor）</strong></h1><h2 id="1、结构：-3"><a href="#1、结构：-3" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD三极管是小型的半导体器件，常见封装为SOT（Small Outline Transistor）。三极管分为NPN型和PNP型两种，通常由三个区域（发射极E、基极B、集电极C）组成。</p><h2 id="2、功能：-3"><a href="#2、功能：-3" class="headerlink" title="2、功能："></a>2、功能：</h2><ul><li><strong>开关</strong>：三极管用于控制电流的通断，常用于开关电路中。</li><li><strong>放大</strong>：三极管可以将小信号放大，应用于信号处理电路中。</li><li><strong>振荡</strong>：在振荡电路中，三极管用于产生和调节振荡信号。</li></ul><h2 id="3、应用：-3"><a href="#3、应用：-3" class="headerlink" title="3、应用："></a>3、应用：</h2><p>广泛用于开关、信号放大、振荡器等电路中。</p><p><img src="../image/表面贴装元件/image-20241011101050001.png" alt="image-20241011101050001"></p><p><img src="../image/表面贴装元件/image-20241011101127881.png" alt="image-20241011101127881"></p><p><img src="../image/表面贴装元件/image-20241011103105964.png" alt="image-20241011103105964"></p><p><img src="../image/表面贴装元件/image-20241012152315642.png" alt="image-20241012152315642"></p><h1 id="七、-集成电路（IC-Integrated-Circuit）"><a href="#七、-集成电路（IC-Integrated-Circuit）" class="headerlink" title="七、 集成电路（IC, Integrated Circuit）"></a>七、 <strong>集成电路（IC, Integrated Circuit）</strong></h1><h2 id="1、结构：-4"><a href="#1、结构：-4" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD集成电路（IC）是一种高度集成的半导体器件，内部包含了多个电子元件，如晶体管、电阻、电容等。常见的封装形式包括SOIC（Small Outline IC）、QFP（Quad Flat Package）、BGA（Ball Grid Array）等。</p><h2 id="2、功能：-4"><a href="#2、功能：-4" class="headerlink" title="2、功能："></a>2、功能：</h2><p>IC可以执行各种复杂的功能，主要包括：</p><ul><li><strong>逻辑处理</strong>：处理数字信号，执行逻辑运算，如微处理器和微控制器。</li><li><strong>存储</strong>：存储数据，如存储芯片（EEPROM、Flash）。</li><li><strong>电源管理</strong>：调节和管理电源，如电源管理IC（PMIC）。</li><li><strong>信号处理</strong>：对模拟或数字信号进行处理和转换，如运算放大器、模数转换器（ADC）等。</li></ul><h2 id="3、应用：-4"><a href="#3、应用：-4" class="headerlink" title="3、应用："></a>3、应用：</h2><p>IC广泛应用于所有电子设备中，从简单的逻辑电路到复杂的微处理器都有使用。</p><p><img src="../image/表面贴装元件/image-20241011104700251.png" alt="image-20241011104700251"></p><h2 id="4、集成电路产品："><a href="#4、集成电路产品：" class="headerlink" title="4、集成电路产品："></a>4、集成电路产品：</h2><div class="table-container"><table><thead><tr><th><strong>产品类型</strong></th><th><strong>用途</strong></th></tr></thead><tbody><tr><td>微处理器（MPU）</td><td>控制和处理数据，广泛用于计算机和嵌入式系统。</td></tr><tr><td>存储器（Memory）</td><td>存储数据和程序，包括RAM、ROM、闪存等。</td></tr><tr><td>模拟IC</td><td>用于信号放大、转换、滤波等，如运算放大器和电压调节器。</td></tr><tr><td>数字IC</td><td>处理逻辑运算、信号传输和控制，如逻辑门和计数器。</td></tr><tr><td>射频IC</td><td>处理无线通信信号，常用于手机和无线设备。</td></tr><tr><td>电源管理IC（PMIC）</td><td>管理电源分配和调节，确保设备稳定运行。</td></tr><tr><td>接口IC</td><td>提供不同设备和系统之间的通信接口，如USB、HDMI等。</td></tr><tr><td>特定应用IC（ASIC）</td><td>为特定应用设计的专用芯片，常用于消费电子和工业设备。</td></tr><tr><td>可编程逻辑IC（FPGA）</td><td>用户可自定义逻辑配置，广泛用于快速开发原型和测试。</td></tr></tbody></table></div><h2 id="5、封装形式："><a href="#5、封装形式：" class="headerlink" title="5、封装形式："></a>5、封装形式：</h2><div class="table-container"><table><thead><tr><th><strong>产品类型</strong></th><th><strong>用途</strong></th></tr></thead><tbody><tr><td>微处理器（MPU）</td><td>控制和处理数据，广泛用于计算机和嵌入式系统。</td></tr><tr><td>存储器（Memory）</td><td>存储数据和程序，包括RAM、ROM、闪存等。</td></tr><tr><td>模拟IC</td><td>用于信号放大、转换、滤波等，如运算放大器和电压调节器。</td></tr><tr><td>数字IC</td><td>处理逻辑运算、信号传输和控制，如逻辑门和计数器。</td></tr><tr><td>射频IC</td><td>处理无线通信信号，常用于手机和无线设备。</td></tr><tr><td>电源管理IC（PMIC）</td><td>管理电源分配和调节，确保设备稳定运行。</td></tr><tr><td>接口IC</td><td>提供不同设备和系统之间的通信接口，如USB、HDMI等。</td></tr><tr><td>特定应用IC（ASIC）</td><td>为特定应用设计的专用芯片，常用于消费电子和工业设备。</td></tr><tr><td>可编程逻辑IC（FPGA）</td><td>用户可自定义逻辑配置，广泛用于快速开发原型和测试。</td></tr></tbody></table></div><h1 id="八、晶振（Crystal-Oscillator）"><a href="#八、晶振（Crystal-Oscillator）" class="headerlink" title="八、晶振（Crystal Oscillator）"></a>八、<strong>晶振（Crystal Oscillator）</strong></h1><h2 id="1、结构：-5"><a href="#1、结构：-5" class="headerlink" title="1、结构："></a>1、结构：</h2><p>晶振是一种提供稳定频率的电子元件，通常封装在小型金属或塑料壳内。其核心是石英晶体。</p><h2 id="2、功能：-5"><a href="#2、功能：-5" class="headerlink" title="2、功能："></a>2、功能：</h2><p>晶振用于生成稳定的振荡频率，在时钟电路中用来提供精确的时间基准。</p><h2 id="3、应用：-5"><a href="#3、应用：-5" class="headerlink" title="3、应用："></a>3、应用：</h2><p>用于微控制器、计算机、通信设备中的时钟电路。</p><p><img src="../image/表面贴装元件/image-20241011150725290.png" alt="image-20241011150725290"></p><h2 id="4、晶振类型："><a href="#4、晶振类型：" class="headerlink" title="4、晶振类型："></a>4、晶振类型：</h2><div class="table-container"><table><thead><tr><th><strong>晶振类型</strong></th><th><strong>描述</strong></th><th><strong>应用场景</strong></th></tr></thead><tbody><tr><td>普通晶振（XTAL）</td><td>提供稳定振荡频率，常见频率1 MHz - 50 MHz</td><td>微控制器、嵌入式系统、数字电路</td></tr><tr><td>有源晶振（OSC）</td><td>内置振荡电路，直接输出完整振荡信号</td><td>实时时钟、通信设备</td></tr><tr><td>温度补偿晶振（TCXO）</td><td>补偿温度变化，保持高频率稳定性</td><td>高精度时钟、GPS、移动设备</td></tr><tr><td>压控晶振（VCXO）</td><td>外部电压控制频率，适用于动态频率调整</td><td>通信设备、频率合成器</td></tr><tr><td>恒温晶振（OCXO）</td><td>恒温控制减少温度漂移，极高频率稳定性</td><td>通信基站、仪器仪表</td></tr><tr><td>32.768 kHz 晶振</td><td>低频晶振，常用于精确计时功能</td><td>实时时钟（RTC）、手表、低功耗设备</td></tr></tbody></table></div><h1 id="九、-电感（Inductor）"><a href="#九、-电感（Inductor）" class="headerlink" title="九、 电感（Inductor）"></a>九、 <strong>电感（Inductor）</strong></h1><h2 id="1、结构：-6"><a href="#1、结构：-6" class="headerlink" title="1、结构："></a>1、结构：</h2><p>SMD电感由绕组和磁芯组成，通常封装在小型矩形或圆柱形外壳中。</p><h2 id="2、功能：-6"><a href="#2、功能：-6" class="headerlink" title="2、功能："></a>2、功能：</h2><ul><li><strong>滤波</strong>：电感用于滤除电源或信号中的高频噪声。</li><li><strong>能量存储</strong>：电感可以在电流通过时储存磁场能量，并在电流变化时释放。</li><li><strong>阻抗匹配</strong>：在射频电路中，电感用于调节阻抗匹配，确保信号的有效传输。</li></ul><h2 id="3、应用：-6"><a href="#3、应用：-6" class="headerlink" title="3、应用："></a>3、应用：</h2><p>广泛应用于电源管理、滤波和射频电路中。</p><p><img src="../image/表面贴装元件/image-20241011154108892.png" alt="image-20241011154108892"></p><h2 id="4、电感的参数："><a href="#4、电感的参数：" class="headerlink" title="4、电感的参数："></a>4、电感的参数：</h2><p>在选择SMD电感时，需要关注以下几个重要参数：</p><ul><li><strong>电感量（L）</strong>：表示电感储存能量的能力，通常以微亨（μH）或毫亨（mH）为单位。</li><li><strong>直流电阻（DCR）</strong>：电感线圈的直流电阻，影响功耗和热量生成。</li><li><strong>额定电流（Irms）</strong>：电感器可以承受的最大直流电流，超过此值可能导致温升过高或饱和。</li><li><strong>饱和电流（Isat）</strong>：当电流超过此值时，电感量会明显下降，影响电感性能。</li><li><strong>自谐频率</strong>：电感在某一频率下产生的阻抗变化，影响高频特性。</li></ul><h1 id="十、场效应管"><a href="#十、场效应管" class="headerlink" title="十、场效应管"></a>十、场效应管</h1><h2 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h2><p>场效应管（FET, <strong>Field-Effect Transistor</strong>）是一种通过电场效应控制电流的半导体器件。它是一种高输入阻抗的电压控制型器件，与传统的三极管（BJT）相比，场效应管在功耗、速度和输入阻抗等方面具有显著优势，广泛应用于模拟放大、数字电路、功率控制等领域。</p><h2 id="2、结构"><a href="#2、结构" class="headerlink" title="2、结构"></a>2、结构</h2><ul><li>场效应管的基本结构包括：<ul><li><strong>栅极（G, Gate）：</strong> 控制端，通过施加电压控制漏-源电流。</li><li><strong>漏极（D, Drain）：</strong> 输出端，流出电流。</li><li><strong>源极（S, Source）：</strong> 输入端，流入电流。</li></ul></li></ul><h2 id="3、原理"><a href="#3、原理" class="headerlink" title="3、原理"></a>3、原理</h2><p>场效应器件（FET）<br>├── 结型场效应管（JFET）<br>│    └── 耗尽型<br>├── 绝缘型场效应管（IGFET / MOSFET）<br>│    ├── 增强型（Enhancement Mode）<br>│    └── 耗尽型（Depletion Mode）<br>└── 绝缘栅双极型晶体管（IGBT）</p><div class="table-container"><table><thead><tr><th><strong>特性</strong></th><th><strong>结型场效应管（JFET）</strong></th><th><strong>MOSFET（绝缘型场效应管）</strong></th><th><strong>IGBT（绝缘栅双极型晶体管）</strong></th></tr></thead><tbody><tr><td><strong>控制方式</strong></td><td>电压控制</td><td>电压控制</td><td>电压控制与电流驱动相结合</td></tr><tr><td><strong>输入阻抗</strong></td><td>高（比三极管高，但比 MOSFET 低）</td><td>极高（输入功耗低）</td><td>高</td></tr><tr><td><strong>主要工作载流子</strong></td><td>单极型（仅电子或空穴）</td><td>单极型（仅电子或空穴）</td><td>双极型（电子和空穴共同作用）</td></tr><tr><td><strong>结构</strong></td><td>有一个 PN 结</td><td>栅极与沟道间通过二氧化硅绝缘</td><td>栅极与沟道间绝缘，内部融合 BJT 的结构</td></tr><tr><td><strong>沟道类型</strong></td><td>仅支持耗尽型</td><td>增强型和耗尽型两种</td><td>仅支持增强型</td></tr><tr><td><strong>导通特性</strong></td><td>默认导通，需通过反向电压关断</td><td>根据型号分为默认关断或默认导通</td><td>默认关断，需施加正向栅极电压导通</td></tr><tr><td><strong>开关速度</strong></td><td>较快</td><td>快速（适合高频开关）</td><td>较慢（但足以满足大功率应用）</td></tr><tr><td><strong>驱动电压</strong></td><td>较低</td><td>较高（通常 &gt; 10V，增强型需要更高电压驱动）</td><td>较高（通常为 15V 左右）</td></tr><tr><td><strong>电流承载能力</strong></td><td>较低</td><td>中等（功率 MOSFET 可承载较大电流）</td><td>高（适合大电流应用）</td></tr><tr><td><strong>工作电压</strong></td><td>较低</td><td>范围广（低压到高压均有型号）</td><td>高电压（通常为 400V~1200V，甚至更高）</td></tr><tr><td><strong>导通压降</strong></td><td>较低</td><td>较低（但随着电流增大而增加）</td><td>较高（典型值为 1.5V~2.5V）</td></tr><tr><td><strong>开关损耗</strong></td><td>较低</td><td>较低（适合高效电路）</td><td>较高（但适合高压大功率应用）</td></tr><tr><td><strong>温度特性</strong></td><td>良好</td><td>优秀（不易发生热失控）</td><td>一般（需额外散热措施）</td></tr><tr><td><strong>静电敏感性</strong></td><td>低</td><td>高（栅极容易被静电击穿，需特别保护）</td><td>一般</td></tr><tr><td><strong>典型应用</strong></td><td>放大器、低频信号处理</td><td>高频开关电路、数字电路、开关电源、音频放大</td><td>工业电机驱动、逆变器、大功率开关、光伏发电等</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
          <category> SMT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SMT </tag>
            
            <tag> SMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电子元器件</title>
      <link href="/posts/6652cd3c.html"/>
      <url>/posts/6652cd3c.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、电阻"><a href="#一、电阻" class="headerlink" title="一、电阻"></a>一、电阻</h1><p><img src="../image/电子元器件/image-20241009085800735.png" alt="image-20241009085800735"></p><p><img src="../image/电子元器件/image-20241009090503292.png" alt="image-20241009090503292"></p><p><img src="../image/电子元器件/image-20241009091401916.png" alt="image-20241009091401916"></p><h1 id="二、电容"><a href="#二、电容" class="headerlink" title="二、电容"></a>二、电容</h1><p><img src="../image/电子元器件/image-20241009092559915.png" alt="image-20241009092559915"></p><p><img src="../image/电子元器件/image-20241009092629938.png" alt="image-20241009092629938"></p><p><img src="../image/电子元器件/image-20241009092800367.png" alt="image-20241009092800367"></p><p><img src="../image/电子元器件/image-20241009092838880.png" alt="image-20241009092838880"></p><p><img src="../image/电子元器件/image-20241009092851271.png" alt="image-20241009092851271"></p><p><img src="../image/电子元器件/image-20241009092913876.png" alt="image-20241009092913876"></p><p><img src="../image/电子元器件/image-20241009093505046.png" alt="image-20241009093505046"></p><p><img src="../image/电子元器件/image-20241009093909462.png" alt="image-20241009093909462"></p><p><img src="../image/电子元器件/image-20241009094004210.png" alt="image-20241009094004210"></p><h1 id="三、电感"><a href="#三、电感" class="headerlink" title="三、电感"></a>三、电感</h1><p>线圈电感</p><p><img src="../image/电子元器件/image-20241009095014023.png" alt="image-20241009095014023"></p><p> 贴片电感和插件电感</p><p><img src="../image/电子元器件/image-20241009095144762.png" alt="image-20241009095144762"></p><p> <img src="../image/电子元器件/image-20241009095245146.png" alt="image-20241009095245146"></p><p><img src="../image/电子元器件/image-20241009095316680.png" alt="image-20241009095316680"></p><p>3R3是3.3微亨</p><p><img src="../image/电子元器件/image-20241009095825712.png" alt="image-20241009095825712"></p><p><img src="../image/电子元器件/image-20241009100204153.png" alt="image-20241009100204153"></p><h1 id="四、熔断器（保险丝）"><a href="#四、熔断器（保险丝）" class="headerlink" title="四、熔断器（保险丝）"></a>四、熔断器（保险丝）</h1><p>贴片保险丝</p><p><img src="../image/电子元器件/image-20241009101757615.png" alt="image-20241009101757615"></p><p><img src="../image/电子元器件/image-20241009101811284.png" alt="image-20241009101811284"></p><p><img src="../image/电子元器件/image-20241009101835157.png" alt="image-20241009101835157"></p><p>汽车保险</p><p><img src="../image/电子元器件/image-20241009101852053.png" alt="image-20241009101852053"></p><p>插件保险</p><p><img src="../image/电子元器件/image-20241009101929005.png" alt="image-20241009101929005"></p><p><img src="../image/电子元器件/image-20241009102140992.png" alt="image-20241009102140992"> </p><p><img src="../image/电子元器件/image-20241009102404091.png" alt="image-20241009102404091"></p><h1 id="五、二极管"><a href="#五、二极管" class="headerlink" title="五、二极管"></a>五、二极管</h1><p>贴片二极管</p><p><img src="../image/电子元器件/image-20241009103436781.png" alt="image-20241009103436781"></p><p>各种二极管</p><p><img src="../image/电子元器件/image-20241009103459932.png" alt="image-20241009103459932"></p><p>LED发光二极管</p><p><img src="../image/电子元器件/image-20241009103527890.png" alt="image-20241009103527890"></p><p><img src="../image/电子元器件/image-20241009103738182.png" alt="image-20241009103738182"></p><p><img src="../image/电子元器件/image-20241009105001772.png" alt="image-20241009105001772"></p><p><img src="../image/电子元器件/image-20241009105121104.png" alt="image-20241009105121104"></p><p><img src="../image/电子元器件/image-20241009105343801.png" alt="image-20241009105343801"></p><h1 id="六、三极管"><a href="#六、三极管" class="headerlink" title="六、三极管"></a>六、三极管</h1><p>不同封装形式的三极管</p><p><img src="../image/电子元器件/image-20241009110422423.png" alt="image-20241009110422423"></p><p><img src="../image/电子元器件/image-20241009110501958.png" alt="image-20241009110501958"></p><p><img src="../image/电子元器件/image-20241009110555726.png" alt="image-20241009110555726"></p><p><img src="../image/电子元器件/image-20241009111825542.png" alt="image-20241009111825542"></p><p><img src="../image/电子元器件/image-20241009112228088.png" alt="image-20241009112228088"></p><p><img src="../image/电子元器件/image-20241009121314955.png" alt="image-20241009121314955"></p><p> <img src="../image/电子元器件/image-20241009125418839.png" alt="image-20241009125418839"></p><p><img src="../image/电子元器件/image-20241009125720044.png" alt="image-20241009125720044"></p><p><img src="../image/电子元器件/image-20241009143110818.png" alt="image-20241009143110818"></p><h1 id="七、接插件、按键及拨码开关"><a href="#七、接插件、按键及拨码开关" class="headerlink" title="七、接插件、按键及拨码开关"></a>七、接插件、按键及拨码开关</h1><p>接插件</p><p><img src="../image/电子元器件/image-20241009144633500.png" alt="image-20241009144633500"></p><p><img src="../image/电子元器件/image-20241009144644942.png" alt="image-20241009144644942"></p><p><img src="../image/电子元器件/image-20241009144702683.png" alt="image-20241009144702683"></p><p><img src="../image/电子元器件/image-20241009144720306.png" alt="image-20241009144720306"></p><p><img src="../image/电子元器件/image-20241009144732960.png" alt="image-20241009144732960"></p><p><img src="../image/电子元器件/image-20241009144849905.png" alt="image-20241009144849905"></p><p>按键</p><p> <img src="../image/电子元器件/image-20241009145806868.png" alt="image-20241009145806868"></p><p><img src="../image/电子元器件/image-20241009150057421.png" alt="image-20241009150057421"></p><p><img src="../image/电子元器件/image-20241009150125150.png" alt="image-20241009150125150"></p><p><img src="../image/电子元器件/image-20241009150327228.png" alt="image-20241009150327228"></p><p>拨码开关</p><p><img src="../image/电子元器件/image-20241009150601575.png" alt="image-20241009150601575"></p><h1 id="八、蜂鸣器"><a href="#八、蜂鸣器" class="headerlink" title="八、蜂鸣器"></a>八、蜂鸣器</h1><p><img src="../image/电子元器件/image-20241009151303895.png" alt="image-20241009151303895"></p><p><img src="../image/电子元器件/image-20241009151400655.png" alt="image-20241009151400655"></p><p><img src="../image/电子元器件/image-20241009152443636.png" alt="image-20241009152443636"></p><p><img src="../image/电子元器件/image-20241009152546511.png" alt="image-20241009152546511"></p><p><img src="../image/电子元器件/image-20241009152721758.png" alt="image-20241009152721758"></p><p><img src="../image/电子元器件/image-20241009153226822.png" alt="image-20241009153226822"></p><p><img src="../image/电子元器件/image-20241009154120215.png" alt="image-20241009154120215"></p><h1 id="九、MOS管"><a href="#九、MOS管" class="headerlink" title="九、MOS管"></a>九、MOS管</h1><p><img src="../image/电子元器件/image-20241009154742067.png" alt="image-20241009154742067"></p><p><img src="../image/电子元器件/image-20241009155014475.png" alt="image-20241009155014475"></p><p><img src="../image/电子元器件/image-20241009155146618.png" alt="image-20241009155146618"></p><p><img src="../image/电子元器件/image-20241009160227835.png" alt="image-20241009160227835"><br> <img src="../image/电子元器件/image-20241009160157439.png" alt="image-20241009160157439"></p><p><img src="../image/电子元器件/image-20241009161720256.png" alt="image-20241009161720256"></p><h1 id="十、电阻提高篇"><a href="#十、电阻提高篇" class="headerlink" title="十、电阻提高篇"></a>十、电阻提高篇</h1><p>压敏电阻</p><p><img src="../image/电子元器件/image-20241009163224547.png" alt="image-20241009163224547"></p><p><img src="../image/电子元器件/image-20241009163839706.png" alt="image-20241009163839706"></p><p><img src="../image/电子元器件/image-20241009164312749.png" alt="image-20241009164312749"></p><p><img src="../image/电子元器件/image-20241009164442695.png" alt="image-20241009164442695"></p><p><img src="../image/电子元器件/image-20241009164551703.png" alt="image-20241009164551703"></p><p>热敏电阻的使用场景</p><p><img src="../image/电子元器件/image-20241010083805976.png" alt="image-20241010083805976"></p><h1 id="十一、电感提高篇-变压器"><a href="#十一、电感提高篇-变压器" class="headerlink" title="十一、电感提高篇-变压器"></a>十一、电感提高篇-变压器</h1><p><img src="../image/电子元器件/image-20241010084300525.png" alt="image-20241010084300525"></p><p><img src="../image/电子元器件/image-20241010084428008.png" alt="image-20241010084428008"></p><p>自耦变压器</p><p><img src="../image/电子元器件/image-20241010084446206.png" alt="image-20241010084446206"></p><p>高频电压器</p><p><img src="../image/电子元器件/image-20241010084521066.png" alt="image-20241010084521066"></p><h1 id="十二、二极管提高篇-整流桥"><a href="#十二、二极管提高篇-整流桥" class="headerlink" title="十二、二极管提高篇-整流桥"></a>十二、二极管提高篇-整流桥</h1><p><img src="../image/电子元器件/image-20241010085725560.png" alt="image-20241010085725560"></p><p><img src="../image/电子元器件/image-20241010085819848.png" alt="image-20241010085819848"></p><p><img src="../image/电子元器件/image-20241010090854117.png" alt="image-20241010090854117"></p><p><img src="../image/电子元器件/image-20241010091149573.png" alt="image-20241010091149573"></p><p><img src="../image/电子元器件/image-20241010091520526.png" alt="image-20241010091520526"></p><h1 id="十三、IGBT"><a href="#十三、IGBT" class="headerlink" title="十三、IGBT"></a>十三、IGBT</h1><p><img src="../image/电子元器件/image-20241010091800861.png" alt="image-20241010091800861"></p><p><img src="../image/电子元器件/image-20241010091915892.png" alt="image-20241010091915892"></p><p> <img src="../image/电子元器件/image-20241010092343930.png" alt="image-20241010092343930"></p><p><img src="../image/电子元器件/image-20241010092703566.png" alt="image-20241010092703566"></p><p><img src="../image/电子元器件/image-20241010093659606.png" alt="image-20241010093659606"></p><h1 id="十四、电源转换器件"><a href="#十四、电源转换器件" class="headerlink" title="十四、电源转换器件"></a>十四、电源转换器件</h1><p><img src="../image/电子元器件/image-20241010093846823.png" alt="image-20241010093846823"></p><p><img src="../image/电子元器件/image-20241010095050573.png" alt="image-20241010095050573"></p><h1 id="十五、晶振"><a href="#十五、晶振" class="headerlink" title="十五、晶振"></a>十五、晶振</h1><p><img src="../image/电子元器件/image-20241010095228539.png" alt="image-20241010095228539"></p><p><img src="../image/电子元器件/image-20241010095534278.png" alt="image-20241010095534278"></p><p><img src="../image/电子元器件/image-20241010095609255.png" alt="image-20241010095609255"></p><p><img src="../image/电子元器件/image-20241010095806121.png" alt="image-20241010095806121"></p><p><img src="../image/电子元器件/image-20241010095930067.png" alt="image-20241010095930067"></p><h1 id="十六、继电器"><a href="#十六、继电器" class="headerlink" title="十六、继电器"></a>十六、继电器</h1><p><img src="../image/电子元器件/image-20241010100405973.png" alt="image-20241010100405973"></p><p><img src="../image/电子元器件/image-20241010100514105.png" alt="image-20241010100514105"><img src="../image/电子元器件/image-20241010100759787.png" alt="image-20241010100759787"></p><p><img src="../image/电子元器件/image-20241010101045225.png" alt="image-20241010101045225"></p><p> <img src="../image/电子元器件/image-20241010101625010.png" alt="image-20241010101625010"></p><h1 id="十七、光耦"><a href="#十七、光耦" class="headerlink" title="十七、光耦"></a>十七、光耦</h1><p><img src="../image/电子元器件/image-20241010102426703.png" alt="image-20241010102426703"></p><p> <img src="../image/电子元器件/image-20241010102930487.png" alt="image-20241010102930487"></p><p><img src="../image/电子元器件/image-20241010103112265.png" alt="image-20241010103112265"></p><p><img src="../image/电子元器件/image-20241010103358715.png" alt="image-20241010103358715"></p><h1 id="十八、缓冲器"><a href="#十八、缓冲器" class="headerlink" title="十八、缓冲器"></a>十八、缓冲器</h1><p><img src="../image/电子元器件/image-20241010103936566.png" alt="image-20241010103936566"></p><p><img src="../image/电子元器件/image-20241010104005911.png" alt="image-20241010104005911"></p><p> <img src="../image/电子元器件/image-20241010104321687.png" alt="image-20241010104321687"></p><h1 id="十九、触发器"><a href="#十九、触发器" class="headerlink" title="十九、触发器"></a>十九、触发器</h1><p><img src="../image/电子元器件/image-20241010104456449.png" alt="image-20241010104456449"></p><p><img src="../image/电子元器件/image-20241010104635661.png" alt="image-20241010104635661"></p><p><img src="../image/电子元器件/image-20241010104927208.png" alt="image-20241010104927208"></p><p><img src="../image/电子元器件/image-20241010105232092.png" alt="image-20241010105232092"></p><p><img src="../image/电子元器件/image-20241010105338240.png" alt="image-20241010105338240"></p><h1 id="二十、计数器"><a href="#二十、计数器" class="headerlink" title="二十、计数器"></a>二十、计数器</h1><p><img src="../image/电子元器件/image-20241010105516568.png" alt="image-20241010105516568"></p><p><img src="../image/电子元器件/image-20241010105803213.png" alt="image-20241010105803213"></p><p><img src="../image/电子元器件/image-20241010105903713.png" alt="image-20241010105903713"></p>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 元器件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>公共基础&amp;常识判断</title>
      <link href="/posts/59ae6f69.html"/>
      <url>/posts/59ae6f69.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一章-马克思主义哲学"><a href="#第一章-马克思主义哲学" class="headerlink" title="第一章 马克思主义哲学"></a>第一章 马克思主义哲学</h1><h2 id="第一节-哲学概论"><a href="#第一节-哲学概论" class="headerlink" title="第一节 哲学概论"></a>第一节 哲学概论</h2><p><img src="../image/公基&amp;常识/image-20240916110617241.png" alt="image-20240916110617241"></p><p>世界观决定方法论，方法论体现世界观</p><p>世界观就是你对这个世界的看法，方法论是你处理问题的态度。</p><p>综上所述：你对这个世界的看法（听天由命、我命由我）决定了你的态度（消极、积极）</p><p>你做事的态度体现了你对这个世界的看法</p><p><img src="../image/公基&amp;常识/image-20240916112442031.png" alt="image-20240916112442031"></p><p><img src="../image/公基&amp;常识/image-20240916112521562.png" alt="image-20240916112521562"></p><p>注意：哲学和科学不是整体和部分的关系，两者之间不是包含关系</p><p>哲学是对相关科学或者具体科学的提炼和归纳，找到其共性，其具有宏观性。</p><p>哲学为具体科学的研究提供指导，其指导是中性词（具有正确指导也有错误指导）</p><p><img src="../image/公基&amp;常识/image-20240916115123990.png" alt="image-20240916115123990"></p><p><img src="../image/公基&amp;常识/image-20240916115403159.png" alt="image-20240916115403159"></p><p><img src="../image/公基&amp;常识/image-20240916124347405.png" alt="image-20240916124347405"></p><p><img src="../image/公基&amp;常识/image-20240916124621629.png" alt="image-20240916124621629"></p><p><img src="../image/公基&amp;常识/image-20240916134431607.png" alt="image-20240916134431607"></p><p><img src="../image/公基&amp;常识/image-20240916140502251.png" alt="image-20240916140502251"></p><p><img src="../image/公基&amp;常识/image-20240916145339124.png" alt="image-20240916145339124"></p><p><img src="../image/公基&amp;常识/image-20240916152327484.png" alt="image-20240916152327484"></p><p><img src="../image/公基&amp;常识/image-20240916153034327.png" alt="image-20240916153034327"></p><p>没有脱离人体是主观唯心，脱离人体之外的绝对化是客观唯心</p><p><img src="../image/公基&amp;常识/d701f813c8565505e3a215c8b905f4f4_720.jpg" alt="img"></p><p><img src="../image/公基&amp;常识/image-20240916155632931.png" alt="image-20240916155632931"></p><p><img src="../image/公基&amp;常识/image-20240916155753796.png" alt="image-20240916155753796"></p><p><img src="../image/公基&amp;常识/image-20240916155951534.png" alt="image-20240916155951534"></p><p><img src="../image/公基&amp;常识/image-20240916160514528.png" alt="image-20240916160514528"></p><p><img src="../image/公基&amp;常识/image-20240916164823947.png" alt="image-20240916164823947"></p><p><img src="../image/公基&amp;常识/image-20240916180903458.png" alt="image-20240916180903458"></p><p><img src="../image/公基&amp;常识/image-20240916181817947.png" alt="image-20240916181817947"></p><p><img src="../image/公基&amp;常识/image-20240916182605077.png" alt="image-20240916182605077"></p><p><img src="../image/公基&amp;常识/image-20240916184058793.png" alt="image-20240916184058793"></p><p><img src="../image/公基&amp;常识/image-20240916184344967.png" alt="image-20240916184344967"></p><p><img src="../image/公基&amp;常识/2c05b6a8e6793110d6ddf772c3f9a8cd_720.jpg" alt="img"></p><h2 id="第二节-唯物论"><a href="#第二节-唯物论" class="headerlink" title="第二节 唯物论"></a>第二节 唯物论</h2><p><img src="../image/公基&amp;常识/image-20240918111737946.png" alt="image-20240918111737946"></p><p><img src="../image/公基&amp;常识/image-20240918122227993.png" alt="image-20240918122227993"></p><p><img src="../image/公基&amp;常识/image-20240918123046421.png" alt="image-20240918123046421"></p><p><img src="../image/公基&amp;常识/image-20240918124152539.png" alt="image-20240918124152539"></p><p><img src="../image/公基&amp;常识/image-20240918124520981.png" alt="image-20240918124520981"></p><p><img src="../image/公基&amp;常识/image-20240918125301312.png" alt="image-20240918125301312"></p><p><img src="../image/公基&amp;常识/image-20240918130512289.png" alt="image-20240918130512289"></p><p>物质的存在方式：运动</p><p>物质运动的存在方式：时间和空间</p><p><img src="../image/公基&amp;常识/image-20240919102611034.png" alt="image-20240919102611034"></p><p><img src="../image/公基&amp;常识/image-20240919103415064.png" alt="image-20240919103415064"></p><p><img src="../image/公基&amp;常识/image-20240919104459182.png" alt="image-20240919104459182"></p><p> <img src="../image/公基&amp;常识/image-20240919105734321.png" alt="image-20240919105734321"></p><p><img src="../image/公基&amp;常识/image-20240919110735026.png" alt="image-20240919110735026"></p><p><img src="../image/公基&amp;常识/image-20240919112554746.png" alt="image-20240919112554746"></p><p><img src="../image/公基&amp;常识/image-20240919113412869.png" alt="image-20240919113412869"></p><p><img src="../image/公基&amp;常识/image-20240919113725474.png" alt="image-20240919113725474"></p><p><img src="../image/公基&amp;常识/image-20240919121142876.png" alt="image-20240919121142876"></p><p><img src="../image/公基&amp;常识/image-20240919122159589.png" alt="image-20240919122159589"></p><p><img src="../image/公基&amp;常识/image-20240919123003544.png" alt="image-20240919123003544"></p><p><img src="../image/公基&amp;常识/image-20240919123455377.png" alt="image-20240919123455377"></p><p><img src="../image/公基&amp;常识/237bdc2778c4998ac4d4e072921e4c19.jpg" alt="img"></p><h2 id="第三节-辩证法"><a href="#第三节-辩证法" class="headerlink" title="第三节 辩证法"></a>第三节 辩证法</h2><p><img src="../image/公基&amp;常识/image-20240919132934694.png" alt="image-20240919132934694"></p><p><img src="../image/公基&amp;常识/image-20240919133258369.png" alt="image-20240919133258369"></p><p>任何事物处于联系当中，反映了联系就有普遍性，但任何两个事物并不一定都存在联系，反映了联系的条件性。</p><p><img src="../image/公基&amp;常识/image-20240919140520796.png" alt="image-20240919140520796"></p><p><img src="../image/公基&amp;常识/image-20240919173631774.png" alt="image-20240919173631774"></p><p><img src="../image/公基&amp;常识/image-20240919174122190.png" alt="image-20240919174122190"></p><p><img src="../image/公基&amp;常识/image-20240919175117025.png" alt="image-20240919175117025"></p><p><img src="../image/公基&amp;常识/image-20240919175337293.png" alt="image-20240919175337293"></p><p><img src="../image/公基&amp;常识/image-20240919180735320.png" alt="image-20240919180735320"></p><p><img src="../image/公基&amp;常识/image-20240919181333105.png" alt="image-20240919181333105"></p><p><img src="../image/公基&amp;常识/image-20240919181609921.png" alt="image-20240919181609921"></p><p><img src="../image/公基&amp;常识/image-20240919182519467.png" alt="image-20240919182519467"></p><p><img src="../image/公基&amp;常识/image-20240919183213157.png" alt="image-20240919183213157"></p><p><img src="../image/公基&amp;常识/image-20240919183625404.png" alt="image-20240919183625404"></p><p><img src="../image/公基&amp;常识/image-20240919183858354.png" alt="image-20240919183858354"></p><p><img src="../image/公基&amp;常识/image-20240919190801828.png" alt="image-20240919190801828"></p><p><img src="../image/公基&amp;常识/image-20240919191534506.png" alt="image-20240919191534506"></p><p><img src="../image/公基&amp;常识/image-20240919191801055.png" alt="image-20240919191801055"></p><p><img src="../image/公基&amp;常识/image-20240920104507157.png" alt="image-20240920104507157"></p><p>斗争性寓于同一性</p><p><img src="../image/公基&amp;常识/image-20240920111049949.png" alt="image-20240920111049949"></p><p><img src="../image/公基&amp;常识/image-20240920120148542.png" alt="image-20240920120148542"></p><p><img src="../image/公基&amp;常识/image-20240920121814273.png" alt="image-20240920121814273"></p><p><img src="../image/公基&amp;常识/image-20240920123644806.png" alt="image-20240920123644806"></p><p><img src="../image/公基&amp;常识/image-20240920124049691.png" alt="image-20240920124049691"></p><p><img src="../image/公基&amp;常识/image-20240920124541119.png" alt="image-20240920124541119"></p><p><img src="../image/公基&amp;常识/image-20240920125122230.png" alt="image-20240920125122230"></p><p><img src="../image/公基&amp;常识/image-20240920125605746.png" alt="image-20240920125605746"></p><p><img src="../image/公基&amp;常识/image-20240920131248730.png" alt="image-20240920131248730"></p><p><img src="../image/公基&amp;常识/image-20240920132314097.png" alt="image-20240920132314097"></p><p>怎么做（主要抓什么、主要解决什么）—&gt;主次矛盾</p><p>怎么看—&gt;主次方面<br><img src="../image/公基&amp;常识/image-20240920132818090.png" alt="image-20240920132818090"></p><p><img src="../image/公基&amp;常识/image-20240920133109207.png" alt="image-20240920133109207"></p><p><img src="../image/公基&amp;常识/image-20240920135513045.png" alt="image-20240920135513045"></p><p><img src="../image/公基&amp;常识/image-20240920140301301.png" alt="image-20240920140301301"></p><p><img src="../image/公基&amp;常识/image-20240920141030082.png" alt="image-20240920141030082"></p><p><img src="../image/公基&amp;常识/image-20240920141310972.png" alt="image-20240920141310972"></p><p><img src="../image/公基&amp;常识/image-20240920141733836.png" alt="image-20240920141733836"></p><p><img src="../image/公基&amp;常识/image-20240920142341468.png" alt="image-20240920142341468"></p><p><img src="../image/公基&amp;常识/image-20240920152216971.png" alt="image-20240920152216971"></p><p><img src="../image/公基&amp;常识/e550825b904af0ecebf3cfaf3ea8a57b_720.jpg" alt="img"></p><h2 id="第四节-认识论"><a href="#第四节-认识论" class="headerlink" title="第四节 认识论"></a>第四节 认识论</h2><p><img src="../image/公基&amp;常识/image-20240920171140358.png" alt="image-20240920171140358"></p><p><img src="../image/公基&amp;常识/image-20240920173253014.png" alt="image-20240920173253014"></p><p><img src="../image/公基&amp;常识/image-20240920174706902.png" alt="image-20240920174706902"></p><p><img src="../image/公基&amp;常识/image-20240920174808460.png" alt="image-20240920174808460"></p><p><img src="../image/公基&amp;常识/image-20241004103218160.png" alt="image-20241004103218160"></p><p><img src="../image/公基&amp;常识/image-20241004103646685.png" alt="image-20241004103646685"></p><p><img src="../image/公基&amp;常识/image-20241004104019563.png" alt="image-20241004104019563"></p><p><img src="../image/公基&amp;常识/image-20241004105051272.png" alt="image-20241004105051272"></p><p><img src="../image/公基&amp;常识/image-20241004110022256.png" alt="image-20241004110022256"></p><p><img src="../image/公基&amp;常识/image-20241004113753951.png" alt="image-20241004113753951"></p><p><img src="../image/公基&amp;常识/image-20241004115952039.png" alt="image-20241004115952039"></p><p><img src="../image/公基&amp;常识/image-20241004120842153.png" alt="image-20241004120842153"></p><p><img src="../image/公基&amp;常识/image-20241004121407012.png" alt="image-20241004121407012"></p><p><img src="../image/公基&amp;常识/image-20241004121952126.png" alt="image-20241004121952126"></p><p><img src="../image/公基&amp;常识/image-20241004122415636.png" alt="image-20241004122415636"></p><p><img src="../image/公基&amp;常识/image-20241004125157020.png" alt="image-20241004125157020"> <img src="../image/公基&amp;常识/88e3a127c5f7d8161b533f39189bfab7_720.jpg" alt="img"></p><h2 id="第五节-历史唯物主义"><a href="#第五节-历史唯物主义" class="headerlink" title="第五节 历史唯物主义"></a>第五节 历史唯物主义</h2><p><img src="../image/公基&amp;常识/image-20241004125921595.png" alt="image-20241004125921595"></p><p><img src="../image/公基&amp;常识/image-20241004165049531.png" alt="image-20241004165049531"><img src="../image/公基&amp;常识/image-20241004164836064.png" alt="image-20241004164836064"></p><p><img src="../image/公基&amp;常识/image-20241004170131845.png" alt="image-20241004170131845"></p><p><img src="../image/公基&amp;常识/image-20241004170512327.png" alt="image-20241004170512327"></p><p><img src="../image/公基&amp;常识/image-20241004172616911.png" alt="image-20241004172616911"></p><p><img src="../image/公基&amp;常识/image-20241004173355110.png" alt="image-20241004173355110"></p><p><img src="../image/公基&amp;常识/image-20241004174328766.png" alt="image-20241004174328766"><img src="../image/公基&amp;常识/image-20241004174645480.png" alt="image-20241004174645480"></p><p><img src="../image/公基&amp;常识/image-20241005102821181.png" alt="image-20241005102821181"></p><p><img src="../image/公基&amp;常识/image-20241005105141016.png" alt="image-20241005105141016"></p><p><img src="../image/公基&amp;常识/image-20241005105401197.png" alt="image-20241005105401197"></p><p><img src="../image/公基&amp;常识/image-20241005105710267.png" alt="image-20241005105710267"></p><p><img src="../image/公基&amp;常识/image-20241005111026347.png" alt="image-20241005111026347"></p><p><img src="../image/公基&amp;常识/image-20241005111208483.png" alt="image-20241005111208483"></p><p><img src="../image/公基&amp;常识/image-20241005111700100.png" alt="image-20241005111700100"></p><p> <img src="../image/公基&amp;常识/image-20241005112513318.png" alt="image-20241005112513318"></p><p><img src="../image/公基&amp;常识/fcfe367a6c11fe70ff02393b0d8121b7_720.jpg" alt="img"></p><h1 id="第二章-中共党史"><a href="#第二章-中共党史" class="headerlink" title="第二章 中共党史"></a>第二章 中共党史</h1><h2 id="新增党史"><a href="#新增党史" class="headerlink" title="新增党史"></a>新增党史</h2><h2 id="《中国共产党章程》"><a href="#《中国共产党章程》" class="headerlink" title="《中国共产党章程》"></a>《中国共产党章程》</h2><h1 id="第三章-毛泽东思想"><a href="#第三章-毛泽东思想" class="headerlink" title="第三章 毛泽东思想"></a>第三章 毛泽东思想</h1><h2 id="第一节-毛泽东思想的形成和发展"><a href="#第一节-毛泽东思想的形成和发展" class="headerlink" title="第一节 毛泽东思想的形成和发展"></a>第一节 毛泽东思想的形成和发展</h2><h2 id="第二节-新民主主义革命理论"><a href="#第二节-新民主主义革命理论" class="headerlink" title="第二节 新民主主义革命理论"></a>第二节 新民主主义革命理论</h2><h2 id="第三节-社会主义改造理论"><a href="#第三节-社会主义改造理论" class="headerlink" title="第三节 社会主义改造理论"></a>第三节 社会主义改造理论</h2><h2 id="第四节-社会主义建设理论"><a href="#第四节-社会主义建设理论" class="headerlink" title="第四节 社会主义建设理论"></a>第四节 社会主义建设理论</h2><h2 id="第五节-毛泽东思想的活的灵魂"><a href="#第五节-毛泽东思想的活的灵魂" class="headerlink" title="第五节 毛泽东思想的活的灵魂"></a>第五节 毛泽东思想的活的灵魂</h2><h1 id="第四章-中国特色社会主义理论体系"><a href="#第四章-中国特色社会主义理论体系" class="headerlink" title="第四章 中国特色社会主义理论体系"></a>第四章 中国特色社会主义理论体系</h1><h2 id="第一节-邓小平理论"><a href="#第一节-邓小平理论" class="headerlink" title="第一节 邓小平理论"></a>第一节 邓小平理论</h2><h2 id="第二节-“三个代表”重要思想"><a href="#第二节-“三个代表”重要思想" class="headerlink" title="第二节 “三个代表”重要思想"></a>第二节 “三个代表”重要思想</h2><h2 id="第三节-科学发展观"><a href="#第三节-科学发展观" class="headerlink" title="第三节 科学发展观"></a>第三节 科学发展观</h2><h2 id="第四节-中国特色社会主义建设"><a href="#第四节-中国特色社会主义建设" class="headerlink" title="第四节 中国特色社会主义建设"></a>第四节 中国特色社会主义建设</h2><h2 id="第五节-习近平新时代中国特色社会主义思想"><a href="#第五节-习近平新时代中国特色社会主义思想" class="headerlink" title="第五节 习近平新时代中国特色社会主义思想"></a>第五节 习近平新时代中国特色社会主义思想</h2><h1 id="第五章-经济知识"><a href="#第五章-经济知识" class="headerlink" title="第五章 经济知识"></a>第五章 经济知识</h1><h2 id="第一节-政治经济学基本原理"><a href="#第一节-政治经济学基本原理" class="headerlink" title="第一节 政治经济学基本原理"></a>第一节 政治经济学基本原理</h2><p><img src="../image/公基&amp;常识/image-20241213195053089.png" alt="image-20241213195053089"></p><p><img src="../image/公基&amp;常识/image-20241213200231213.png" alt="image-20241213200231213"></p><p><img src="../image/公基&amp;常识/image-20241213201404701.png" alt="image-20241213201404701"></p><p><img src="../image/公基&amp;常识/image-20241213204549735.png" alt="image-20241213204549735"></p><p> <img src="../image/公基&amp;常识/image-20241213205801114.png" alt="image-20241213205801114"></p><p><img src="../image/公基&amp;常识/image-20241213213254856.png" alt="image-20241213213254856"></p><p><img src="../image/公基&amp;常识/image-20241213213840522.png" alt="image-20241213213840522"></p><h2 id="第二节-资本主义经济制度及其运行"><a href="#第二节-资本主义经济制度及其运行" class="headerlink" title="第二节 资本主义经济制度及其运行"></a>第二节 资本主义经济制度及其运行</h2><h2 id="第三节-收入分配"><a href="#第三节-收入分配" class="headerlink" title="第三节 收入分配"></a>第三节 收入分配</h2><h2 id="第四节-微观经济"><a href="#第四节-微观经济" class="headerlink" title="第四节 微观经济"></a>第四节 微观经济</h2><h2 id="第五节-宏观经济"><a href="#第五节-宏观经济" class="headerlink" title="第五节 宏观经济"></a>第五节 宏观经济</h2><h2 id="第六节-经济热词"><a href="#第六节-经济热词" class="headerlink" title="第六节 经济热词"></a>第六节 经济热词</h2>]]></content>
      
      
      <categories>
          
          <category> 国家公务员考试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 公共基础 </tag>
            
            <tag> 常识判断 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shell</title>
      <link href="/posts/84539df9.html"/>
      <url>/posts/84539df9.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、Shell脚本入门"><a href="#一、Shell脚本入门" class="headerlink" title="一、Shell脚本入门"></a>一、Shell脚本入门</h1><h2 id="1、脚本格式"><a href="#1、脚本格式" class="headerlink" title="1、脚本格式"></a>1、脚本格式</h2><p>脚本以<code>#!/bin/bash</code> 开头（指定解析器）</p><h2 id="2、编写脚本"><a href="#2、编写脚本" class="headerlink" title="2、编写脚本"></a>2、编写脚本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment">#  mkdir scripts</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># ls</span></span><br><span class="line">anaconda-ks.cfg                          myinfo.zip  视频  音乐</span><br><span class="line">google-chrome-stable_current_x86_64.rpm  scripts     图片  桌面</span><br><span class="line">info                                     公共        文档</span><br><span class="line">initial-setup-ks.cfg                     模板        下载</span><br><span class="line">[root@yxl100 ~]<span class="comment"># cd scripts/</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># ls</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># touch hello.sh</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># ls</span></span><br><span class="line">hello.sh</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># vim hello.sh</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;hello,world&quot;</span><br></pre></td></tr></table></figure><h2 id="3、运行脚本"><a href="#3、运行脚本" class="headerlink" title="3、运行脚本"></a>3、运行脚本</h2><h3 id="（1）没改权限之前"><a href="#（1）没改权限之前" class="headerlink" title="（1）没改权限之前"></a>（1）没改权限之前</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 scripts]<span class="comment"># sh ./hello.sh</span></span><br><span class="line">hello,world</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># bash hello.sh</span></span><br><span class="line">hello,world</span><br></pre></td></tr></table></figure><h3 id="（2）修改权限之后"><a href="#（2）修改权限之后" class="headerlink" title="（2）修改权限之后"></a>（2）修改权限之后</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 scripts]<span class="comment"># chmod +x hello.sh</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># ls</span></span><br><span class="line">hello.sh</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># ./hello.sh</span></span><br><span class="line">hello,world</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># cd</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># scripts/hello.sh</span></span><br><span class="line">hello,world</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># source hello.sh</span></span><br><span class="line">hello,world</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># . hello.sh</span></span><br><span class="line">hello,world</span><br></pre></td></tr></table></figure><h1 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h1><h2 id="1、系统变量"><a href="#1、系统变量" class="headerlink" title="1、系统变量"></a>1、系统变量</h2><div class="table-container"><table><thead><tr><th>变量</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td><code>$HOME</code></td><td>当前用户的主目录路径</td><td><code>/home/username</code></td></tr><tr><td><code>$USER</code></td><td>当前用户的用户名</td><td><code>username</code></td></tr><tr><td><code>$PATH</code></td><td>可执行文件的搜索路径</td><td><code>/usr/local/bin:/usr/bin</code></td></tr><tr><td><code>$SHELL</code></td><td>当前Shell的路径</td><td><code>/bin/bash</code></td></tr><tr><td><code>$PWD</code></td><td>当前工作目录的路径</td><td><code>/home/username/projects</code></td></tr><tr><td><code>$OLDPWD</code></td><td>上一次工作目录的路径</td><td><code>/home/username</code></td></tr><tr><td><code>$HOSTNAME</code></td><td>当前主机的名称</td><td><code>my-computer</code></td></tr><tr><td><code>$LANG</code></td><td>当前语言设置</td><td><code>en_US.UTF-8</code></td></tr><tr><td><code>$0</code></td><td>当前脚本的名称或路径</td><td><code>script.sh</code> 或 <code>./script.sh</code></td></tr><tr><td><code>$1</code> 到 <code>$9</code></td><td>脚本接收的第1到第9个参数</td><td></td></tr><tr><td><code>$#</code></td><td>传递给脚本的参数个数</td><td><code>3</code></td></tr><tr><td><code>$*</code></td><td>传递给脚本的所有参数作为一个字符串</td><td><code>&quot;arg1 arg2 arg3&quot;</code></td></tr><tr><td>$$$$</td><td>当前Shell进程的PID</td><td><code>12345</code></td></tr><tr><td><code>$?</code></td><td>上一个命令的退出状态</td><td><code>0</code> 表示成功，非0表示失败</td></tr><tr><td><code>$@</code></td><td>传递给脚本的所有参数，每个参数独立显示</td><td><code>&quot;arg1&quot; &quot;arg2&quot; &quot;arg3&quot;</code></td></tr></tbody></table></div><h2 id="2、自定义变量"><a href="#2、自定义变量" class="headerlink" title="2、自定义变量"></a>2、自定义变量</h2><div class="table-container"><table><thead><tr><th><strong>操作/规则</strong></th><th><strong>命令/说明</strong></th><th><strong>示例</strong></th></tr></thead><tbody><tr><td><strong>定义变量</strong></td><td>变量名=变量值</td><td><code>A=5</code></td></tr><tr><td><strong>打印变量</strong></td><td>使用 <code>$</code> 符号引用变量值</td><td><code>echo $A</code> 输出 <code>5</code></td></tr><tr><td><strong>撤销变量</strong></td><td>使用 <code>unset</code> 命令撤销变量</td><td><code>unset A</code></td></tr><tr><td><strong>声明静态变量</strong></td><td>使用 <code>readonly</code> 命令声明静态变量，不能修改和撤销</td><td><code>readonly B=2</code></td></tr><tr><td><strong>空格处理</strong></td><td>如果变量的值中有空格，需要使用双引号或单引号括起来</td><td><code>D=&quot;I love banzhang&quot;</code></td></tr><tr><td><strong>变量默认类型</strong></td><td>Bash 中变量默认是字符串类型，无法直接进行数值运算</td><td><code>C=1+2</code> <code>echo $C</code> 输出 <code>1+2</code></td></tr><tr><td><strong>变量名称</strong></td><td>变量名称可由字母、数字和下划线组成，但不能以数字开头。环境变量名建议大写</td><td>例如：<code>MY_VAR=10</code></td></tr><tr><td><strong>等号两侧不能有空格</strong></td><td>赋值时等号两侧不能有空格</td><td>正确：<code>A=5</code>，错误：<code>A = 5</code></td></tr><tr><td><strong>全局环境变量</strong></td><td>使用 <code>export</code> 命令将变量提升为全局环境变量</td><td><code>export B</code></td></tr></tbody></table></div><h1 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h1><div class="table-container"><table><thead><tr><th><strong>操作/语法</strong></th><th><strong>说明</strong></th><th><strong>示例</strong></th></tr></thead><tbody><tr><td><strong>算术运算符</strong></td><td>进行整数运算</td><td><code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code> <code>++</code> <code>--</code></td></tr><tr><td><strong>使用 $((运算式))</strong></td><td>计算并返回运算结果</td><td><code>result=$((2 + 3))</code></td></tr><tr><td><strong>使用 $[运算式]</strong></td><td>计算并返回运算结果</td><td><code>result=$[2 + 3]</code></td></tr><tr><td><strong>变量与运算结合</strong></td><td>可以将变量与算术表达式结合使用</td><td><code>a=5; result=$((a * 2))</code></td></tr><tr><td><strong>嵌套运算</strong></td><td>支持嵌套运算</td><td><code>result=$(( (2 + 3) * 4 ))</code></td></tr><tr><td><strong>注意事项</strong></td><td>运算符之间需要有空格，以确保正确解析</td><td>正确：<code>result=$(( 2 + 3 ))</code></td></tr></tbody></table></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 scripts]<span class="comment"># echo $[1+2]</span></span><br><span class="line">3</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># a=$[1+2]</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># echo $a</span></span><br><span class="line">3</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># b=$[(2+3)*4]</span></span><br><span class="line">[root@yxl100 scripts]<span class="comment"># echo $b</span></span><br><span class="line">20</span><br><span class="line">[root@yxl100 scripts]<span class="comment"># echo $[$a+$b]</span></span><br><span class="line">23</span><br></pre></td></tr></table></figure><h1 id="四、条件判断"><a href="#四、条件判断" class="headerlink" title="四、条件判断"></a>四、条件判断</h1><div class="table-container"><table><thead><tr><th><strong>操作/语法</strong></th><th><strong>说明</strong></th><th><strong>示例</strong></th></tr></thead><tbody><tr><td><strong>基本语法</strong></td><td></td><td></td></tr><tr><td><code>test condition</code></td><td>使用 <code>test</code> 命令进行条件判断</td><td><code>test 5 -eq 5</code></td></tr><tr><td><code>[ condition ]</code></td><td>使用 <code>[]</code> 进行条件判断，<code>condition</code> 前后需有空格</td><td><code>[ 5 -eq 5 ]</code></td></tr><tr><td><strong>整数比较</strong></td><td>使用算术运算符进行整数比较</td><td></td></tr><tr><td><code>-eq</code></td><td>等于（equal）</td><td><code>[ 5 -eq 5 ]</code></td></tr><tr><td><code>-ne</code></td><td>不等于（not equal）</td><td><code>[ 5 -ne 3 ]</code></td></tr><tr><td><code>-lt</code></td><td>小于（less than）</td><td><code>[ 3 -lt 5 ]</code></td></tr><tr><td><code>-le</code></td><td>小于等于（less equal）</td><td><code>[ 5 -le 5 ]</code></td></tr><tr><td><code>-gt</code></td><td>大于（greater than）</td><td><code>[ 5 -gt 3 ]</code></td></tr><tr><td><code>-ge</code></td><td>大于等于（greater equal）</td><td><code>[ 5 -ge 5 ]</code></td></tr><tr><td><strong>字符串比较</strong></td><td>字符串之间的相等或不等比较</td><td></td></tr><tr><td><code>=</code></td><td>判断字符串是否相等</td><td><code>[ &quot;abc&quot; = &quot;abc&quot; ]</code></td></tr><tr><td><code>!=</code></td><td>判断字符串是否不等</td><td><code>[ &quot;abc&quot; != &quot;def&quot; ]</code></td></tr><tr><td><strong>文件权限判断</strong></td><td>根据文件权限进行判断</td><td></td></tr><tr><td><code>-r</code></td><td>是否具有读权限（read）</td><td><code>[ -r filename ]</code></td></tr><tr><td><code>-w</code></td><td>是否具有写权限（write）</td><td><code>[ -w filename ]</code></td></tr><tr><td><code>-x</code></td><td>是否具有执行权限（execute）</td><td><code>[ -x filename ]</code></td></tr><tr><td><strong>文件类型判断</strong></td><td>根据文件类型进行判断</td><td></td></tr><tr><td><code>-e</code></td><td>文件是否存在（existence）</td><td><code>[ -e 路径 ]</code></td></tr><tr><td><code>-f</code></td><td>文件是否存在且是一个常规文件（file）</td><td><code>[ -f 路径 ]</code></td></tr><tr><td><code>-d</code></td><td>文件是否存在且是一个目录（directory）</td><td><code>[ -d 路径 ]</code></td></tr><tr><td><strong>多条件判断</strong></td><td>使用逻辑运算符进行多条件判断</td><td></td></tr><tr><td><code>&amp;&amp;</code></td><td>逻辑与：前一条命令执行成功时，才执行后一条命令</td><td><code>[ 5 -eq 5 ] &amp;&amp; echo OK</code></td></tr><tr><td>&#124;&#124;</td><td>逻辑或：前一条命令执行失败时，才执行后一条命令</td><td>[ 5 -ne 5 ] &#124;&#124; echo notOK</td></tr></tbody></table></div><h1 id="五、流程控制"><a href="#五、流程控制" class="headerlink" title="五、流程控制"></a>五、流程控制</h1><div class="table-container"><table><thead><tr><th><strong>结构/语法</strong></th><th><strong>说明</strong></th><th><strong>示例</strong></th></tr></thead><tbody><tr><td><strong>if 判断</strong></td><td>根据条件判断执行不同的程序块</td><td></td></tr><tr><td><strong>单分支 if 语句</strong></td><td>单个条件判断，条件成立时执行程序块</td><td><code>if [ $1 -eq 1 ]; then echo &quot;True&quot;; fi</code></td></tr><tr><td><strong>多分支 if 语句</strong></td><td>多个条件判断，依次执行相应程序块</td><td><code>if [ $1 -eq 1 ]; then echo &quot;1&quot;; elif [ $1 -eq 2 ]; then echo &quot;2&quot;; else echo &quot;Other&quot;; fi</code></td></tr><tr><td><strong>注意事项</strong></td><td>- <code>[ 条件判断式 ]</code> 中括号和条件之间必须有空格<br>- <code>if</code> 后要有空格</td><td></td></tr><tr><td><strong>case 语句</strong></td><td>根据变量的值执行不同的程序块</td><td></td></tr><tr><td><strong>基本语法</strong></td><td>使用模式匹配执行不同的命令序列</td><td><code>case $1 in &quot;1&quot;) echo &quot;One&quot;;; &quot;2&quot;) echo &quot;Two&quot;;; *) echo &quot;Other&quot;;; esac</code></td></tr><tr><td><strong>注意事项</strong></td><td>- <code>case</code> 语句以 <code>in</code> 结尾，每个模式匹配以 <code>)</code> 结束<br>- 双分号 <code>;;</code> 表示命令序列结束</td><td></td></tr><tr><td><strong>for 循环</strong></td><td>循环执行一组命令</td><td></td></tr><tr><td><strong>for (( 初始值;条件;变量变化 ))</strong></td><td>经典 for 循环语法</td><td><code>for ((i=0; i&lt;=100; i++)); do sum=$((sum+i)); done</code></td></tr><tr><td><strong>for 变量 in 值1 值2…</strong></td><td>迭代循环一组值</td><td><code>for i in 1 2 3; do echo &quot;Value $i&quot;; done</code></td></tr><tr><td><strong>while 循环</strong></td><td>当条件为真时循环执行命令</td><td></td></tr><tr><td><strong>基本语法</strong></td><td>使用条件判断执行循环</td><td><code>while [ $i -le 100 ]; do sum=$((sum+i)); i=$((i+1)); done</code></td></tr></tbody></table></div><h1 id="六、输入输出"><a href="#六、输入输出" class="headerlink" title="六、输入输出"></a>六、输入输出</h1><div class="table-container"><table><thead><tr><th><strong>命令/操作</strong></th><th><strong>说明</strong></th><th><strong>示例</strong></th><th><strong>选项</strong></th></tr></thead><tbody><tr><td><strong><code>read</code></strong></td><td>从控制台读取输入，并将其存储在指定变量中</td><td><code>read name</code><br><code>read -p &quot;Enter your name: &quot; name</code></td><td><code>-p</code>：提示文本<br><code>-t</code>：设置超时时间（秒）<br><code>-n</code>：限制输入字符数<br><code>-s</code>：隐藏输入</td></tr><tr><td><strong><code>echo</code></strong></td><td>输出文本到终端或文件，通常用于提示或显示变量内容</td><td><code>echo &quot;Hello, $name&quot;</code><br><code>echo &quot;This is a test&quot; &gt; output.txt</code></td><td><code>-n</code>：不换行<br><code>-e</code>：启用转义字符<br><code>-E</code>：禁用转义字符（默认行为）</td></tr><tr><td><strong>输入重定向 (<code>&lt;</code>)</strong></td><td>从文件而不是终端读取输入</td><td><code>read name &lt; input.txt</code></td><td>无</td></tr><tr><td><strong>输出重定向 (<code>&gt;</code>)</strong></td><td>将输出写入文件而不是显示在终端，覆盖文件内容</td><td><code>echo &quot;Hello&quot; &gt; output.txt</code></td><td>无</td></tr><tr><td><strong>追加重定向 (<code>&gt;&gt;</code>)</strong></td><td>将输出追加到文件末尾而不是覆盖文件</td><td><code>echo &quot;Append this&quot; &gt;&gt; output.txt</code></td><td>无</td></tr><tr><td><strong><code>printf</code></strong></td><td>格式化文本输出，比 <code>echo</code> 更灵活，可控制输出格式</td><td><code>printf &quot;Name: %s\n&quot; &quot;$name&quot;</code></td><td><code>-v var</code>：将输出保存到变量 <code>var</code> 而不是输出到屏幕</td></tr><tr><td><strong><code>cat</code></strong></td><td>显示文件内容，或从终端/文件中读取输入并显示或重定向到文件</td><td><code>cat file.txt</code><br><code>cat &lt; input.txt &gt; output.txt</code></td><td><code>-n</code>：显示行号<br><code>-E</code>：显示行尾的 <code>$</code> 符号<br><code>-T</code>：显示制表符为 <code>^I</code></td></tr><tr><td><strong>管道 (&#124;)</strong></td><td>将一个命令的输出作为另一个命令的输入</td><td>echo “Hello” &#124; read var</td><td>无</td></tr><tr><td><strong><code>tee</code></strong></td><td>从标准输入读取数据，将其输出到标准输出和文件</td><td>echo “Hello” &#124; tee output.txt</td><td><code>-a</code>：追加到文件而不是覆盖<br><code>-i</code>：忽略中断信号</td></tr><tr><td><strong><code>&gt;</code> 和 <code>2&gt;</code></strong></td><td>分别用于重定向标准输出和标准错误输出</td><td><code>command &gt; output.txt 2&gt; error.log</code></td><td>无</td></tr><tr><td><strong><code>&amp;&gt;</code></strong></td><td>将标准输出和标准错误输出同时重定向到同一文件</td><td><code>command &amp;&gt; all_output.txt</code></td><td>无</td></tr><tr><td><code>&gt;</code> 和 &#124;&amp;</td><td>分别用于将标准输出重定向到文件、将标准输出和错误管道到另一个命令</td><td>command &gt; file.txt<br>command &#124;&amp; grep “error”</td><td>无</td></tr></tbody></table></div><h1 id="七、函数"><a href="#七、函数" class="headerlink" title="七、函数"></a>七、函数</h1><h2 id="1、系统函数"><a href="#1、系统函数" class="headerlink" title="1、系统函数"></a>1、系统函数</h2><div class="table-container"><table><thead><tr><th><strong>系统函数</strong></th><th><strong>功能描述</strong></th><th><strong>基本语法</strong></th><th><strong>案例</strong></th><th><strong>选项</strong></th><th><strong>补充</strong></th></tr></thead><tbody><tr><td><strong>basename</strong></td><td>删除路径中的所有前缀，包括最后一个斜杠 <code>/</code>，返回文件名部分</td><td><code>basename [string / pathname] [suffix]</code></td><td><code>basename /home/yxl/banzhang.txt</code><br><code>basename /home/yxl/banzhang.txt .txt</code></td><td><code>suffix</code>：可选参数，指定后会从返回的文件名中去除该后缀</td><td>如果路径以 <code>/</code> 结尾，返回空字符串<br>常与 <code>find</code> 命令结合使用，批量提取文件名</td></tr><tr><td><strong>dirname</strong></td><td>删除路径中的文件名部分，返回目录路径</td><td><code>dirname 文件绝对路径</code></td><td><code>dirname /home/yxl/banzhang.txt</code></td><td>无</td><td>对于根路径 <code>/</code>，<code>dirname /</code> 返回 <code>/</code></td></tr></tbody></table></div><h2 id="2、自定义函数"><a href="#2、自定义函数" class="headerlink" title="2、自定义函数"></a>2、自定义函数</h2><div class="table-container"><table><thead><tr><th><strong>结构/语法</strong></th><th><strong>说明</strong></th><th><strong>示例</strong></th><th><strong>选项</strong></th><th><strong>补充</strong></th></tr></thead><tbody><tr><td><strong>自定义函数</strong></td><td>自定义函数用于在脚本中封装可重复使用的代码块</td><td></td><td></td><td>函数定义必须在调用之前<br>函数没有参数时，可以省略括号</td></tr><tr><td><strong>基本语法</strong></td><td>定义一个自定义函数，并可选择性地返回一个整数值</td><td><code>[ function ] funname[()] &#123; Action; [return int;] &#125;</code></td><td><code>return</code> 用于指定返回值</td><td><code>return</code> 后只能返回 0-255 的整数值<br>如果未指定 <code>return</code>，函数的返回值为最后一个命令的执行结果</td></tr><tr><td><strong>调用函数</strong></td><td>通过函数名调用自定义函数，并可以传递参数</td><td><code>funname arg1 arg2</code></td><td></td><td>调用函数时，传递的参数通过 <code>$1</code>, <code>$2</code> 等特殊变量访问</td></tr><tr><td><strong>函数返回值</strong></td><td>函数返回值通过 <code>$?</code> 系统变量获取</td><td><code>result=$?</code></td><td></td><td>函数返回值只能是整数<br>通常用于表示成功或失败</td></tr><tr><td><strong>案例：计算两个数的和</strong></td><td>创建一个自定义函数 <code>sum</code>，用于计算两个输入参数的和</td><td><code>bash&lt;br&gt;function sum() &#123;&lt;br&gt;s=$[$1+$2];&lt;br&gt;echo &quot;$s&quot;;&lt;br&gt;&#125;&lt;br&gt;read -p &quot;Please input the number1: &quot; n1;&lt;br&gt;read -p &quot;Please input the number2: &quot; n2;&lt;br&gt;sum $n1 $n2;</code></td><td><code>read -p</code> 用于读取用户输入并提示输入信息</td><td>自定义函数可以包含任何有效的 Shell 命令<br>函数内部的变量是全局的，如果需要局部变量，请使用 <code>local</code></td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux操作系统</title>
      <link href="/posts/6f6343c5.html"/>
      <url>/posts/6f6343c5.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、Linux-常用命令速查表"><a href="#一、Linux-常用命令速查表" class="headerlink" title="一、Linux 常用命令速查表"></a>一、Linux 常用命令速查表</h1><div class="table-container"><table><thead><tr><th><strong>编号</strong></th><th><strong>命令</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>1</td><td><code>ls</code></td><td>列出当前目录中的文件和子目录</td></tr><tr><td>2</td><td><code>pwd</code></td><td>显示当前工作目录的路径</td></tr><tr><td>3</td><td><code>cd</code></td><td>切换工作目录</td></tr><tr><td>4</td><td><code>mkdir</code></td><td>创建新目录</td></tr><tr><td>5</td><td><code>rmdir</code></td><td>删除空目录</td></tr><tr><td>6</td><td><code>rm</code></td><td>删除文件或目录</td></tr><tr><td>7</td><td><code>cp</code></td><td>复制文件或目录</td></tr><tr><td>8</td><td><code>mv</code></td><td>移动或重命名文件或目录</td></tr><tr><td>9</td><td><code>touch</code></td><td>创建空文件或更新文件的时间戳</td></tr><tr><td>10</td><td><code>cat</code></td><td>连接和显示文件内容</td></tr><tr><td>11</td><td><code>more/less</code></td><td>逐页显示文本文件内容</td></tr><tr><td>12</td><td><code>head/tail</code></td><td>显示文件的前几行或后几行</td></tr><tr><td>13</td><td><code>grep</code></td><td>在文件中搜索指定文本</td></tr><tr><td>14</td><td><code>ps</code></td><td>显示当前运行的进程</td></tr><tr><td>15</td><td><code>kill</code></td><td>终止进程</td></tr><tr><td>16</td><td><code>ifconfig/ip</code></td><td>查看和配置网络接口信息</td></tr><tr><td>17</td><td><code>ping</code></td><td>测试与主机的连通性</td></tr><tr><td>18</td><td><code>wget/curl</code></td><td>从网络下载文件</td></tr><tr><td>19</td><td><code>chmod</code></td><td>修改文件或目录的权限</td></tr><tr><td>20</td><td><code>chown</code></td><td>修改文件或目录的所有者</td></tr><tr><td>21</td><td><code>tar</code></td><td>压缩和解压文件和目录</td></tr><tr><td>22</td><td><code>df/du</code></td><td>显示磁盘使用情况</td></tr><tr><td>23</td><td><code>mount/umount</code></td><td>挂载和卸载文件系统</td></tr><tr><td>24</td><td><code>psql/mysql</code></td><td>与PostgreSQL或MySQL数据库交互的命令行工具</td></tr><tr><td>25</td><td><code>top/htop</code></td><td>显示系统资源的实时使用情况和进程信息</td></tr><tr><td>26</td><td><code>ssh</code></td><td>远程登录到其他计算机</td></tr><tr><td>27</td><td><code>scp</code></td><td>安全地复制文件到远程主机或从远程主机复制到本地</td></tr><tr><td>28</td><td><code>find</code></td><td>在文件系统中查找文件和目录</td></tr><tr><td>29</td><td><code>grep</code></td><td>在文本中搜索匹配的行，并使用正则表达式进行高级搜索</td></tr><tr><td>30</td><td><code>sed</code></td><td>流编辑器，用于文本处理和替换</td></tr><tr><td>31</td><td><code>awk</code></td><td>用于文本处理和数据提取的工具</td></tr><tr><td>32</td><td><code>ssh-keygen</code></td><td>生成SSH密钥对，用于身份验证远程服务器</td></tr><tr><td>33</td><td><code>date</code></td><td>显示或设置系统日期和时间</td></tr><tr><td>34</td><td><code>echo</code></td><td>将文本输出到标准输出</td></tr><tr><td>35</td><td><code>ln</code></td><td>创建硬链接或符号链接</td></tr><tr><td>36</td><td><code>uname</code></td><td>显示系统信息</td></tr><tr><td>37</td><td><code>shutdown/reboot</code></td><td>关闭或重新启动系统</td></tr><tr><td>38</td><td><code>who/w</code></td><td>显示当前登录的用户信息</td></tr><tr><td>39</td><td><code>curl</code></td><td>用于与网络资源交互，支持各种协议</td></tr><tr><td>40</td><td><code>zip/unzip</code></td><td>压缩和解压ZIP文件</td></tr><tr><td>41</td><td><code>chmod/chown</code></td><td>修改文件或目录的权限和所有者</td></tr><tr><td>42</td><td><code>useradd/userdel</code></td><td>添加和删除用户账户</td></tr><tr><td>43</td><td><code>passwd</code></td><td>更改用户密码</td></tr><tr><td>44</td><td><code>cron</code></td><td>定时任务管理器，用于自动执行计划任务</td></tr><tr><td>45</td><td><code>uptime</code></td><td>显示系统的运行时间和负载情况</td></tr><tr><td>46</td><td><code>hostname</code></td><td>显示或设置计算机的主机名</td></tr><tr><td>47</td><td><code>iptables/ufw</code></td><td>配置防火墙规则</td></tr><tr><td>48</td><td><code>netstat/ss</code></td><td>显示网络连接信息</td></tr><tr><td>49</td><td><code>ps/top/htop</code></td><td>显示进程信息和系统资源使用情况</td></tr><tr><td>50</td><td><code>history</code></td><td>查看命令历史记录</td></tr><tr><td>51</td><td><code>free</code></td><td>显示系统内存使用情况</td></tr><tr><td>52</td><td><code>lsblk/fdisk</code></td><td>查看磁盘分区信息和管理磁盘</td></tr><tr><td>53</td><td><code>nc</code></td><td>用于网络连接测试和数据传输</td></tr><tr><td>54</td><td><code>stat</code></td><td>显示文件或目录的详细信息</td></tr><tr><td>55</td><td><code>nmcli</code></td><td>管理网络连接的命令行工具</td></tr><tr><td>56</td><td><code>tailf</code></td><td>实时追踪文件的末尾</td></tr><tr><td>57</td><td><code>scp</code></td><td>安全地将文件从本地复制到远程主机，或从远程主机复制到本地</td></tr><tr><td>58</td><td><code>rsync</code></td><td>在本地和远程系统之间同步文件和目录</td></tr><tr><td>59</td><td><code>dd</code></td><td>复制和转换文件</td></tr><tr><td>60</td><td><code>sudo</code></td><td>以超级用户权限运行命令</td></tr></tbody></table></div><h1 id="二、Linux-常用命令总结"><a href="#二、Linux-常用命令总结" class="headerlink" title="二、Linux 常用命令总结"></a>二、Linux 常用命令总结</h1><div class="table-container"><table><thead><tr><th><strong>类别</strong></th><th><strong>命令</strong></th><th><strong>功能说明</strong></th></tr></thead><tbody><tr><td><strong>文件与目录操作</strong></td><td><code>ls</code></td><td>列出目录内容</td></tr><tr><td></td><td><code>pwd</code></td><td>显示当前工作目录路径</td></tr><tr><td></td><td><code>cd</code></td><td>切换工作目录</td></tr><tr><td></td><td><code>mkdir</code></td><td>创建新目录</td></tr><tr><td></td><td><code>rmdir</code></td><td>删除空目录</td></tr><tr><td></td><td><code>rm</code></td><td>删除文件或目录</td></tr><tr><td></td><td><code>cp</code></td><td>复制文件或目录</td></tr><tr><td></td><td><code>mv</code></td><td>移动或重命名文件或目录</td></tr><tr><td></td><td><code>touch</code></td><td>创建空文件或更新文件时间戳</td></tr><tr><td></td><td><code>ln</code></td><td>创建硬链接或符号链接</td></tr><tr><td><strong>文件内容查看与编辑</strong></td><td><code>cat</code></td><td>连接并显示文件内容</td></tr><tr><td></td><td><code>more/less</code></td><td>逐页查看文件内容</td></tr><tr><td></td><td><code>head/tail</code></td><td>查看文件的前几行或后几行</td></tr><tr><td></td><td><code>grep</code></td><td>在文件中搜索指定文本内容</td></tr><tr><td></td><td><code>sed</code></td><td>流编辑器，用于文本处理和替换</td></tr><tr><td></td><td><code>awk</code></td><td>文本处理工具，用于提取数据</td></tr><tr><td><strong>系统与进程管理</strong></td><td><code>ps</code></td><td>显示当前运行的进程</td></tr><tr><td></td><td><code>kill</code></td><td>终止进程</td></tr><tr><td></td><td><code>top/htop</code></td><td>实时监视系统资源和进程信息</td></tr><tr><td></td><td><code>df/du</code></td><td>查看磁盘使用情况</td></tr><tr><td></td><td><code>free</code></td><td>查看系统内存使用情况</td></tr><tr><td></td><td><code>uptime</code></td><td>显示系统运行时间和负载</td></tr><tr><td></td><td><code>history</code></td><td>查看命令历史记录</td></tr><tr><td><strong>网络操作</strong></td><td><code>ifconfig/ip</code></td><td>查看和配置网络接口信息</td></tr><tr><td></td><td><code>ping</code></td><td>测试网络连通性</td></tr><tr><td></td><td><code>wget/curl</code></td><td>从网络下载文件或与网络资源交互</td></tr><tr><td></td><td><code>ssh</code></td><td>远程登录到其他计算机</td></tr><tr><td></td><td><code>scp</code></td><td>安全地复制文件到远程主机或从远程主机复制到本地</td></tr><tr><td></td><td><code>netstat/ss</code></td><td>查看网络连接信息</td></tr><tr><td></td><td><code>nc</code></td><td>测试网络连接和传输数据</td></tr><tr><td><strong>文件压缩与解压</strong></td><td><code>tar</code></td><td>用于文件和目录的压缩与解压</td></tr><tr><td></td><td><code>zip/unzip</code></td><td>用于ZIP文件的压缩与解压</td></tr><tr><td><strong>用户管理与权限设置</strong></td><td><code>chmod</code></td><td>修改文件或目录的权限</td></tr><tr><td></td><td><code>chown</code></td><td>修改文件或目录的所有者</td></tr><tr><td></td><td><code>useradd/userdel</code></td><td>添加或删除用户账户</td></tr><tr><td></td><td><code>passwd</code></td><td>更改用户密码</td></tr><tr><td><strong>系统管理与配置</strong></td><td><code>date</code></td><td>显示或设置系统日期和时间</td></tr><tr><td></td><td><code>uname</code></td><td>显示系统信息</td></tr><tr><td></td><td><code>shutdown/reboot</code></td><td>关闭或重启系统</td></tr><tr><td></td><td><code>hostname</code></td><td>显示或设置计算机的主机名</td></tr><tr><td></td><td><code>cron</code></td><td>定时任务管理器，用于自动执行计划任务</td></tr><tr><td><strong>磁盘管理</strong></td><td><code>lsblk/fdisk</code></td><td>查看磁盘分区信息并管理磁盘</td></tr><tr><td></td><td><code>dd</code></td><td>复制和转换文件</td></tr><tr><td><strong>安全与防火墙</strong></td><td><code>ssh-keygen</code></td><td>生成SSH密钥对</td></tr><tr><td></td><td><code>iptables/ufw</code></td><td>配置防火墙规则</td></tr><tr><td><strong>其他</strong></td><td><code>echo</code></td><td>输出文本到标准输出</td></tr><tr><td></td><td><code>stat</code></td><td>显示文件或目录的详细信息</td></tr><tr><td></td><td><code>nmcli</code></td><td>管理网络连接的命令行工具</td></tr></tbody></table></div><h1 id="三、Linux-常用命令及其使用举例"><a href="#三、Linux-常用命令及其使用举例" class="headerlink" title="三、Linux 常用命令及其使用举例"></a>三、Linux 常用命令及其使用举例</h1><div class="table-container"><table><thead><tr><th><strong>类别</strong></th><th><strong>命令</strong></th><th><strong>示例</strong></th><th><strong>示例说明</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td><strong>文件与目录操作</strong></td><td><code>ls</code></td><td><code>ls -l</code></td><td>列出目录内容并显示详细信息</td><td>列出当前目录中的文件和子目录</td></tr><tr><td></td><td><code>pwd</code></td><td><code>pwd</code></td><td>显示当前工作目录路径</td><td>显示当前工作目录的绝对路径</td></tr><tr><td></td><td><code>cd</code></td><td><code>cd /home/user</code></td><td>切换到<code>/home/user</code>目录</td><td>切换到指定目录</td></tr><tr><td></td><td><code>mkdir</code></td><td><code>mkdir new_folder</code></td><td>创建名为<code>new_folder</code>的新目录</td><td>创建一个新目录</td></tr><tr><td></td><td><code>rmdir</code></td><td><code>rmdir old_folder</code></td><td>删除名为<code>old_folder</code>的空目录</td><td>删除空目录</td></tr><tr><td></td><td><code>rm</code></td><td><code>rm file.txt</code></td><td>删除名为<code>file.txt</code>的文件</td><td>删除指定文件</td></tr><tr><td></td><td><code>rm -r</code></td><td><code>rm -r old_folder</code></td><td>递归删除名为<code>old_folder</code>的目录及其内容</td><td>删除目录及其内容</td></tr><tr><td></td><td><code>cp</code></td><td><code>cp file.txt backup/</code></td><td>复制<code>file.txt</code>到<code>backup/</code>目录</td><td>复制文件或目录</td></tr><tr><td></td><td><code>mv</code></td><td><code>mv old_name.txt new_name.txt</code></td><td>重命名<code>old_name.txt</code>为<code>new_name.txt</code></td><td>移动或重命名文件或目录</td></tr><tr><td></td><td><code>touch</code></td><td><code>touch new_file.txt</code></td><td>创建一个名为<code>new_file.txt</code>的空文件</td><td>创建空文件或更新文件时间戳</td></tr><tr><td></td><td><code>ln</code></td><td><code>ln file.txt link_to_file</code></td><td>创建<code>file.txt</code>的硬链接<code>link_to_file</code></td><td>创建硬链接或符号链接</td></tr><tr><td><strong>文件内容查看与编辑</strong></td><td><code>cat</code></td><td><code>cat file.txt</code></td><td>显示<code>file.txt</code>的内容</td><td>连接并显示文件内容</td></tr><tr><td></td><td><code>more</code></td><td><code>more file.txt</code></td><td>逐页显示<code>file.txt</code>的内容</td><td>逐页显示文件内容</td></tr><tr><td></td><td><code>less</code></td><td><code>less file.txt</code></td><td>逐页显示<code>file.txt</code>的内容，支持向前和向后滚动</td><td>逐页显示文件内容，支持向前向后滚动</td></tr><tr><td></td><td><code>head</code></td><td><code>head -n 10 file.txt</code></td><td>显示<code>file.txt</code>的前10行</td><td>显示文件的前几行</td></tr><tr><td></td><td><code>tail</code></td><td><code>tail -n 20 file.txt</code></td><td>显示<code>file.txt</code>的后20行</td><td>显示文件的后几行</td></tr><tr><td></td><td><code>grep</code></td><td><code>grep &#39;search_term&#39; file.txt</code></td><td>在<code>file.txt</code>中搜索<code>search_term</code></td><td>在文件中搜索指定文本</td></tr><tr><td></td><td><code>sed</code></td><td><code>sed &#39;s/old/new/&#39; file.txt</code></td><td>替换<code>file.txt</code>中的<code>old</code>为<code>new</code></td><td>流编辑器，用于文本处理和替换</td></tr><tr><td></td><td><code>awk</code></td><td><code>awk &#39;&#123;print $1&#125;&#39; file.txt</code></td><td>提取并显示<code>file.txt</code>中的第一列数据</td><td>文本处理工具，用于提取数据</td></tr><tr><td><strong>系统与进程管理</strong></td><td><code>ps</code></td><td><code>ps aux</code></td><td>显示所有进程的信息</td><td>显示当前运行的进程</td></tr><tr><td></td><td><code>kill</code></td><td><code>kill 1234</code></td><td>终止进程ID为<code>1234</code>的进程</td><td>终止指定进程</td></tr><tr><td></td><td><code>top</code></td><td><code>top</code></td><td>实时监视系统资源和进程信息</td><td>显示系统资源使用情况和进程信息</td></tr><tr><td></td><td><code>htop</code></td><td><code>htop</code></td><td>更友好的进程监视器</td><td>实时监视系统资源和进程信息</td></tr><tr><td></td><td><code>df</code></td><td><code>df -h</code></td><td>显示磁盘空间使用情况（以人类可读的格式）</td><td>查看文件系统的磁盘空间使用情况</td></tr><tr><td></td><td><code>du</code></td><td><code>du -h /home</code></td><td>显示<code>/home</code>目录的磁盘使用情况（以人类可读的格式）</td><td>显示目录的磁盘使用情况</td></tr><tr><td></td><td><code>free</code></td><td><code>free -m</code></td><td>显示系统内存使用情况（以MB为单位）</td><td>显示系统内存的使用情况</td></tr><tr><td></td><td><code>uptime</code></td><td><code>uptime</code></td><td>显示系统运行时间和负载</td><td>显示系统的运行时间和负载</td></tr><tr><td></td><td><code>history</code></td><td><code>history</code></td><td>查看命令历史记录</td><td>查看命令历史记录</td></tr><tr><td><strong>网络操作</strong></td><td><code>ifconfig</code></td><td><code>ifconfig</code></td><td>查看网络接口信息</td><td>查看和配置网络接口信息</td></tr><tr><td></td><td><code>ip</code></td><td><code>ip addr show</code></td><td>显示网络接口的详细信息</td><td>查看网络接口信息</td></tr><tr><td></td><td><code>ping</code></td><td><code>ping google.com</code></td><td>测试与<code>google.com</code>的网络连通性</td><td>测试网络连通性</td></tr><tr><td></td><td><code>wget</code></td><td><code>wget http://example.com/file.zip</code></td><td>从网络下载文件</td><td>从网络下载文件</td></tr><tr><td></td><td><code>curl</code></td><td><code>curl -O http://example.com/file.zip</code></td><td>从网络下载文件</td><td>从网络下载文件</td></tr><tr><td></td><td><code>ssh</code></td><td><code>ssh user@remote_host</code></td><td>远程登录到<code>remote_host</code></td><td>远程登录到指定主机</td></tr><tr><td></td><td><code>scp</code></td><td><code>scp file.txt user@remote_host:/remote/</code></td><td>复制<code>file.txt</code>到远程主机的<code>/remote/</code>目录</td><td>安全地复制文件到远程主机</td></tr><tr><td></td><td><code>netstat</code></td><td><code>netstat -tuln</code></td><td>显示网络连接信息</td><td>查看网络连接情况</td></tr><tr><td></td><td><code>ss</code></td><td><code>ss -tuln</code></td><td>显示网络连接信息</td><td>查看网络连接情况</td></tr><tr><td></td><td><code>nc</code></td><td><code>nc -vz example.com 80</code></td><td>测试<code>example.com</code>的80端口是否开放</td><td>测试主机端口是否可达</td></tr><tr><td><strong>文件压缩与解压</strong></td><td><code>tar</code></td><td><code>tar -czvf archive.tar.gz folder/</code></td><td>压缩<code>folder/</code>目录为<code>archive.tar.gz</code></td><td>压缩文件或目录</td></tr><tr><td></td><td><code>tar</code></td><td><code>tar -xzvf archive.tar.gz</code></td><td>解压<code>archive.tar.gz</code></td><td>解压缩文件或目录</td></tr><tr><td></td><td><code>zip</code></td><td><code>zip archive.zip file1 file2</code></td><td>将<code>file1</code>和<code>file2</code>压缩为<code>archive.zip</code></td><td>压缩文件</td></tr><tr><td></td><td><code>unzip</code></td><td><code>unzip archive.zip</code></td><td>解压<code>archive.zip</code></td><td>解压ZIP文件</td></tr><tr><td><strong>用户管理与权限设置</strong></td><td><code>chmod</code></td><td><code>chmod 755 script.sh</code></td><td>设置<code>script.sh</code>的权限为755</td><td>修改文件或目录的权限</td></tr><tr><td></td><td><code>chown</code></td><td><code>chown user:group file.txt</code></td><td>更改<code>file.txt</code>的所有者为<code>user</code>和<code>group</code></td><td>修改文件或目录的所有者</td></tr><tr><td></td><td><code>useradd</code></td><td><code>useradd newuser</code></td><td>添加名为<code>newuser</code>的用户账户</td><td>添加用户账户</td></tr><tr><td></td><td><code>userdel</code></td><td><code>userdel olduser</code></td><td>删除名为<code>olduser</code>的用户账户</td><td>删除用户账户</td></tr><tr><td></td><td><code>passwd</code></td><td><code>passwd user</code></td><td>更改用户<code>user</code>的密码</td><td>更改用户密码</td></tr><tr><td><strong>系统管理与配置</strong></td><td><code>date</code></td><td><code>date</code></td><td>显示当前系统日期和时间</td><td>显示或设置系统日期和时间</td></tr><tr><td></td><td><code>uname</code></td><td><code>uname -a</code></td><td>显示系统信息</td><td>显示系统的详细信息</td></tr><tr><td></td><td><code>shutdown</code></td><td><code>shutdown -h now</code></td><td>立即关闭系统</td><td>关闭系统</td></tr><tr><td></td><td><code>reboot</code></td><td><code>reboot</code></td><td>重新启动系统</td><td>重启系统</td></tr><tr><td></td><td><code>hostname</code></td><td><code>hostname</code></td><td>显示当前主机名</td><td>查看或设置主机名</td></tr><tr><td></td><td><code>cron</code></td><td><code>crontab -e</code></td><td>编辑用户的定时任务</td><td>管理定时任务</td></tr><tr><td><strong>磁盘管理</strong></td><td><code>lsblk</code></td><td><code>lsblk</code></td><td>显示块设备信息</td><td>查看系统中的块设备信息</td></tr><tr><td></td><td><code>fdisk</code></td><td><code>fdisk /dev/sda</code></td><td>打开磁盘分区工具</td><td>磁盘分区管理工具</td></tr><tr><td></td><td><code>dd</code></td><td><code>dd if=input_file of=output_file bs=4M</code></td><td>复制文件，设置块大小为4MB</td><td>用于低级别的复制和转换</td></tr><tr><td><strong>安全与防火墙</strong></td><td><code>ssh-keygen</code></td><td><code>ssh-keygen -t rsa</code></td><td>生成RSA类型的SSH密钥对</td><td>创建SSH密钥对</td></tr><tr><td></td><td><code>iptables</code></td><td><code>iptables -A INPUT -p tcp --dport 80 -j ACCEPT</code></td><td>允许HTTP流量通过80端口</td><td>配置防火墙规则</td></tr><tr><td></td><td><code>ufw</code></td><td><code>ufw enable</code></td><td>启用Uncomplicated Firewall（UFW）</td><td>简化的防火墙管理工具</td></tr><tr><td><strong>其他</strong></td><td><code>echo</code></td><td><code>echo &quot;Hello, World!&quot;</code></td><td>输出<code>Hello, World!</code>到标准输出</td><td>输出文本到终端</td></tr><tr><td></td><td><code>stat</code></td><td><code>stat file.txt</code></td><td>显示<code>file.txt</code>的详细信息</td><td>查看文件的状态</td></tr><tr><td></td><td><code>nmcli</code></td><td><code>nmcli connection show</code></td><td>显示网络连接信息</td><td>管理网络连接</td></tr></tbody></table></div><h1 id="四、vi-vim编辑器"><a href="#四、vi-vim编辑器" class="headerlink" title="四、vi/vim编辑器"></a>四、vi/vim编辑器</h1><h2 id="1、一般模式"><a href="#1、一般模式" class="headerlink" title="1、一般模式"></a>1、一般模式</h2><p><strong>语法：</strong></p><div class="table-container"><table><thead><tr><th>语法</th><th>功能描述</th></tr></thead><tbody><tr><td><code>yy</code></td><td>复制光标当前一行</td></tr><tr><td><code>y</code> 数字 <code>y</code></td><td>复制一段（从第几行到第几行）</td></tr><tr><td><code>p</code></td><td>箭头移动到目的行粘贴</td></tr><tr><td><code>u</code></td><td>撤销上一步</td></tr><tr><td><code>dd</code></td><td>删除光标当前行</td></tr><tr><td><code>d</code> 数字 <code>d</code></td><td>删除光标（含）后多少行</td></tr><tr><td><code>d&amp;</code></td><td>删除当前行光标之后的</td></tr><tr><td><code>x</code></td><td>剪切一个字母（当前光标），相当于 <code>del</code></td></tr><tr><td><code>X</code></td><td>剪切一个字母（当前光标前一个），相当于 <code>Backspace</code></td></tr><tr><td><code>shift + x</code></td><td>删掉光标之前的一个字母</td></tr><tr><td><code>yw</code></td><td>复制一个词</td></tr><tr><td><code>dw</code></td><td>删除一个词</td></tr><tr><td><code>r</code></td><td>更改当前光标的一个字母</td></tr><tr><td><code>shift + r</code></td><td>依次替换光标所在行（类似于切换替换模式）</td></tr><tr><td><code>shift+6</code>（<code>^</code>）</td><td>移动到行头</td></tr><tr><td><code>shift+4</code>（<code>$</code>）</td><td>移动到行尾</td></tr><tr><td><code>w</code></td><td>移动到下一个词（词头位置）</td></tr><tr><td><code>e</code></td><td>移动到当前词尾</td></tr><tr><td><code>b</code></td><td>移动到上一个词（词头）</td></tr><tr><td><code>1+shift+g</code></td><td>移动到页头，数字</td></tr><tr><td><code>shift+g</code></td><td>移动到页尾</td></tr><tr><td>数字 +<code>shift+g</code></td><td>移动到目标行</td></tr><tr><td><code>shift+h</code>/<code>gg</code></td><td>移动到页头</td></tr></tbody></table></div><h2 id="2、编辑模式"><a href="#2、编辑模式" class="headerlink" title="2、编辑模式"></a>2、编辑模式</h2><p>按下『i, I, o, O, a, A』等任何一个字母之后进入编辑模式</p><p>按下『Esc』这个按键即可退出编辑模式</p><p><strong>语法：</strong></p><div class="table-container"><table><thead><tr><th>按键</th><th>功能</th></tr></thead><tbody><tr><td><code>i</code></td><td>当前光标前</td></tr><tr><td><code>a</code></td><td>当前光标后</td></tr><tr><td><code>o</code></td><td>当前光标行的下一行</td></tr><tr><td><code>I</code></td><td>光标所在行最前</td></tr><tr><td><code>A</code></td><td>光标所在行最后</td></tr><tr><td><code>O</code></td><td>当前光标行的上一行</td></tr></tbody></table></div><h2 id="3、指令模式"><a href="#3、指令模式" class="headerlink" title="3、指令模式"></a>3、指令模式</h2><p>一般模式当中，输入『 : / ?』3个中的任何一个按钮，就可以将光标移动到最底下那一行</p><p><strong>语法：</strong></p><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>:w</code></td><td>保存</td></tr><tr><td><code>:q</code></td><td>退出</td></tr><tr><td><code>:wq</code></td><td>保存并退出</td></tr><tr><td><code>:!</code></td><td>强制执行</td></tr><tr><td><code>/要查找的词</code></td><td>查找指定的词</td></tr><tr><td><code>n</code></td><td>查找下一个</td></tr><tr><td><code>N</code></td><td>往上查找</td></tr><tr><td><code>:noh</code></td><td>取消高亮显示</td></tr><tr><td><code>:set nu</code></td><td>显示行号</td></tr><tr><td><code>:set nonu</code></td><td>关闭行号</td></tr><tr><td><code>:s/old/new</code></td><td>替换当前行匹配到的第一个old为new</td></tr><tr><td><code>:s/old/new/g</code></td><td>匹配当前行匹配到的所有old为new</td></tr><tr><td><code>:%s/old/new</code></td><td>替换文档中每一行匹配到的第一个old为new</td></tr><tr><td><code>:%s/old/new/g</code></td><td>替换文档中匹配到的所有old为new</td></tr></tbody></table></div><h1 id="五、网络配置"><a href="#五、网络配置" class="headerlink" title="五、网络配置"></a>五、网络配置</h1><h2 id="1、配置网络ip地址"><a href="#1、配置网络ip地址" class="headerlink" title="1、配置网络ip地址"></a>1、配置网络ip地址</h2><h3 id="（1）查看当前网络ip"><a href="#（1）查看当前网络ip" class="headerlink" title="（1）查看当前网络ip"></a>（1）查看当前网络ip</h3><p>①Windows查看当前网络ip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\dell&gt;ipconfig</span><br></pre></td></tr></table></figure><p>②Linux查看当前网络ip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># ifconfig</span></span><br></pre></td></tr></table></figure><h3 id="（2）ping测试主机之间的连通性"><a href="#（2）ping测试主机之间的连通性" class="headerlink" title="（2）ping测试主机之间的连通性"></a>（2）ping测试主机之间的连通性</h3><p>①主机ping虚拟机ip</p><p>②虚拟机ping主机ip</p><p>③ping测试当前虚拟机是否可以连接网站</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># ping www.baidu.com</span></span><br></pre></td></tr></table></figure><h3 id="（3）修改ip地址"><a href="#（3）修改ip地址" class="headerlink" title="（3）修改ip地址"></a>（3）修改ip地址</h3><p>①修改Linux的ip配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span><br></pre></td></tr></table></figure><p>TYPE=”Ethernet”<br>PROXY_METHOD=”none”<br>BROWSER_ONLY=”no”<br><u>BOOTPROTO=”static”</u><br>DEFROUTE=”yes”<br>IPV4_FAILURE_FATAL=”no”<br>IPV6INIT=”yes”<br>IPV6_AUTOCONF=”yes”<br>IPV6_DEFROUTE=”yes”<br>IPV6_FAILURE_FATAL=”no”<br>IPV6_ADDR_GEN_MODE=”stable-privacy”<br>NAME=”ens33”<br>UUID=”0b8beb0a-417a-4e50-a054-5f90500bf4b7”<br>DEVICE=”ens33”<br>ONBOOT=”yes”<br><u>#IP 地址</u><br><u>IPADDR=192.168.10.100</u><br><u>#网关</u><br><u>GATEWAY=192.168.10.2</u><br><u>#域名解析器</u><br><u>DNS1=192.168.10.2</u></p><p>有下划线的是需要更改或者添加的</p><p>②重启网络</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># service network restart</span></span><br></pre></td></tr></table></figure><h2 id="2、配置主机名"><a href="#2、配置主机名" class="headerlink" title="2、配置主机名"></a>2、配置主机名</h2><h3 id="（1）Linux配置主机名"><a href="#（1）Linux配置主机名" class="headerlink" title="（1）Linux配置主机名"></a>（1）Linux配置主机名</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]# vi /etc/hostname</span><br></pre></td></tr></table></figure><h3 id="（2）windows配置主机名"><a href="#（2）windows配置主机名" class="headerlink" title="（2）windows配置主机名"></a>（2）windows配置主机名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入 C:\Windows\System32\drivers\etc 路径</span><br><span class="line">修改hosts</span><br></pre></td></tr></table></figure><h2 id="3、远程登录"><a href="#3、远程登录" class="headerlink" title="3、远程登录"></a>3、远程登录</h2><h3 id="（1）windows控制台"><a href="#（1）windows控制台" class="headerlink" title="（1）windows控制台"></a>（1）windows控制台</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\dell&gt;ssh root@yxl100</span><br></pre></td></tr></table></figure><h3 id="（2）远程登录工具"><a href="#（2）远程登录工具" class="headerlink" title="（2）远程登录工具"></a>（2）远程登录工具</h3><p><img src="../image/Linux操作系统/image-20240817185640401.png" alt="image-20240817185640401"></p><h1 id="六、系统管理"><a href="#六、系统管理" class="headerlink" title="六、系统管理"></a>六、系统管理</h1><h2 id="1、服务管理（systemctl）"><a href="#1、服务管理（systemctl）" class="headerlink" title="1、服务管理（systemctl）"></a>1、服务管理（systemctl）</h2><h3 id="（1）常见命令"><a href="#（1）常见命令" class="headerlink" title="（1）常见命令"></a>（1）常见命令</h3><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>systemctl start &lt;service&gt;</code></td><td>启动指定的服务</td></tr><tr><td><code>systemctl stop &lt;service&gt;</code></td><td>停止指定的服务</td></tr><tr><td><code>systemctl restart &lt;service&gt;</code></td><td>重启指定的服务</td></tr><tr><td><code>systemctl reload &lt;service&gt;</code></td><td>重新加载服务的配置，不重启</td></tr><tr><td><code>systemctl enable &lt;service&gt;</code></td><td>开机时自动启动服务</td></tr><tr><td><code>systemctl disable &lt;service&gt;</code></td><td>禁用开机自动启动服务</td></tr><tr><td><code>systemctl status &lt;service&gt;</code></td><td>查看服务的当前状态</td></tr><tr><td><code>systemctl is-active &lt;service&gt;</code></td><td>检查服务是否正在运行</td></tr><tr><td><code>systemctl is-enabled &lt;service&gt;</code></td><td>检查服务是否开机自启</td></tr><tr><td><code>systemctl daemon-reload</code></td><td>重新加载 systemd 配置文件</td></tr><tr><td><code>systemctl list-units</code></td><td>列出所有当前已加载的服务单元</td></tr><tr><td><code>systemctl list-timers</code></td><td>列出当前已配置的定时器</td></tr><tr><td><code>systemctl poweroff</code></td><td>关闭系统</td></tr><tr><td><code>systemctl reboot</code></td><td>重启系统</td></tr></tbody></table></div><h3 id="（2）示例（防火墙服务）"><a href="#（2）示例（防火墙服务）" class="headerlink" title="（2）示例（防火墙服务）"></a>（2）示例（防火墙服务）</h3><p>①查看防火墙服务的状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl status firewalld</span></span><br></pre></td></tr></table></figure><p>②停止防火墙服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl stop firewalld </span></span><br></pre></td></tr></table></figure><p>③启动防火墙服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl start firewalld </span></span><br></pre></td></tr></table></figure><p>④重启防火墙服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl restart firewalld</span></span><br></pre></td></tr></table></figure><p>⑤查看防火墙开机启动状态 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl enable firewalld.service </span></span><br></pre></td></tr></table></figure><p>⑥设置开机时关闭防火墙 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># systemctl disable firewalld.service</span></span><br></pre></td></tr></table></figure><h2 id="2、关机重启"><a href="#2、关机重启" class="headerlink" title="2、关机重启"></a>2、关机重启</h2><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>shutdown now</code></td><td>立即关闭系统</td></tr><tr><td><code>shutdown +10</code></td><td>计划在 10 分钟后关机</td></tr><tr><td><code>shutdown -r now</code></td><td>立即重启系统</td></tr><tr><td><code>shutdown -r +10</code></td><td>计划在 10 分钟后重启</td></tr><tr><td><code>shutdown -c</code></td><td>取消计划中的关机或重启</td></tr><tr><td><code>reboot</code></td><td>立即重启系统</td></tr></tbody></table></div><h1 id="七、常见的基本命令"><a href="#七、常见的基本命令" class="headerlink" title="七、常见的基本命令"></a>七、常见的基本命令</h1><h2 id="1、帮助命令"><a href="#1、帮助命令" class="headerlink" title="1、帮助命令"></a>1、帮助命令</h2><h3 id="（1）判断是外部命令还是内嵌命令"><a href="#（1）判断是外部命令还是内嵌命令" class="headerlink" title="（1）判断是外部命令还是内嵌命令"></a>（1）判断是外部命令还是内嵌命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># type cd</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># type ls</span></span><br></pre></td></tr></table></figure><h3 id="（2）外部命令"><a href="#（2）外部命令" class="headerlink" title="（2）外部命令"></a>（2）外部命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># man ls</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># ls --help</span></span><br></pre></td></tr></table></figure><h3 id="（3）内嵌命令"><a href="#（3）内嵌命令" class="headerlink" title="（3）内嵌命令"></a>（3）内嵌命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@yxl100 ~]<span class="comment"># man -f cd</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># man 3 cd</span></span><br><span class="line">[root@yxl100 ~]<span class="comment"># help cd</span></span><br></pre></td></tr></table></figure><h3 id="（4）常用快捷键"><a href="#（4）常用快捷键" class="headerlink" title="（4）常用快捷键"></a>（4）常用快捷键</h3><div class="table-container"><table><thead><tr><th>快捷键</th><th>功能</th></tr></thead><tbody><tr><td>Ctrl + C</td><td>停止进程</td></tr><tr><td>Ctrl + L</td><td>清屏，等同于 <code>clear</code>；彻底清屏是 <code>reset</code></td></tr><tr><td>Tab</td><td>提示命令（防止敲错）</td></tr><tr><td>上下键</td><td>查找执行过的命令</td></tr></tbody></table></div><h2 id="2、文档目录类"><a href="#2、文档目录类" class="headerlink" title="2、文档目录类"></a>2、文档目录类</h2><div class="table-container"><table><thead><tr><th>命令</th><th>功能描述</th><th>基本语法</th><th>选项及功能</th><th>案例实操</th></tr></thead><tbody><tr><td><strong>pwd</strong></td><td>显示当前工作目录的绝对路径</td><td>pwd</td><td>-</td><td>[root@yxl100 ~]# pwd<br/>/root</td></tr><tr><td><strong>ls</strong></td><td>列出目录的内容</td><td>ls [选项] [目录或是文件]</td><td>-a：显示所有文件，包括隐藏文件<br>-l：显示详细信息（文件权限、大小、时间等）</td><td>[root@yxl100 ~]$ ls -al</td></tr><tr><td><strong>cd</strong></td><td>切换目录</td><td>cd [参数]</td><td>cd ~：回到家目录<br>cd ..：回到上一级目录<br>cd -P：跳转到实际物理路径</td><td>[root@yxl100 ~]# cd /root/</td></tr><tr><td><strong>mkdir</strong></td><td>创建一个新的目录</td><td>mkdir [选项] 目录</td><td>-p：创建多级目录</td><td>[root@yxl100 ~]# mkdir -p xiyou/dssz/meihouwang</td></tr><tr><td><strong>rmdir</strong></td><td>删除一个空的目录</td><td>rmdir 目录</td><td>-</td><td>[root@yxl100 ~]# rmdir xiyou/dssz/meihouwang</td></tr><tr><td><strong>touch</strong></td><td>创建空文件</td><td>touch 文件名称</td><td>-</td><td>[root@yxl100 ~]# touch xiyou/dssz/sunwukong.txt</td></tr><tr><td><strong>cp</strong></td><td>复制文件或目录</td><td>cp [选项] source dest</td><td>-r：递归复制整个文件夹</td><td>[root@yxl100 ~]# cp -r xiyou/dssz/ ./</td></tr><tr><td><strong>rm</strong></td><td>删除文件或目录</td><td>rm [选项] 文件</td><td>-r：递归删除目录<br>-f：强制删除<br>-v：显示详细过程</td><td>[root@yxl100 ~]# rm -rf dssz/</td></tr><tr><td><strong>mv</strong></td><td>移动文件与目录或重命名</td><td>mv oldNameFile newNameFile</td><td>-</td><td>[root@yxl100 ~]# mv xiyou/dssz/suwukong.txt xiyou/dssz/houge.txt</td></tr><tr><td><strong>cat</strong></td><td>查看文件内容</td><td>cat [选项] 文件</td><td>-n：显示所有行的行号</td><td>[root@yxl100 ~]$ cat -n houge.txt</td></tr><tr><td><strong>more</strong></td><td>分屏查看文件内容</td><td>more 文件</td><td>空格键：向下翻页<br>q：退出</td><td>[root@yxl100 ~]# more smartd.conf</td></tr><tr><td><strong>less</strong></td><td>分屏显示文件内容（查看大文档）</td><td>less 文件</td><td>空格键：向下翻页<br>/：向下搜索<br>q：退出</td><td>[root@yxl100 ~]# less smartd.conf</td></tr><tr><td><strong>echo</strong></td><td>输出内容到控制台</td><td>echo [选项] 内容</td><td>-e：支持反斜线控制的字符转换<br>\n：换行符<br>\t：制表符</td><td>[root@yxl100 ~]$ echo -e “hello\tworld”</td></tr><tr><td><strong>head</strong></td><td>显示文件头部内容</td><td>head 文件</td><td>-n：显示指定行数的内容</td><td>[root@yxl100 ~]# head -n 2 smartd.conf</td></tr><tr><td><strong>tail</strong></td><td>输出文件尾部内容</td><td>tail 文件</td><td>-n：显示指定行数的内容<br>-f：实时追踪文件的更新（Ctrl+s暂停、Ctrl+q继续、Ctrl+c结束）</td><td>[root@yxl100 ~]# tail -f houge.txt</td></tr><tr><td><strong>&gt; 和 &gt;&gt;</strong></td><td>输出重定向和追加</td><td>ls -l &gt; 文件（覆盖写）<br>echo 内容 &gt;&gt; 文件</td><td>-</td><td>[root@yxl100 ~]# ls -l &gt; houge.txt<br>[root@yxl100 ~]# echo hello &gt;&gt; houge.txt</td></tr><tr><td><strong>ln</strong></td><td>创建软链接</td><td>ln -s [原文件] [软链接名]</td><td>-</td><td>[root@yxl100 ~]# ln -s xiyou/dssz/houge.txt ./houzi</td></tr><tr><td><strong>history</strong></td><td>查看已经执行过的历史命令</td><td>history</td><td>-</td><td>[root@yxl100 ~]# history</td></tr></tbody></table></div><h2 id="3、时间日期类"><a href="#3、时间日期类" class="headerlink" title="3、时间日期类"></a>3、时间日期类</h2><h3 id="（1）时间日期类命令总结"><a href="#（1）时间日期类命令总结" class="headerlink" title="（1）时间日期类命令总结"></a>（1）时间日期类命令总结</h3><div class="table-container"><table><thead><tr><th>命令</th><th>语法</th><th>功能描述</th><th>示例</th><th>输出</th></tr></thead><tbody><tr><td><code>date</code></td><td><code>date</code></td><td>显示当前时间</td><td><code>date</code></td><td><code>2017 年 06 月 19 日 星期一 20:53:30 CST</code></td></tr><tr><td></td><td><code>date +%Y</code></td><td>显示当前年份</td><td><code>date +%Y</code></td><td><code>2017</code></td></tr><tr><td></td><td><code>date +%m</code></td><td>显示当前月份</td><td><code>date +%m</code></td><td><code>06</code></td></tr><tr><td></td><td><code>date +%d</code></td><td>显示当前是哪一天</td><td><code>date +%d</code></td><td><code>19</code></td></tr><tr><td></td><td><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code></td><td>显示年月日时分秒</td><td><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code></td><td><code>2017-06-19 20:54:58</code></td></tr><tr><td><code>date -d</code></td><td><code>date -d &#39;1 days ago&#39;</code></td><td>显示前一天时间</td><td><code>date -d &#39;1 days ago&#39;</code></td><td><code>2017 年 06 月 18 日 星期日 21:07:22 CST</code></td></tr><tr><td></td><td><code>date -d &#39;-1 days ago&#39;</code></td><td>显示明天时间</td><td><code>date -d &#39;-1 days ago&#39;</code></td><td><code>2017 年 06 月 20 日 星期二 21:07:22 CST</code></td></tr><tr><td><code>date -s</code></td><td><code>date -s &quot;YYYY-MM-DD HH:MM:SS&quot;</code></td><td>设置系统当前时间</td><td><code>date -s &quot;2017-06-19 20:52:18&quot;</code></td><td></td></tr><tr><td><code>cal</code></td><td><code>cal</code></td><td>显示本月日历</td><td><code>cal</code></td><td>显示当前月的日历</td></tr><tr><td></td><td><code>cal YEAR</code></td><td>显示某一年的日历</td><td><code>cal 2017</code></td><td>显示 2017 年的日历</td></tr></tbody></table></div><h3 id="（2）选项说明"><a href="#（2）选项说明" class="headerlink" title="（2）选项说明"></a>（2）选项说明</h3><div class="table-container"><table><thead><tr><th>选项</th><th>功能</th></tr></thead><tbody><tr><td><code>-d</code></td><td>显示指定的“时间字符串”表示的时间，而非当前时间</td></tr><tr><td><code>-s</code></td><td>设置系统日期时间</td></tr><tr><td><code>+%Y-%m-%d %H:%M:%S</code></td><td>指定显示的日期时间格式</td></tr></tbody></table></div><h2 id="4、用户管理命令"><a href="#4、用户管理命令" class="headerlink" title="4、用户管理命令"></a>4、用户管理命令</h2><h3 id="（1）用户管理命令总结"><a href="#（1）用户管理命令总结" class="headerlink" title="（1）用户管理命令总结"></a>（1）用户管理命令总结</h3><div class="table-container"><table><thead><tr><th>命令</th><th>语法</th><th>功能描述</th><th>示例</th></tr></thead><tbody><tr><td><code>useradd</code></td><td><code>useradd 用户名</code></td><td>添加新用户</td><td><code>useradd tangseng</code></td></tr><tr><td></td><td><code>useradd -g 组名 用户名</code></td><td>添加新用户到某个组</td><td><code>useradd -g root tangseng</code></td></tr><tr><td><code>passwd</code></td><td><code>passwd 用户名</code></td><td>设置用户密码</td><td><code>passwd tangseng</code></td></tr><tr><td><code>id</code></td><td><code>id 用户名</code></td><td>查看用户是否存在</td><td><code>id tangseng</code></td></tr><tr><td><code>cat /etc/passwd</code></td><td><code>cat /etc/passwd</code></td><td>查看创建了哪些用户</td><td><code>cat /etc/passwd</code></td></tr><tr><td><code>su</code></td><td><code>su 用户名</code></td><td>切换用户（不带环境变量）</td><td><code>su tangseng</code></td></tr><tr><td></td><td><code>su - 用户名</code></td><td>切换到用户并获得环境变量及执行权限</td><td><code>su - tangseng</code></td></tr><tr><td><code>userdel</code></td><td><code>userdel 用户名</code></td><td>删除用户但保留用户主目录</td><td><code>userdel tangseng</code></td></tr><tr><td></td><td><code>userdel -r 用户名</code></td><td>删除用户及其主目录</td><td><code>userdel -r zhubajie</code></td></tr><tr><td><code>who</code></td><td><code>whoami</code></td><td>显示自身用户名</td><td><code>whoami</code></td></tr><tr><td></td><td><code>who am i</code></td><td>显示登录用户的用户名和登录时间</td><td><code>who am i</code></td></tr><tr><td><code>sudo</code></td><td><code>sudo command</code></td><td>以普通用户执行 root 权限命令</td><td><code>sudo mkdir /opt/module</code></td></tr><tr><td><code>usermod</code></td><td><code>usermod -g 用户组 用户名</code></td><td>修改用户的初始登录组</td><td><code>usermod -g root zhubajie</code></td></tr></tbody></table></div><h3 id="（2）赋予普通用户-root-权限"><a href="#（2）赋予普通用户-root-权限" class="headerlink" title="（2）赋予普通用户 root 权限"></a>（2）赋予普通用户 root 权限</h3><div class="table-container"><table><thead><tr><th>步骤</th><th>操作</th><th>示例</th></tr></thead><tbody><tr><td>1</td><td>添加普通用户</td><td><code>useradd yxl001</code></td></tr><tr><td>2</td><td>设置普通用户密码</td><td><code>passwd yxl001</code></td></tr><tr><td>3</td><td>修改 <code>/etc/sudoers</code> 文件</td><td>使用 <code>vi</code> 编辑器修改，添加 <code>yxl001ALL=(ALL) ALL</code></td></tr><tr><td>4</td><td>允许 sudo 时不输入密码</td><td>添加 <code>yxl001ALL=(ALL) NOPASSWD:ALL</code></td></tr><tr><td>5</td><td>普通用户执行 root 权限命令</td><td><code>sudo mkdir /opt/module</code></td></tr></tbody></table></div><h3 id="（3）选项说明"><a href="#（3）选项说明" class="headerlink" title="（3）选项说明"></a>（3）选项说明</h3><div class="table-container"><table><thead><tr><th>选项</th><th>功能</th></tr></thead><tbody><tr><td><code>-g</code></td><td>指定用户的初始登录组</td></tr><tr><td><code>-r</code></td><td>删除用户及其相关文件</td></tr><tr><td><code>-</code></td><td>切换用户并加载环境变量</td></tr><tr><td><code>NOPASSWD:ALL</code></td><td>允许用户使用 sudo 命令时不输入密码</td></tr></tbody></table></div><h2 id="5、用户组管理命令"><a href="#5、用户组管理命令" class="headerlink" title="5、用户组管理命令"></a>5、用户组管理命令</h2><h3 id="（1）用户组管理命令总结"><a href="#（1）用户组管理命令总结" class="headerlink" title="（1）用户组管理命令总结"></a>（1）用户组管理命令总结</h3><div class="table-container"><table><thead><tr><th>命令</th><th>语法</th><th>功能描述</th><th>示例</th></tr></thead><tbody><tr><td><code>groupadd</code></td><td><code>groupadd 组名</code></td><td>添加新的用户组</td><td><code>groupadd xitianqujing</code></td></tr><tr><td><code>groupdel</code></td><td><code>groupdel 组名</code></td><td>删除指定的用户组</td><td><code>groupdel xitianqujing</code></td></tr><tr><td><code>groupmod</code></td><td><code>groupmod -n 新组名 老组名</code></td><td>修改用户组名称</td><td><code>groupmod -n xitian xitianqujing</code></td></tr><tr><td><code>cat /etc/group</code></td><td><code>cat /etc/group</code></td><td>查看系统中存在的所有用户组</td><td><code>cat /etc/group</code></td></tr></tbody></table></div><h3 id="（2）选项说明-1"><a href="#（2）选项说明-1" class="headerlink" title="（2）选项说明"></a>（2）选项说明</h3><div class="table-container"><table><thead><tr><th>选项</th><th>功能描述</th></tr></thead><tbody><tr><td><code>-n 新组名</code></td><td>指定工作组的新名称</td></tr></tbody></table></div><h2 id="6、文件权限类"><a href="#6、文件权限类" class="headerlink" title="6、文件权限类"></a>6、文件权限类</h2><div class="table-container"><table><thead><tr><th>命令或属性</th><th>描述</th><th>示例输入</th></tr></thead><tbody><tr><td>文件类型</td><td><code>-</code> 表示文件，<code>d</code> 表示目录，<code>l</code> 表示链接文件</td><td><code>-rw-r--r--</code>, <code>drwxr-xr-x</code></td></tr><tr><td>属主权限 (User)</td><td>第 1-3 位字符，<code>r</code> 可读, <code>w</code> 可写, <code>x</code> 可执行</td><td><code>rwx</code>, <code>r-x</code>, <code>r--</code></td></tr><tr><td>属组权限 (Group)</td><td>第 4-6 位字符，<code>r</code> 可读, <code>w</code> 可写, <code>x</code> 可执行</td><td><code>r-x</code>, <code>rw-</code>, <code>r--</code></td></tr><tr><td>其他用户权限 (Other)</td><td>第 7-9 位字符，<code>r</code> 可读, <code>w</code> 可写, <code>x</code> 可执行</td><td><code>r--</code>, <code>r-x</code>, <code>---</code></td></tr><tr><td><code>chmod [ugoa][+-=][rwx] 文件</code></td><td>通过符号设置文件权限，<code>u</code> 属主, <code>g</code> 属组, <code>o</code> 其他用户, <code>a</code> 所有用户</td><td><code>chmod u+x 文件</code>, <code>chmod g-w 文件</code></td></tr><tr><td><code>chmod [数字] 文件</code></td><td>通过数字设置文件权限，<code>r=4</code>, <code>w=2</code>, <code>x=1</code>, <code>rwx=7</code></td><td><code>chmod 755 文件</code>, <code>chmod 644 文件</code></td></tr><tr><td><code>chmod -R [权限] 目录/</code></td><td>递归修改目录及其文件的权限</td><td><code>chmod -R 755 目录/</code></td></tr><tr><td><code>chown [用户] 文件</code></td><td>修改文件的所有者</td><td><code>chown user 文件</code></td></tr><tr><td><code>chown -R [用户]:[组] 目录/</code></td><td>递归修改目录及其文件的所有者和所属组</td><td><code>chown -R user:group 目录/</code></td></tr><tr><td><code>chgrp [组] 文件</code></td><td>修改文件所属组</td><td><code>chgrp group 文件</code></td></tr></tbody></table></div><h2 id="7、探索查找类"><a href="#7、探索查找类" class="headerlink" title="7、探索查找类"></a>7、探索查找类</h2><div class="table-container"><table><thead><tr><th>命令</th><th>选项</th><th>功能</th><th>示例命令</th></tr></thead><tbody><tr><td><code>find</code></td><td><code>-name</code></td><td>按照指定的文件名查找模式查找文件</td><td><code>find xiyou/ -name &quot;*.txt&quot;</code></td></tr><tr><td></td><td><code>-user</code></td><td>查找属于指定用户名所有文件</td><td><code>find /opt -user atguigu</code></td></tr><tr><td></td><td><code>-size</code></td><td>按照指定的文件大小查找文件，单位为：b（块）、c（字节）、w（字）、k（千字节）、M（兆字节）、G（吉字节）</td><td><code>find /home -size +200M</code></td></tr><tr><td><code>locate</code></td><td>无选项</td><td>快速定位文件路径，基于 <code>locate</code> 数据库</td><td><code>locate tmp</code></td></tr><tr><td></td><td><code>updatedb</code></td><td>更新 <code>locate</code> 数据库</td><td><code>updatedb</code></td></tr><tr><td><code>grep</code></td><td><code>-n</code></td><td>显示匹配行及行号</td><td>ls &#124; grep -n test</td></tr><tr><td><code>管道</code></td><td>无选项</td><td>将一个命令的输出作为另一个命令的输入</td><td>ls &#124; grep “file”</td></tr><tr><td><code>which</code></td><td>无选项</td><td>显示命令的完整路径</td><td><code>which python</code></td></tr></tbody></table></div><h2 id="8、压缩和解压类"><a href="#8、压缩和解压类" class="headerlink" title="8、压缩和解压类"></a>8、压缩和解压类</h2><h3 id="（1）命令总结"><a href="#（1）命令总结" class="headerlink" title="（1）命令总结"></a>（1）命令总结</h3><div class="table-container"><table><thead><tr><th>命令</th><th>选项</th><th>功能</th><th>示例命令</th></tr></thead><tbody><tr><td><code>gzip</code></td><td>无选项</td><td>压缩文件，只能将文件压缩为 <code>*.gz</code> 文件</td><td><code>gzip houge.txt</code></td></tr><tr><td><code>gunzip</code></td><td>无选项</td><td>解压缩 <code>.gz</code> 文件</td><td><code>gunzip houge.txt.gz</code></td></tr><tr><td><code>zip</code></td><td><code>-r</code></td><td>压缩文件和目录</td><td><code>zip -r mypackage.zip houge.txt bailongma.txt</code></td></tr><tr><td><code>unzip</code></td><td><code>-d &lt;目录&gt;</code></td><td>解压缩文件，指定解压后的文件存放目录</td><td><code>unzip mypackage.zip -d /opt</code></td></tr><tr><td><code>tar</code></td><td><code>-c</code> <code>-v</code> <code>-f</code> <code>-z</code> <code>-x</code> <code>-C</code></td><td>打包目录并压缩，解包，指定压缩后的文件名，显示详细信息，解压到指定目录</td><td><code>tar -zcvf houma.tar.gz houge.txt bailongma.txt</code><br><code>tar -zxvf houma.tar.gz</code><br><code>tar -zxvf xiyou.tar.gz -C /opt</code></td></tr></tbody></table></div><h3 id="（2）例子说明"><a href="#（2）例子说明" class="headerlink" title="（2）例子说明"></a>（2）例子说明</h3><ol><li><p><strong><code>gzip</code> 压缩</strong>:</p><ul><li>压缩文件 <code>houge.txt</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip houge.txt</span><br></pre></td></tr></table></figure></li><li>解压缩文件 <code>houge.txt.gz</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip houge.txt.gz</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>zip</code> 压缩</strong>:</p><ul><li>压缩 <code>houge.txt</code> 和 <code>bailongma.txt</code> 为 <code>mypackage.zip</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip mypackage.zip houge.txt bailongma.txt</span><br></pre></td></tr></table></figure></li><li>解压缩 <code>mypackage.zip</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip mypackage.zip</span><br></pre></td></tr></table></figure></li><li>解压缩到指定目录 <code>/opt</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip mypackage.zip -d /opt</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>tar</code> 打包</strong>:</p><ul><li>压缩文件 <code>houge.txt</code> 和 <code>bailongma.txt</code> 为 <code>houma.tar.gz</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf houma.tar.gz houge.txt bailongma.txt</span><br></pre></td></tr></table></figure></li><li>压缩目录 <code>xiyou</code> 为 <code>xiyou.tar.gz</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf xiyou.tar.gz xiyou/</span><br></pre></td></tr></table></figure></li><li>解压 <code>houma.tar.gz</code> 到当前目录:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf houma.tar.gz</span><br></pre></td></tr></table></figure></li><li>解压 <code>xiyou.tar.gz</code> 到指定目录 <code>/opt</code>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf xiyou.tar.gz -C /opt</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="9、磁盘查看和分区类"><a href="#9、磁盘查看和分区类" class="headerlink" title="9、磁盘查看和分区类"></a>9、磁盘查看和分区类</h2><h3 id="（1）命令总结-1"><a href="#（1）命令总结-1" class="headerlink" title="（1）命令总结"></a>（1）命令总结</h3><div class="table-container"><table><thead><tr><th>命令</th><th>选项</th><th>功能</th><th>示例命令</th></tr></thead><tbody><tr><td><code>du</code></td><td><code>-h</code></td><td>以人们较易阅读的格式（GBytes, MBytes, KBytes 等）显示磁盘使用情况</td><td><code>du -sh</code></td></tr><tr><td></td><td><code>-a</code></td><td>查看包括文件在内的所有项的磁盘使用情况</td><td><code>du -ah</code></td></tr><tr><td></td><td><code>-c</code></td><td>显示所有文件和子目录大小后，显示总和</td><td><code>du -ch</code></td></tr><tr><td></td><td><code>-s</code></td><td>只显示总和</td><td><code>du -sh /path/to/dir</code></td></tr><tr><td></td><td><code>--max-depth=n</code></td><td>指定统计子目录的深度为第 n 层</td><td><code>du --max-depth=1</code></td></tr><tr><td><code>df</code></td><td><code>-h</code></td><td>以人们较易阅读的格式（GBytes, MBytes, KBytes 等）显示磁盘空间使用情况</td><td><code>df -h</code></td></tr><tr><td><code>lsblk</code></td><td><code>-f</code></td><td>查看详细的设备挂载情况，显示文件系统信息</td><td><code>lsblk -f</code></td></tr><tr><td><code>mount</code></td><td><code>-t vfstype</code></td><td>指定文件系统的类型，通常不必指定，mount 会自动选择正确的类型</td><td><code>mount -t ext4 /dev/sda1 /mnt</code></td></tr><tr><td></td><td><code>-o options</code></td><td>描述设备或档案的挂接方式</td><td><code>mount -o loop /path/to/image.iso /mnt</code></td></tr><tr><td><code>umount</code></td><td>无选项</td><td>卸载设备</td><td><code>umount /mnt</code></td></tr><tr><td><code>fdisk</code></td><td><code>-l</code></td><td>显示所有硬盘的分区列表</td><td><code>fdisk -l</code></td></tr><tr><td></td><td>硬盘设备名</td><td>对新增硬盘进行分区操作</td><td><code>fdisk /dev/sda</code></td></tr></tbody></table></div><h3 id="（2）例子说明-1"><a href="#（2）例子说明-1" class="headerlink" title="（2）例子说明"></a>（2）例子说明</h3><ol><li><p><strong><code>du</code> 查看磁盘使用情况</strong>:</p><ul><li>查看当前目录的磁盘空间使用情况（包括子目录）：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh</span><br></pre></td></tr></table></figure></li><li>查看当前目录下的所有文件和子目录大小：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -ah</span><br></pre></td></tr></table></figure></li><li>显示当前目录的总和：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh /path/to/dir</span><br></pre></td></tr></table></figure></li><li>显示深度为 1 的子目录使用情况：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> --max-depth=1</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>df</code> 查看磁盘空间使用情况</strong>:</p><ul><li>查看磁盘使用情况：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>lsblk</code> 查看设备挂载情况</strong>:</p><ul><li>查看设备的详细挂载信息：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -f</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>mount</code> 和 <code>umount</code> 挂载/卸载设备</strong>:</p><ul><li>挂载光盘镜像文件到 <code>/mnt/cdrom</code>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /mnt/cdrom</span><br><span class="line">mount -t iso9660 /dev/cdrom /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li>卸载光盘镜像文件：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /mnt/cdrom</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>fdisk</code> 分区操作</strong>:</p><ul><li>查看磁盘分区详情：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure></li><li>对硬盘进行分区操作：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sda</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="10、进程管理类"><a href="#10、进程管理类" class="headerlink" title="10、进程管理类"></a>10、进程管理类</h2><p>&lt;!DOCTYPE html&gt;</p><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title></title>    <style>        table {            width: 100%;            border-collapse: collapse;        }        table, th, td {            border: 1px solid black;        }        th, td {            padding: 8px;            text-align: left;        }        th {            background-color: #f2f2f2;        }    </style></head><body>    <table>        <thead>            <tr>                <th>命令</th>                <th>基本用法</th>                <th>选项</th>                <th>功能</th>            </tr>        </thead>        <tbody>            <tr>                <td rowspan="5">ps</td>                <td>ps aux</td>                <td>a</td>                <td>列出带有终端的所有用户的进程</td>            </tr>            <tr>                <td></td>                <td>x</td>                <td>列出当前用户的所有进程，包括没有终端的</td>            </tr>            <tr>                <td></td>                <td>u</td>                <td>用户友好的显示风格</td>            </tr>            <tr>                <td></td>                <td>e</td>                <td>列出所有进程</td>            </tr>            <tr>                <td></td>                <td>f</td>                <td>显示完整格式的进程列表</td>            </tr>            <tr>                <td>kill</td>                <td>kill [选项] 进程号</td>                <td>-9</td>                <td>强制终止进程</td>            </tr>            <tr>                <td>killall</td>                <td>killall 进程名称</td>                <td></td>                <td>通过进程名称终止进程</td>            </tr>            <tr>                <td rowspan="2">pstree</td>                <td>pstree [选项]</td>                <td>-p</td>                <td>显示进程的 PID</td>            </tr>            <tr>                <td></td>                <td>-u</td>                <td>显示进程的用户</td>            </tr>            <tr>                <td rowspan="3">top</td>                <td>top [选项]</td>                <td>-d 秒数</td>                <td>设置更新频率，默认 3 秒</td>            </tr>            <tr>                <td></td>                <td>-i</td>                <td>不显示闲置或僵尸进程</td>            </tr>            <tr>                <td></td>                <td>-p</td>                <td>监控指定的进程 ID</td>            </tr>            <tr>                <td rowspan="4">netstat</td>                <td>netstat -anp | grep 进程号</td>                <td>-a</td>                <td>显示所有套接字</td>            </tr>            <tr>                <td>netstat -nlp | grep 端口号</td>                <td>-n</td>                <td>显示数字格式</td>            </tr>            <tr>                <td></td>                <td>-l</td>                <td>仅列出监听状态</td>            </tr>            <tr>                <td></td>                <td>-p</td>                <td>显示调用进程</td>            </tr>        </tbody>    </table></body></html><h2 id="11、系统定时任务"><a href="#11、系统定时任务" class="headerlink" title="11、系统定时任务"></a>11、系统定时任务</h2><h3 id="crontab-服务管理和定时任务设置总结"><a href="#crontab-服务管理和定时任务设置总结" class="headerlink" title="crontab 服务管理和定时任务设置总结"></a>crontab 服务管理和定时任务设置总结</h3><div class="table-container"><table><thead><tr><th><strong>功能</strong></th><th><strong>命令/选项</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td><strong>服务管理</strong></td><td><code>systemctl restart crond</code></td><td>重新启动 crond 服务</td></tr><tr><td><strong>定时任务设置</strong></td><td><code>crontab [选项]</code></td><td>编辑或管理定时任务</td></tr><tr><td><strong>选项说明</strong></td><td><code>-e</code></td><td>编辑 crontab 定时任务</td></tr><tr><td></td><td><code>-l</code></td><td>查询当前用户的 crontab 任务</td></tr><tr><td></td><td><code>-r</code></td><td>删除当前用户所有的 crontab 任务</td></tr><tr><td><strong>基本语法</strong></td><td><code>* * * * * 命令</code></td><td>定义定时任务的执行时间和频率</td></tr><tr><td><strong>时间字段</strong></td><td>第一个 <code>*</code></td><td>一小时中的分钟（0-59）</td></tr><tr><td></td><td>第二个 <code>*</code></td><td>一天中的小时（0-23）</td></tr><tr><td></td><td>第三个 <code>*</code></td><td>一个月中的天数（1-31）</td></tr><tr><td></td><td>第四个 <code>*</code></td><td>一年的月份（1-12）</td></tr><tr><td></td><td>第五个 <code>*</code></td><td>一周中的星期几（0-7，0 和 7 代表星期日）</td></tr><tr><td><strong>特殊符号</strong></td><td><code>*</code></td><td>代表任何时间</td></tr><tr><td></td><td><code>,</code></td><td>代表不连续的时间（例如：<code>0 8,12,16 * * *</code> 每天的 8 点、12 点和 16 点执行）</td></tr><tr><td></td><td><code>-</code></td><td>代表时间范围（例如：<code>0 5 * * 1-6</code> 周一到周六的凌晨 5 点执行）</td></tr><tr><td></td><td><code>*/n</code></td><td>代表每隔多久执行一次（例如：<code>*/10 * * * *</code> 每隔 10 分钟执行一次）</td></tr><tr><td><strong>特定时间执行命令</strong></td><td><code>45 22 * * * 命令</code></td><td>每天 22 点 45 分执行命令</td></tr><tr><td></td><td><code>0 17 * * 1 命令</code></td><td>每周一的 17 点 0 分执行命令</td></tr><tr><td></td><td><code>0 5 1,15 * * 命令</code></td><td>每月 1 号和 15 号的凌晨 5 点 0 分执行命令</td></tr><tr><td></td><td><code>40 4 * * 1-5 命令</code></td><td>每周一到周五的凌晨 4 点 40 分执行命令</td></tr><tr><td></td><td><code>*/10 4 * * * 命令</code></td><td>每天凌晨 4 点开始，每隔 10 分钟执行一次命令</td></tr><tr><td></td><td><code>0 0 1,15 * 1 命令</code></td><td>每月 1 号和 15 号，每周一的 0 点 0 分执行命令。注意避免同时指定星期几和几号</td></tr><tr><td><strong>案例实操</strong></td><td><code>*/1 * * * * /bin/echo &quot;11&quot; &gt;&gt; /root/bailongma.txt</code></td><td>每隔 1 分钟向 <code>/root/bailongma.txt</code> 文件中添加一个 <code>11</code> 的数字</td></tr></tbody></table></div><h1 id="八、软件包管理"><a href="#八、软件包管理" class="headerlink" title="八、软件包管理"></a>八、软件包管理</h1><h2 id="1、RPM"><a href="#1、RPM" class="headerlink" title="1、RPM"></a>1、RPM</h2><div class="table-container"><table><thead><tr><th>命令</th><th>选项</th><th>功能描述</th><th>示例命令</th></tr></thead><tbody><tr><td><code>rpm -qa</code></td><td>无选项</td><td>查询所安装的所有 RPM 软件包</td><td><code>rpm -qa</code></td></tr><tr><td></td><td>&#124; grep 软件包</td><td>过滤查询指定的软件包</td><td>rpm -qa &#124; grep firefox</td></tr><tr><td><code>rpm -e</code></td><td><code>-e</code></td><td>卸载指定的 RPM 软件包</td><td><code>rpm -e firefox</code></td></tr><tr><td></td><td><code>--nodeps</code></td><td>卸载时不检查依赖，强制卸载</td><td><code>rpm -e --nodeps firefox</code></td></tr><tr><td><code>rpm -ivh</code></td><td><code>-i</code></td><td>安装指定的 RPM 软件包</td><td><code>rpm -ivh firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr><tr><td></td><td><code>-v</code></td><td>显示安装过程的详细信息</td><td><code>rpm -ivh -v firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr><tr><td></td><td><code>-h</code></td><td>显示安装进度条</td><td><code>rpm -ivh -h firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr><tr><td></td><td><code>--nodeps</code></td><td>安装时不检查依赖，强制安装</td><td><code>rpm -ivh --nodeps firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th><strong>功能</strong></th><th><strong>命令</strong></th><th><strong>选项/参数</strong></th><th><strong>功能描述</strong></th><th><strong>示例命令</strong></th></tr></thead><tbody><tr><td><strong>RPM 概述</strong></td><td><code>rpm</code></td><td></td><td>RPM（RedHat Package Manager），基于 RPM 包的管理工具</td><td><code>rpm</code></td></tr><tr><td><strong>查询已安装的软件包</strong></td><td><code>rpm -qa</code></td><td></td><td>查询系统中安装的所有 RPM 软件包</td><td><code>rpm -qa</code></td></tr><tr><td><strong>查询特定软件包</strong></td><td>rpm -qa &#124; grep</td><td></td><td>查询特定的 RPM 软件包</td><td>rpm -qa &#124; grep firefox</td></tr><tr><td><strong>卸载软件包</strong></td><td><code>rpm -e</code></td><td></td><td>卸载指定的 RPM 软件包</td><td><code>rpm -e firefox</code></td></tr><tr><td><strong>强制卸载软件包</strong></td><td><code>rpm -e --nodeps</code></td><td></td><td>卸载软件包时忽略依赖</td><td><code>rpm -e --nodeps firefox</code></td></tr><tr><td><strong>安装软件包</strong></td><td><code>rpm -ivh</code></td><td><code>-i</code> <code>-v</code> <code>-h</code></td><td>安装 RPM 包，显示详细信息与进度条</td><td><code>rpm -ivh firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr><tr><td><strong>忽略依赖安装软件包</strong></td><td><code>rpm -ivh --nodeps</code></td><td></td><td>安装软件包时忽略依赖</td><td><code>rpm -ivh --nodeps firefox-45.0.1-1.el6.centos.x86_64.rpm</code></td></tr><tr><td><strong>查询软件包详细信息</strong></td><td><code>rpm -qi</code></td><td></td><td>查询安装的 RPM 软件包的详细信息</td><td><code>rpm -qi firefox</code></td></tr><tr><td><strong>检查软件包文件的完整性</strong></td><td><code>rpm -V</code></td><td></td><td>检查指定软件包的文件是否被修改</td><td><code>rpm -V firefox</code></td></tr><tr><td><strong>显示软件包文件列表</strong></td><td><code>rpm -ql</code></td><td></td><td>列出指定 RPM 软件包安装的所有文件</td><td><code>rpm -ql firefox</code></td></tr><tr><td><strong>查询文件属于哪个软件包</strong></td><td><code>rpm -qf</code></td><td></td><td>查询系统中文件属于哪个 RPM 软件包</td><td><code>rpm -qf /usr/bin/firefox</code></td></tr></tbody></table></div><h2 id="2、YUM"><a href="#2、YUM" class="headerlink" title="2、YUM"></a>2、YUM</h2><div class="table-container"><table><thead><tr><th>命令</th><th>选项/参数</th><th>功能描述</th><th>示例命令</th></tr></thead><tbody><tr><td><code>yum install</code></td><td><code>-y</code></td><td>安装指定的 RPM 软件包，并对所有提问都回答“yes”</td><td><code>yum -y install firefox</code></td></tr><tr><td><code>yum update</code></td><td><code>-y</code></td><td>更新系统中所有可用的软件包，并对所有提问都回答“yes”</td><td><code>yum -y update</code></td></tr><tr><td><code>yum check-update</code></td><td>无</td><td>检查是否有可用的更新</td><td><code>yum check-update</code></td></tr><tr><td><code>yum remove</code></td><td><code>-y</code></td><td>删除指定的 RPM 软件包</td><td><code>yum -y remove firefox</code></td></tr><tr><td><code>yum list</code></td><td>无</td><td>显示系统中已安装和可用的软件包信息</td><td>yum list &#124; grep firefox</td></tr><tr><td><code>yum clean all</code></td><td>无</td><td>清理 YUM 缓存，包括软件包和头文件的缓存</td><td><code>yum clean all</code></td></tr><tr><td><code>yum makecache</code></td><td>无</td><td>生成缓存，将服务器上的软件包信息缓存到本地</td><td><code>yum makecache</code></td></tr><tr><td><code>yum deplist</code></td><td>无</td><td>显示指定软件包的所有依赖关系</td><td><code>yum deplist firefox</code></td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th><strong>功能</strong></th><th><strong>命令</strong></th><th><strong>选项/参数</strong></th><th><strong>功能描述</strong></th><th><strong>示例命令</strong></th></tr></thead><tbody><tr><td><strong>YUM 概述</strong></td><td><code>yum</code></td><td></td><td>YUM（全称为 Yellow dog Updater, Modified），基于 RPM 包管理工具</td><td><code>yum</code></td></tr><tr><td><strong>安装软件包</strong></td><td><code>yum</code></td><td><code>-y install</code></td><td>安装 RPM 软件包，并回答所有问题为 “yes”</td><td><code>yum -y install firefox</code></td></tr><tr><td><strong>更新软件包</strong></td><td><code>yum</code></td><td><code>update</code></td><td>更新 RPM 软件包</td><td><code>yum update</code></td></tr><tr><td><strong>检查更新</strong></td><td><code>yum</code></td><td><code>check-update</code></td><td>检查是否有可用的更新 RPM 软件包</td><td><code>yum check-update</code></td></tr><tr><td><strong>删除软件包</strong></td><td><code>yum</code></td><td><code>remove</code></td><td>删除指定的 RPM 软件包</td><td><code>yum remove firefox</code></td></tr><tr><td><strong>显示软件包信息</strong></td><td><code>yum</code></td><td><code>list</code></td><td>列出安装或可用的软件包信息</td><td>yum list &#124; grep firefox</td></tr><tr><td><strong>清理缓存</strong></td><td><code>yum</code></td><td><code>clean all</code></td><td>清理 YUM 过期的缓存</td><td><code>yum clean all</code></td></tr><tr><td><strong>缓存服务器包信息</strong></td><td><code>yum</code></td><td><code>makecache</code></td><td>缓存服务器的包信息到本地</td><td><code>yum makecache</code></td></tr><tr><td><strong>显示依赖关系</strong></td><td><code>yum</code></td><td><code>deplist</code></td><td>显示软件包的所有依赖关系</td><td><code>yum deplist firefox</code></td></tr><tr><td><strong>修改 YUM 源</strong></td><td><code>wget</code></td><td>下载命令</td><td>下载国内镜像仓库的 repos 文件，如网易或阿里云</td><td><code>wget http://mirrors.aliyun.com/repo/Centos-7.repo</code></td></tr><tr><td><strong>替换默认的 YUM 源文件</strong></td><td><code>mv</code></td><td></td><td>用下载的 repos 文件替换默认的 CentOS-Base.repo</td><td><code>mv CentOS7-Base-163.repo CentOS-Base.repo</code></td></tr><tr><td><strong>备份默认的 repos 文件</strong></td><td><code>cp</code></td><td></td><td>备份默认的 YUM repos 文件</td><td><code>cp CentOS-Base.repo CentOS-Base.repo.backup</code></td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Linux基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux操作系统 </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CAD实战</title>
      <link href="/posts/20852003.html"/>
      <url>/posts/20852003.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、识图"><a href="#一、识图" class="headerlink" title="一、识图"></a>一、识图</h2><p>1、模具图包括TOP VIEW（版线图、内仁面）、SEC（section、剖面图、其中从上至下的叫做“龙骨”，从左到右的叫做横剖）、OUTSIDE VIEW（外侧图）、BOTTOM VIEW（底视图、底花图）、INSIDE VIEW（内侧图）。从横向来看，还可分为前掌、中腰和后跟三部分。</p><p>2、模具图里面数据的计算：</p><p>①模口=楦底+下内仁+斜度（其中斜度是斜度与座深度在平面的一个投影距离）</p><p>②座深=边座深+中心龙骨</p><p>③总肉厚（总肉厚、龙骨）=花深+基本肉厚+排骨（鞋子里面用来做支撑的）</p><p>④后跟高度=厚度+后翘</p><p>⑤中腰高度=厚度+抛弧+腰弧高度</p><p>⑥前掌高度=厚度+前翘</p><p>3、模具图里面基本肉厚的材质所对应的厚度</p><div class="table-container"><table><thead><tr><th>TPR  3.0</th><th>RB  1.5~2.0</th><th>PU  4.0</th></tr></thead><tbody><tr><td>EVA 0</td><td>TPU  1.5</td></tr></tbody></table></div><h2 id="二、描图"><a href="#二、描图" class="headerlink" title="二、描图"></a>二、描图</h2><p>1、使用扫描机扫描之后，导入犀牛4.0，先使用TR修剪，将多余的修剪掉，然后使用两点搬移，使图片竖直（第二个点按F8开启正交模式），然后将其排列在一条线上面。（先保证个体的竖直，然后再保证整体）</p><p>2、先画参考线，侧边线只要画一个，然后使用镜像对称，画之前观察有哪些可以镜像对称的，能镜像对称的，尽量镜像对称。镜像对称之后如果有部分没重合（龙骨和侧边有些区别），可以按<code>快速键S</code>显示点，然后将点拉过去。</p><p>3、相同距离的使用偏移（<code>offset</code>），小圆弧需要倒圆角，不能直接描，竖直方向或水平方向的花纹如果数量多，需要使用阵列，控制间距，如果间距比较小的，要取多个小间距的平均值。（犀牛4.0有些地方不能不能直接倒圆角，解决方法：先画一个指定半径的圆，然后移动到合适为止（可采取交点对齐法），最后使用TR进行修剪）。<br>4、大致描好之后，导入进CADKEY中进行修剪和画剖面图，画剖面图的步骤：①先点好位置（<code>141</code>）②将点任意搬移下来（<code>421</code>）并使用线（<code>111</code>）连接起来。③剖面图的侧边需要参考AA剖和侧视图。<br>5、最后一步标数据，标数据之前要先设置尺度标注的属性（<code>指令39</code>），字高设置为3.2，尺度标注的小数位数设置为一位并勾上小数点前显示零，箭头形式选择实心并勾上箭头朝外，标数据的时候，要是量两点距离，要先做辅助线，使用（<code>1142</code>）做条垂直线，然后<code>313</code>进行两点量取。尺寸标注之后，位置不合适，可以使用<code>Y F2</code>进行任意调节尺寸的文字位置</p><h2 id="三、割剖面"><a href="#三、割剖面" class="headerlink" title="三、割剖面"></a>三、割剖面</h2><p>1、首先使用<code>指令293</code>截面生点（详细操作：<code>293指令</code>-&gt;选择线（可以默认单点（<code>指令1</code>），也可以框选（<code>指令3</code>））-&gt;选好之后按右键进行确认-&gt;<code>指令5</code>选择图素、其实就是生成点-&gt;选取一条直线用来生成点-&gt;<code>指令2</code>（接受页面）），293-&gt;选择线-&gt;右键-&gt;5-&gt;选择线-&gt;2。</p><p>2、将点搬移（两种方法：①<code>指令4213</code>框选搬移，②<code>快速键m</code>  <code>指令3</code>）至空白地方，侧视图和龙骨的点搬移之后需要进行旋转（指令4313框选旋转-&gt;指令2选择定点图素-&gt;输入旋转角度（顺时针的旋转角度是负角度，逆时针的旋转角度是正角度）），顶视图和底视图是镜像对称的的话，需要旋转180度。</p><p>3、将点搬移之后进行对点，先画一边（因为高度和形状可能不一样）。</p>]]></content>
      
      
      <categories>
          
          <category> CAD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CAD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CAD个人理解</title>
      <link href="/posts/28274df.html"/>
      <url>/posts/28274df.html</url>
      
        <content type="html"><![CDATA[<h1 id="CADKEY-99的使用理解"><a href="#CADKEY-99的使用理解" class="headerlink" title="CADKEY 99的使用理解"></a>CADKEY 99的使用理解</h1><p>1、CAD不会物件锁点，需要自己按指令去寻找</p><p>2、删除图素有三种方法，第一种是<code>Ctrl+Q</code>（只能单一删除）、第二种是<code>813矩形框选</code>删除（可以框选很多，经常使用）、第三种是<code>加速键E</code>删除。<br>3、圆只能使用两边打断（<code>指令223</code>）<br>4、直线延长的两个方法，第一个是使用任意修剪（<code>指令213</code>），先定住一个端点（<code>按3</code>），然后（<code>按1</code>之后）再到所要延长的那边点击，缺点是不能延长指定距离。第二个方法是使用<code>加速键G</code>曲线延伸来进行延伸。</p><p>5、画指定长度的直线的两种方法，第一种方法是先做垂直线和平行线，然后使用412距离复制，之后使用修剪功能将多余的修剪掉，但是该方法只是画垂直方向或者水平方向的直线。第二种方法是先画一条任意长度的直线，然后使用<code>指令114</code>做一条垂直线，接着使用<code>指令1132</code>来进行输距离平行（偏移），最后修剪掉多余的线即可获取到指定长度的直线。</p><p>6、将直线改为虚线是通过<code>指令722</code>改变属性，如果要是一直用虚线或者实线的话，可以通过<code>指令721</code>设定属性。</p><p>7、<code>Ctrl+P快捷键</code>的使用，该快捷键是用来打印的，打印的操作步骤，属性-&gt;布局（横向打印还是纵向打印）-&gt;高级-&gt;纸张规格（打印A4选A3，可以减少误差）。</p><p>8、已知两个点和半径画圆的方法，先做两个点的中垂线，然后以两个点中的一个点为圆心画圆，圆会与中垂线有交点，最后以交点为圆心再画圆。</p><p>9、CAD快速修剪底花的方法，先按<code>加速键E</code>，然后按<code>指令F4</code>选择多边形框选，尽可能的挨着边描，然后框起来删掉，删掉周围的之后，按<code>指令215</code>进行多边修剪。</p><h1 id="CADKEY-99和Rhinoceros-4-0的对比"><a href="#CADKEY-99和Rhinoceros-4-0的对比" class="headerlink" title="CADKEY 99和Rhinoceros 4.0的对比"></a>CADKEY 99和Rhinoceros 4.0的对比</h1><p>CADKEY99和Rhinoceros 4.0的使用便捷性上面有很大的区别</p><div class="table-container"><table><thead><tr><th style="text-align:center">区别点</th><th style="text-align:center">CADKEY99</th><th style="text-align:center">Rhinoceros 4.0</th></tr></thead><tbody><tr><td style="text-align:center">画指定距离直线</td><td style="text-align:center">需要做辅助线，使用搬移或者输距离平行</td><td style="text-align:center">直接输入长度即可</td></tr><tr><td style="text-align:center">尺寸标注</td><td style="text-align:center">需要输入指令，然后选择需要的端点或者交点</td><td style="text-align:center">直接在工具栏点击即可而且具有锁点功能</td></tr><tr><td style="text-align:center">放大缩小</td><td style="text-align:center">需要使用组合快捷键进行放大缩小</td><td style="text-align:center">直接按住<code>Ctrl键</code>然后按住鼠标右键上下滑动进行放大缩小</td></tr><tr><td style="text-align:center">撤回上一步操作</td><td style="text-align:center">有很多不能撤回，只能撤回删除的，如果操作失误则不能撤回，只能单独删除错误添加的。</td><td style="text-align:center">直接按住<code>Ctrl+Z</code>即可返回上一步</td></tr><tr><td style="text-align:center">修剪</td><td style="text-align:center">CADKEY不同的修剪对应的不同的命令</td><td style="text-align:center">所有修剪统一为<code>TR指令</code></td></tr><tr><td style="text-align:center">倒圆角</td><td style="text-align:center">指令161倒圆角，并且角度过大也能进行倒圆角</td><td style="text-align:center">指令F倒圆角，并且角度过大的话会导致倒圆角失败</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> CAD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CAD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识CAD</title>
      <link href="/posts/b234e982.html"/>
      <url>/posts/b234e982.html</url>
      
        <content type="html"><![CDATA[<h1 id="初识CAD"><a href="#初识CAD" class="headerlink" title="初识CAD"></a>初识CAD</h1><h4 id="CAD基础常用指令（适用于Rhinoceros-4-0犀牛、AutoCAD14）"><a href="#CAD基础常用指令（适用于Rhinoceros-4-0犀牛、AutoCAD14）" class="headerlink" title="CAD基础常用指令（适用于Rhinoceros 4.0犀牛、AutoCAD14）"></a>CAD基础常用指令（适用于Rhinoceros 4.0犀牛、AutoCAD14）</h4><div class="table-container"><table><thead><tr><th style="text-align:center">TRIM    TR</th><th style="text-align:center">修剪</th><th style="text-align:center">COPY  CO</th><th style="text-align:center">复制</th><th style="text-align:center">erase E</th><th style="text-align:center">删除</th></tr></thead><tbody><tr><td style="text-align:center">mirror mi</td><td style="text-align:center">镜像</td><td style="text-align:center">offset  of</td><td style="text-align:center">偏移</td><td style="text-align:center">rotate r</td><td style="text-align:center">旋转</td></tr><tr><td style="text-align:center">break br</td><td style="text-align:center">打断</td><td style="text-align:center">explode x</td><td style="text-align:center">分解</td><td style="text-align:center">scale sc</td><td style="text-align:center">等比放大</td></tr><tr><td style="text-align:center">ARC a</td><td style="text-align:center">弧</td><td style="text-align:center">circle C</td><td style="text-align:center">圆</td><td style="text-align:center">line L</td><td style="text-align:center">线</td></tr></tbody></table></div><h4 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h4><div class="table-container"><table><thead><tr><th>F1~F7</th><th>调整坐标系</th></tr></thead><tbody><tr><td>F8</td><td>调整直线任意方向或者垂直直角坐标系</td></tr></tbody></table></div><h4 id="CADKEY-99（2D-指令集（其中的123等是功能键F1、F2、F3）"><a href="#CADKEY-99（2D-指令集（其中的123等是功能键F1、F2、F3）" class="headerlink" title="CADKEY 99（2D)指令集（其中的123等是功能键F1、F2、F3）"></a>CADKEY 99（2D)指令集（其中的123等是功能键F1、F2、F3）</h4><p>1、图形制作</p><div class="table-container"><table><thead><tr><th style="text-align:center">111 单线</th><th style="text-align:center">112  连续线</th><th style="text-align:center">1131 任意平行线</th><th style="text-align:center">1132  输距离平行线</th><th style="text-align:center">114  垂直</th><th style="text-align:center">1151  画水平线</th></tr></thead><tbody><tr><td style="text-align:center">1152 画垂直线</td><td style="text-align:center">124  弧-三点定弧</td><td style="text-align:center">134 圆-三点定弧</td><td style="text-align:center">127 任意点切弧</td><td style="text-align:center">1353 三切圆</td><td style="text-align:center">141 点位置</td></tr><tr><td style="text-align:center">161 倒圆角</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><p>2、编辑功能</p><div class="table-container"><table><thead><tr><th style="text-align:center">211 单边修剪</th><th style="text-align:center">212  对角修剪</th><th style="text-align:center">213  两边修剪</th><th style="text-align:center">214  中间修剪</th><th style="text-align:center">215  多边修剪</th><th style="text-align:center">216  任意修剪</th></tr></thead><tbody><tr><td style="text-align:center">221 单边打断</td><td style="text-align:center">222  对角打断</td><td style="text-align:center">223  两边打断</td><td style="text-align:center">224 中间打断</td><td style="text-align:center">225  多边打断</td><td style="text-align:center">226  任意打断</td></tr><tr><td style="text-align:center">291 裁面修剪</td><td style="text-align:center">292  裁面打断</td><td style="text-align:center">293  裁面生点</td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><p>3、细部绘图</p><div class="table-container"><table><thead><tr><th style="text-align:center">311  标示水平尺寸</th><th style="text-align:center">312  标示垂直尺寸</th><th style="text-align:center">313  标示两点尺寸</th><th style="text-align:center">314  标示半径尺寸</th><th style="text-align:center">315  标示角度尺寸</th></tr></thead><tbody><tr><td style="text-align:center">316  标示直径尺寸</td><td style="text-align:center">37  编辑尺寸文字</td><td style="text-align:center">38  更改尺寸</td><td style="text-align:center">39  改变文字尺寸属性</td><td style="text-align:center">321  输入文字</td></tr><tr><td style="text-align:center">322  开档案</td><td style="text-align:center">341  箭头</td><td style="text-align:center">351  填充剖面线</td><td style="text-align:center"></td></tr></tbody></table></div><p>4、转换功能</p><div class="table-container"><table><thead><tr><th style="text-align:center">411  距离搬移</th><th style="text-align:center">412  距离复制</th><th style="text-align:center">421  任意搬移</th><th style="text-align:center">422  任意复制</th></tr></thead><tbody><tr><td style="text-align:center">431  任意旋转搬移</td><td style="text-align:center">432  任意旋转复制</td><td style="text-align:center">451  镜像搬移</td><td style="text-align:center">452  镜像复制</td></tr></tbody></table></div><p>5、图层管理</p><div class="table-container"><table><thead><tr><th style="text-align:center">611  设定工作层</th><th style="text-align:center">662  打开层（Add）</th><th style="text-align:center">663  关闭层（Remove）</th></tr></thead><tbody><tr><td style="text-align:center">664  搬移层（Move）</td><td style="text-align:center">6641  选择实体-搬移到某层</td><td style="text-align:center">665  列出层状态</td></tr></tbody></table></div><p>6、档案管理</p><div class="table-container"><table><thead><tr><th style="text-align:center">512  载入图形</th><th style="text-align:center">521  零件档案制作</th><th style="text-align:center">513  列入档名/载入图形</th></tr></thead><tbody><tr><td style="text-align:center">522  零件档案载入</td><td style="text-align:center">542  CDL档打开</td><td style="text-align:center">541  CDL档输出</td></tr><tr><td style="text-align:center">544  列出档名/执行档案</td><td style="text-align:center"></td></tr></tbody></table></div><p>7、系统控制</p><div class="table-container"><table><thead><tr><th style="text-align:center">7132  距离验证</th><th style="text-align:center">7152  周长验证</th><th style="text-align:center">721  设定属性</th><th style="text-align:center">722  改变属性</th><th style="text-align:center">77  绘图打印</th><th style="text-align:center">81  删除</th></tr></thead><tbody><tr><td style="text-align:center"></td></tr></tbody></table></div><p>8、快捷键</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">ALT+</button></li><li class="tab"><button type="button" data-href="#-2">Ctrl+</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><div class="table-container"><table><thead><tr><th style="text-align:center">W  放大</th><th style="text-align:center">H  缩小</th><th style="text-align:center">A  自动还原</th></tr></thead><tbody><tr><td style="text-align:center">Z  设定属性</td><td style="text-align:center">S  变更属性</td><td style="text-align:center">M 遮蔽</td></tr><tr><td style="text-align:center">X  显示图层</td><td style="text-align:center"></td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><div class="table-container"><table><thead><tr><th style="text-align:center">Q  单一删除</th><th style="text-align:center">C  复制</th><th style="text-align:center">Tab  切换</th></tr></thead><tbody><tr><td style="text-align:center">O  开启档案</td><td style="text-align:center">P  打印</td><td style="text-align:center">S  串接桥接</td></tr><tr><td style="text-align:center">i  计算</td><td style="text-align:center">U  救回图素</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>9、单字母键/缩写键/加速键（不太建议使用，多了一步确定）</p><div class="table-container"><table><thead><tr><th style="text-align:center">A  弧</th><th style="text-align:center">B  打断</th><th style="text-align:center">C  圆</th><th style="text-align:center">D  两点标注</th><th style="text-align:center">E  删除</th><th style="text-align:center">F  倒角</th><th style="text-align:center">G  曲线延伸</th></tr></thead><tbody><tr><td style="text-align:center">H  水平标注</td><td style="text-align:center">K  图层</td><td style="text-align:center">L  线</td><td style="text-align:center">M  搬移</td><td style="text-align:center">N  文字</td><td style="text-align:center">P  点</td><td style="text-align:center">R  旋转</td></tr><tr><td style="text-align:center">S  曲线</td><td style="text-align:center">T  修剪</td><td style="text-align:center">V  垂直标注</td><td style="text-align:center">W  对角修剪</td><td style="text-align:center">Z  点到线的距离测量</td><td style="text-align:center"></td></tr></tbody></table></div><h1 id="CAD描图"><a href="#CAD描图" class="headerlink" title="CAD描图"></a>CAD描图</h1><p>1、点击Photoshop CS ，文件-&gt;导入-&gt;选择机器（例如A688）-&gt;点击扫描，将实体放在扫描仪上面进行扫描<br>2、复制一个定型框，使用犀牛描图，pi指令插入图片，选择定性框</p><p>3、图片插入成功之后，使用指令rotate将图片旋转90°。</p><p>4、点击鼠标中键，选择合适曲线进行描边</p><p>5、注意细节：拐弯处密集节点，直线处 稀疏节点。不能太密集，也不能太稀疏，太密集显得不够顺，太稀疏不准确。直线和拐弯处要恰到好处，根据实际情况进行调整。</p><h1 id="3D扫描"><a href="#3D扫描" class="headerlink" title="3D扫描"></a>3D扫描</h1><p>1、要先贴标记点(小圆点、参考点)，作用是为了提高扫描精度、辅助对齐和拼接。（每个面3-4个标记点即可，注意要避开中心线）</p><p>2、点开FlexScan3D这个3D扫描软件，项目-&gt;删除之前的扫描结果-&gt;调整曝光度（不能太红也不能太黑）-&gt;先扫一个面-&gt;每扫描一个面就把转盘顺时针旋转90度（每个面要扫描4次）-&gt;按住shift将4个扫描结果进行解锁-&gt;按住Ctrl键进行裁剪（选择好之后，单击右键选择删除）-&gt;裁剪完毕之后选择对齐（精细对齐）-&gt;对齐完毕之后选择组合-&gt;扫描下一个面的时候，要之前合并的那个取消勾选，接着的扫描步骤同上</p><p>3、四个面全部扫完之后，先全部勾上，然后按住shift键全选，先选择对齐（标记点对齐），再选择对齐（精细对齐）,对齐之后进行组合（组合之前要确定是否重合），组合之后观察是否有哪个面需要补扫的（不完整，有缺陷），确认组合之后进行合并，最后输出到桌面。<br>4、由于3D扫描结果文件比较大，所以需要使用GOM Inspect软件，将其处理，需要处理两次，处理好了之后选择合适的格式进行输出。</p>]]></content>
      
      
      <categories>
          
          <category> CAD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CAD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript面试题</title>
      <link href="/posts/3a213ca.html"/>
      <url>/posts/3a213ca.html</url>
      
        <content type="html"><![CDATA[<h4 id="1、说说JavaScript中的数据类型？存储上的差别？"><a href="#1、说说JavaScript中的数据类型？存储上的差别？" class="headerlink" title="1、说说JavaScript中的数据类型？存储上的差别？"></a>1、说说JavaScript中的数据类型？存储上的差别？</h4><p>JavaScript中的数据类型分为基本数据类型和引用数据类型，其中基本数据类型有Number、String、Boolean、undifine、null、symbol，引用数据类型包括object、Array、Function三种，基本数据类型和引用数据类型在存储上的差别是存储的位置不同，基本数据类型存储在栈中，引用数据类型存储在堆中</p>]]></content>
      
      
      <categories>
          
          <category> 面试题 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS面试题</title>
      <link href="/posts/3b5bdfda.html"/>
      <url>/posts/3b5bdfda.html</url>
      
        <content type="html"><![CDATA[<h3 id="1、CSS盒子模型有哪些？"><a href="#1、CSS盒子模型有哪些？" class="headerlink" title="1、CSS盒子模型有哪些？"></a>1、CSS盒子模型有哪些？</h3><p><img src="../image/CSS面试题/image-20231117163444048.png" alt="image-20231117163444048"></p><p>CSS中的盒子模型分为IE盒子模型和标准W3C盒子模型，其中IE盒子模型也叫作“怪异盒子模型”，它们两者之前的一个区别在于盒子的宽度width的一个计算方式，IE盒子模型的宽度除了内容区content还包括border边框和padding内边距，而标准W3C模型的width仅仅只包含内容区content。</p><p>除了以上的两种盒子模型，还有一种现代化盒子模型，也就是CSS3模型，其盒子宽度的计算和标准W3C的计算一样。</p><p>实际开发中，通过设置box-sizing来指定你使用哪个盒子模型，其中IE盒子模型对应的box-sizing值是border-box，标准W3C盒子模型对应的box-sizing值是content-box</p><h3 id="2、画一条0-5px的直线"><a href="#2、画一条0-5px的直线" class="headerlink" title="2、画一条0.5px的直线"></a>2、画一条0.5px的直线</h3><p>由于目前设备的限制，直接使用CSS绘制0.5px直线是无法实现的，但是可以通过一些方式，实现视觉效果的0.5px直线。<br>第一种：通过transform.scale()的方式，将一个1px的线的宽度和高度缩放成原始宽度或者高度的一半<br>第二种：使用border-image设置渐变，让1px元素的一半为黑色，另外一半为透明。<br>第三种：使用background中的渐变，也是让一半为黑色，一半为透明</p><h3 id="3、link标签和import标签的区别"><a href="#3、link标签和import标签的区别" class="headerlink" title="3、link标签和import标签的区别"></a>3、link标签和import标签的区别</h3><p>link标签和import标签都是引入外部资源的一个手段，link标签是一个html标签，页面加载的时候进行一个加载，没有浏览器兼容问题，import是CSS中的规则，在CSS文件解析的时候进行一个加载，具有兼容性问题，IE5以上的浏览器才能进行识别。</p><h3 id="4、transition和animation之间的区别"><a href="#4、transition和animation之间的区别" class="headerlink" title="4、transition和animation之间的区别"></a>4、transition和animation之间的区别</h3><p>transition是过渡中的一个平滑过渡，通过属性设置起始和结束状态，有点单一。animation是CSS3中的动画，可以精确的控制每一帧，通过关键帧设置每一帧。</p><h3 id="5、详细讲一下flex布局"><a href="#5、详细讲一下flex布局" class="headerlink" title="5、详细讲一下flex布局"></a>5、详细讲一下flex布局</h3><p>flex布局也叫作弹性布局，使用display:flex ,使得父元素变成弹性容器，那子元素就成了弹性项目，针对父容器和子容器，flex提供了一系列相对应的属性，具体如下：</p><p><img src="../image/CSS面试题/image-20231117193911047.png" alt="image-20231117193911047"></p><h3 id="6、讲一下BFC"><a href="#6、讲一下BFC" class="headerlink" title="6、讲一下BFC"></a>6、讲一下BFC</h3><p>BFC也叫格式化上下文，它其实就是元素自带的一些特异功能，但是只有满足某些条件才会被激活。在实际开发中两个最实用的作用就是用来清楚浮动，防止margin塌陷，还有一个是子元素浮动，父元素高度塌陷问题</p><p>以下几种方式可以开启元素的BFC：</p><div class="table-container"><table><thead><tr><th style="text-align:left"></th><th></th></tr></thead><tbody><tr><td style="text-align:left">行内块元素</td><td>display:inline-block</td></tr><tr><td style="text-align:left">表格单元格（table布局）</td><td>display：table</td></tr><tr><td style="text-align:left">overflow的值不为visible的块元素</td><td>overflow：hidden</td></tr><tr><td style="text-align:left">伸缩项目（弹性布局）</td><td>display：flex</td></tr><tr><td style="text-align:left">多列容器</td><td>column-count：1</td></tr><tr><td style="text-align:left">绝对定位、固定定位</td><td></td></tr><tr><td style="text-align:left">column-span：all</td><td></td></tr><tr><td style="text-align:left">display：flow-root</td></tr></tbody></table></div><h3 id="7、垂直居中的问题"><a href="#7、垂直居中的问题" class="headerlink" title="7、垂直居中的问题"></a>7、垂直居中的问题</h3><p>垂直居中，可以分开来解释，就是垂直和居中，简单来说就是在最中心</p><div class="table-container"><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>margin的auto法</td><td>margin：50%(根据实际来) auto</td></tr><tr><td>margin的负值法</td><td>子绝父相，然后设置子元素的top和left</td></tr><tr><td>table-cell方法</td><td>父：display：table-cell<br />vertical-align：middle<br /><br />子：margin：0 auto</td></tr><tr><td>flex弹性布局</td><td>display：flex<br />align-items：center<br />justify-content：center</td></tr></tbody></table></div><h3 id="8、讲一下JS动画和CSS动画的差异性"><a href="#8、讲一下JS动画和CSS动画的差异性" class="headerlink" title="8、讲一下JS动画和CSS动画的差异性"></a>8、讲一下JS动画和CSS动画的差异性</h3><div class="table-container"><table><thead><tr><th style="text-align:center">JS动画</th><th style="text-align:center">CSS动画</th></tr></thead><tbody><tr><td style="text-align:center">主线程和合成线程</td><td style="text-align:center">合成线程独立完成</td></tr><tr><td style="text-align:center">复杂动画、交互逻辑</td><td style="text-align:center">简单动画效果</td></tr><tr><td style="text-align:center">代码多、逻辑复杂</td><td style="text-align:center">实现简单</td></tr><tr><td style="text-align:center">性能会受到主线程负载影响</td><td style="text-align:center">性能更优</td></tr></tbody></table></div><h3 id="9、说一下块元素和行元素"><a href="#9、说一下块元素和行元素" class="headerlink" title="9、说一下块元素和行元素"></a>9、说一下块元素和行元素</h3><p>块元素：块头大，独占一行，所有属性都可以设置<br>行元素：同一行显示，无法设置宽高，设置内外边距会影响布局</p><h3 id="10、多行元素的文本省略号"><a href="#10、多行元素的文本省略号" class="headerlink" title="10、多行元素的文本省略号"></a>10、多行元素的文本省略号</h3><div class="table-container"><table><thead><tr><th style="text-align:center">第一种方法</th><th style="text-align:center">第二种方法</th></tr></thead><tbody><tr><td style="text-align:center">overflow：hidden</td><td style="text-align:center">text-overflow：ellipsis<br />overflow：hidden</td></tr></tbody></table></div><h3 id="11、讲一讲visiblity-hidden，opacity-0，display：none之间的区别"><a href="#11、讲一讲visiblity-hidden，opacity-0，display：none之间的区别" class="headerlink" title="11、讲一讲visiblity=hidden，opacity=0，display：none之间的区别"></a>11、讲一讲visiblity=hidden，opacity=0，display：none之间的区别</h3><p>（1）visiblity=hidden：在布局中保留其空间，会影响其他元素布局，但元素本身是不可见的<br>（2）opacity=0：完全透明，保留空间，位置存在，不会影响其他元素布局<br>（3）display：none 完全移除布局，不占用空间，位置不再存在，不会影响其他元素布局</p><h3 id="12、双边距重叠问题（外边距重叠问题）"><a href="#12、双边距重叠问题（外边距重叠问题）" class="headerlink" title="12、双边距重叠问题（外边距重叠问题）"></a>12、双边距重叠问题（外边距重叠问题）</h3><p>都为正或负取绝对值较大的<br>一正一负的话，折叠结果是两者带着符号相加</p><h3 id="13、Position属性的比较"><a href="#13、Position属性的比较" class="headerlink" title="13、Position属性的比较"></a>13、Position属性的比较</h3><div class="table-container"><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>固定：fixed</td><td>脱离文档流</td></tr><tr><td>绝对:  relative</td><td>不脱离文档流</td></tr><tr><td>相对：absolute</td><td>相对于已定位父元素、脱离文档流</td></tr><tr><td>粘性：sticky</td><td>相对定位+固定定位的结合版</td></tr><tr><td>默认：static</td><td>没有定位</td></tr></tbody></table></div><h3 id="14、讲一讲清除浮动的方法"><a href="#14、讲一讲清除浮动的方法" class="headerlink" title="14、讲一讲清除浮动的方法"></a>14、讲一讲清除浮动的方法</h3><p>①给父元素指定高度</p><p>②让父元素也浮动，但会带来其他的影响</p><p>③给父元素设置overflow：hidden</p><p>④使用空的块级元素清除浮动（clearfix）<br>⑤ 使用额外的父元素清除浮动<br>⑥ 给浮动元素的父元素加上：display：table</p><h3 id="15、讲一讲CSS3的新特性"><a href="#15、讲一讲CSS3的新特性" class="headerlink" title="15、讲一讲CSS3的新特性"></a>15、讲一讲CSS3的新特性</h3><p>①选择器方面：动态伪类选择器、目标伪类选择器</p><p>②视觉效果方面：圆角、阴影、渐变</p><p>③背景效果方面：支持多个背景图片</p><p>④布局方面：弹性盒子</p><p>⑤字体方面：可以显示用户电脑上没有安装的字体</p><p>⑥颜色方面：新增HSL、HSLA、RGBA几种新的颜色格式</p><p>⑦2D和3D变化：transform、transform+rotateX或rotateY</p><p>⑧动画与过渡效果： animation、transition</p><h3 id="16、CSS选择器有哪些？优先级呢？"><a href="#16、CSS选择器有哪些？优先级呢？" class="headerlink" title="16、CSS选择器有哪些？优先级呢？"></a>16、CSS选择器有哪些？优先级呢？</h3><div class="table-container"><table><thead><tr><th>选择器类型</th><th>示例</th><th>优先级</th></tr></thead><tbody><tr><td><strong>单个选择器</strong></td><td></td><td></td></tr><tr><td>元素选择器</td><td><code>p</code></td><td>1</td></tr><tr><td>类选择器</td><td><code>.class</code></td><td>10</td></tr><tr><td>ID选择器</td><td><code>#id</code></td><td>100</td></tr><tr><td>通用选择器</td><td><code>*</code></td><td>0 (通用选择器的优先级最低)</td></tr><tr><td>属性选择器</td><td><code>input[type=&quot;text&quot;]</code></td><td>10</td></tr><tr><td>伪类选择器</td><td><code>a:hover</code></td><td>1</td></tr><tr><td>伪元素选择器</td><td><code>p::first-line</code></td><td>1</td></tr><tr><td><strong>组合选择器</strong></td><td></td><td></td></tr><tr><td>后代选择器</td><td><code>div p</code></td><td>1</td></tr><tr><td>子元素选择器</td><td><code>ul &gt; li</code></td><td>1</td></tr><tr><td>相邻选择器</td><td><code>h2 + p</code></td><td>1 (相邻选择器本身不增加优先级)</td></tr><tr><td><strong>群组选择器</strong></td><td></td><td></td></tr><tr><td>群组选择器</td><td><code>h1, h2, h3</code></td><td>取其中最高的优先级</td></tr></tbody></table></div><p>CSS选择器大致可以分为单个(元素)选择器、组合选择器、群组选择器三大类，其中单元素选择器有类选择器、ID选择器、元素选择器、相邻选择器等，组合选择器有后代选择器、子元素选择器、相邻选择器，群组选择器就是一次性选择多个，其中可以内嵌单个选择器和组合选择器，例如 </p>]]></content>
      
      
      <categories>
          
          <category> 面试题 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 面试题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue面试题</title>
      <link href="/posts/a424f2dd.html"/>
      <url>/posts/a424f2dd.html</url>
      
        <content type="html"><![CDATA[<h3 id="1、讲一下你对Vue生命周期的理解"><a href="#1、讲一下你对Vue生命周期的理解" class="headerlink" title="1、讲一下你对Vue生命周期的理解"></a>1、讲一下你对Vue生命周期的理解</h3><p><img src="../image/Vue面试题/image-20231113180459687.png" alt="image-20231113180459687"></p><p>首先来谈谈生命周期是什么，可以通俗的理解成“人的一生”，从出生到死亡是人的一生，也是一个完整的生命周期。Vue中的生命周期具有8个阶段，创建前后、挂载前后、更新前后、销毁前后。</p><p>创建前：组件实例被创建，但是没有初始化数据和方法，data和methods还是空的。</p><p>创建后：组件实例已经成功初始化，data和methods已经准备好了，你可以在这个阶段进行数据的初始化和异步操作。</p><p>挂载前：创建虚拟DOM但是不进行挂载，你可以这个阶段执行一些操作用来准备渲染。</p><p>挂载后：虚拟DOM中的组件已经被挂载到实际DOM上面去了，可以在这一阶段对DOM元素进行操作。更新前：</p><p>更新前：数据发生改变时，就会触发这个生命周期钩子函数，触发之后虚拟DOM会进行重新渲染，但并不会马上进行挂载，你可以在这个阶段进行一些操作，比如检查数据的变化。</p><p>更新后：虚拟DOM在重新渲染之后再次应用到实际DOM上面去，这个钩子函数被调用，就可以进行DOM操作</p><p>销毁前：组件销毁前，会触发这个钩子函数，你可以在这个阶段进行一些清理工作，比如说取消订阅、清除定时器、移除事件的监听器</p><p>销毁后：这个函数被调用，组件的方法和数据等都会被清空，无法再进行一个组件的访问</p><p>最后讲解一下数据请求在created和mounted的区别：在这两个阶段进行数据请求都能成功，这两个的本质区别就是，在created进行数据请求的话页面会进行一个闪动，因为这一阶段虚拟DOM还没有完成挂载，虽然两者相比created请求数据更快，但是还是推荐在mounted阶段进行数据请求，因为此时虚拟DOM已经挂载到了实际DOM上面了，操作数据更加的合适。</p><h3 id="2、双向数据绑定是什么？"><a href="#2、双向数据绑定是什么？" class="headerlink" title="2、双向数据绑定是什么？"></a>2、双向数据绑定是什么？</h3><p><img src="../image/Vue面试题/image-20231113190115773.png" alt="image-20231113190115773"></p><p>双向绑定就是你在页面上的输入框进行输入，底层的数据模型里面的数据也会进行改变，反之亦然。双向绑定的原理是基于MVVM模式的，也就是模型、视图、视图模型，其中视图就是我们所看到的页面，模型主要是指那个数据模型，也就是data。而视图模型是连接两者的桥梁和纽带，数据一旦进行双向绑定，视图模型就会同时对视图和模型进行监视，如果一方进行数据放到更新，视图模型也会将另外一方进行数据的更新，从而实现双向绑定。</p><h3 id="3、Vue组件之间的通信方式都有哪些？"><a href="#3、Vue组件之间的通信方式都有哪些？" class="headerlink" title="3、Vue组件之间的通信方式都有哪些？"></a>3、Vue组件之间的通信方式都有哪些？</h3><p><img src="../image/Vue面试题/image-20231113194134397.png" alt="image-20231113194134397"></p><p>组件间通信就是组件之间传递数据和和信息，组件通信解决了数据共享、组件复用、跨组件之间的事件的触发、组件之间各种形式的交互。组件间通信分为父子通信、子父通信、兄弟通信、事件总线的消息发布与订阅、Vuex全局状态管理、自定义事件和回调。组件间通信的方案有多种选择，props、ref属性、事件总线的消息发布与订阅、Vuex、插槽等</p><h3 id="4、为什么data属性是一个函数而不是一个对象？"><a href="#4、为什么data属性是一个函数而不是一个对象？" class="headerlink" title="4、为什么data属性是一个函数而不是一个对象？"></a>4、为什么data属性是一个函数而不是一个对象？</h3><p>关于data属性是函数还是对象，这要分情况考虑，在根实例对象（new  Vue（）{}）里面，data属性可以是函数，也可以是对象，不会造成数据污染，因为data只有一个实例，不会进行数据的传递。在组件实例对象(脚手架中的实例)里面只能使用函数，如果使用对象会造成数据污染。现在我来讲一下为什么会造成数据污染，如果使用对象的话，里面的数据是共用一个地址，如果进行组件间数据的传递的话，势必会影响其他的数据，对数据造成一个污染。但是使用函数的话就不会，使用函数的话会返回全新的对象，不会造成一个数据的污染。</p><h3 id="5、动态给Vue的data添加一个新的属性时会发生什么？怎样解决？"><a href="#5、动态给Vue的data添加一个新的属性时会发生什么？怎样解决？" class="headerlink" title="5、动态给Vue的data添加一个新的属性时会发生什么？怎样解决？"></a>5、动态给Vue的data添加一个新的属性时会发生什么？怎样解决？</h3><p>如果直接动态添加的话，不会有匹配相对应的getter和setter方法来监听刚刚为data添加的那个属性，也就相当于是一个死的,而不是响应式的。解决方案：使用Vue.set或Vue.$set</p><h3 id="6、v-if和v-for的优先级是什么？"><a href="#6、v-if和v-for的优先级是什么？" class="headerlink" title="6、v-if和v-for的优先级是什么？"></a>6、v-if和v-for的优先级是什么？</h3><p>v-if和v-for都是进行数据渲染的，但是v-if是渲染一条数据，v-for是将整个数组的数据渲染成列表。v-for是不管三七二十一，上来就是遍历，然后渲染数据，但是v-if要先进行判断，然后再根据判断的结果来决定是否进行渲染。如果v-if 和v-for结合使用的话，也是先渲染整个列表，然后再进行判断，如果v-if是false的话，渲染0条数据，但是并不是不渲染。所以综上所述v-for的优先级要高于v-if。</p><h3 id="7、v-show和v-if有什么区别-使用场景分别是什么"><a href="#7、v-show和v-if有什么区别-使用场景分别是什么" class="headerlink" title="7、v-show和v-if有什么区别?使用场景分别是什么?"></a>7、v-show和v-if有什么区别?使用场景分别是什么?</h3><p> <img src="../image/Vue面试题/image-20231113214912207.png" alt="image-20231113214912207"></p><p>v-show和v-if共同点都是控制元素在页面的显示，但是不同点是，v-show的通过给元素添加display：none来进行显示和隐藏，而v-if是直接把这个dom元素移除dom树。如果需要频繁的切换隐藏和显示的话，建议采用v-show。如果切换次数少，建议采用v-if。</p><h3 id="8、你知道Vue中Key的原理吗？说说你对它的理解？"><a href="#8、你知道Vue中Key的原理吗？说说你对它的理解？" class="headerlink" title="8、你知道Vue中Key的原理吗？说说你对它的理解？"></a>8、你知道Vue中Key的原理吗？说说你对它的理解？</h3><p>Vue中的key是标识每一个节点唯一性的属性，可以帮助Vue更高效的重用和定位节点，尤其是在使用v-for渲染列表的时候，可以准确的匹配新旧节点，可以确保每个节点都能正确地映射到新的数据</p><h3 id="9、说说你对Vue的mixin的理解，有什么应用场景"><a href="#9、说说你对Vue的mixin的理解，有什么应用场景" class="headerlink" title="9、说说你对Vue的mixin的理解，有什么应用场景?"></a>9、说说你对Vue的mixin的理解，有什么应用场景?</h3><p>Vue的mixin其实就是代码的复用，你可以将多次使用的代码抽离出来，在某些组件需要这个‘功能’的时候，将其混入，可以同时混入多个，如果混入中有部分相同，会进行一个合并，而不是简单的覆盖。mixin一般应用于那种具有代码重复的部分，可以有效的增加代码的一个复用</p><h3 id="10、Vue常用的修饰符有哪些有什么应用场景"><a href="#10、Vue常用的修饰符有哪些有什么应用场景" class="headerlink" title="10、Vue常用的修饰符有哪些有什么应用场景"></a>10、Vue常用的修饰符有哪些有什么应用场景</h3><p><img src="../image/Vue面试题/image-20231114163213639.png" alt="image-20231114163213639"></p><p>vue中的修饰符有表单修饰符、鼠标按键修饰符、键盘修饰符、事件修饰符、系统修饰符。vue中的修饰符其实也就是一些语法糖，是一些操作的简写，通过.XXX等形式使用，可以大大的简化操作，也提高了代码的可读性和可维护性，使得代码更加的灵活</p><h3 id="11、Vue中的-nextTick有什么用？"><a href="#11、Vue中的-nextTick有什么用？" class="headerlink" title="11、Vue中的$nextTick有什么用？"></a>11、Vue中的$nextTick有什么用？</h3><p><img src="../image/Vue面试题/image-20231114202713218.png" alt="image-20231114202713218"><br>Vue 中的 <code>$nextTick</code> 主要用于确保在下一次 DOM 更新循环结束后执行回调。当你修改数据时，数据的更新和回调函数都被推入微任务队列中，而 <code>$nextTick</code> 则可以让回调函数等待当前微任务队列中的数据更新操作完成，从而确保在下一个微任务执行时执行回调。这对于处理异步操作和获取最新的 DOM 状态非常有用。</p><h3 id="12、Vue实例挂载的过程"><a href="#12、Vue实例挂载的过程" class="headerlink" title="12、Vue实例挂载的过程"></a>12、Vue实例挂载的过程</h3><p>使用new关键字创建一个vue实例，然后使用el将其挂载，当然啦，也可以使用$mount进行挂载，挂载之后可以调用mounted生命周期钩子进行相关操作。</p><h3 id="13、你了解Vue中的diff算法吗？"><a href="#13、你了解Vue中的diff算法吗？" class="headerlink" title="13、你了解Vue中的diff算法吗？"></a>13、你了解Vue中的diff算法吗？</h3><p>diff算法就是利用虚拟DOM的抽象，将新旧虚拟DOM进行对比，记录下需要修改的地方，尽可能找到最小的操作数，然后对其进行修改，最小化对实际DOM进行操作，可以很好的提高页面更新效率。</p><h3 id="14、Vue中组件和插件的区别"><a href="#14、Vue中组件和插件的区别" class="headerlink" title="14、Vue中组件和插件的区别"></a>14、Vue中组件和插件的区别</h3><p><img src="../image/Vue面试题/image-20231114213437481.png" alt="image-20231114213437481"></p><p>组件是用来构建项目结构的，是项目的一部分，而插件是用来增强或者扩展Vue功能的，插件可以说是一个小个体，这个小个体可以由多个全局的组件、指定、混入等打包形成，只为了提供某些功能，它们的作用范围不同，组件是只负责自己所构建的基本单元，而插件是整个项目的，组件的复用要各种调用，但是插件很简单，因为他只是为了提供某一功能，不负责渲染。注册方式也大有不同，组价的注册可以通过局部注册或者全局注册，但是插件一般需要使用.use进行全局的注册使用</p><h3 id="15、Vue项目中你是如何解决跨域的呢？"><a href="#15、Vue项目中你是如何解决跨域的呢？" class="headerlink" title="15、Vue项目中你是如何解决跨域的呢？"></a>15、Vue项目中你是如何解决跨域的呢？</h3><p><img src="../image/Vue面试题/image-20231115204426136.png" alt="image-20231115204426136"></p><p>Vue项目中的跨域问题的本质问题是浏览器的同源策略，同源策略就是后端和前端的协议号、域名、端口号得一致。解决这个跨域问题，有前端和后端两种解决方法，前端是在config.js中配置proxy，后端是用cors或josnp解决</p><h3 id="16、有写过自定义指令吗-自定义指令的应用场景有哪些"><a href="#16、有写过自定义指令吗-自定义指令的应用场景有哪些" class="headerlink" title="16、有写过自定义指令吗?自定义指令的应用场景有哪些?"></a>16、有写过自定义指令吗?自定义指令的应用场景有哪些?</h3><p>自定义指令就是将一些自定义行为进行封装，关键时候再进行调用，类似于函数，但是又不同于函数，因为自定义指令更关注于DOM的操作和DOM相关的行为，自定义指令还可以设置相对应的生命周期钩子，让其在不同阶段的操作变得更加的顺畅。自定义指令一般应用在DOM操作、权限控制、表单验证等上面。</p><h3 id="17、Vue中的过滤器了解吗？过滤器的应用场景有哪些？"><a href="#17、Vue中的过滤器了解吗？过滤器的应用场景有哪些？" class="headerlink" title="17、Vue中的过滤器了解吗？过滤器的应用场景有哪些？"></a>17、Vue中的过滤器了解吗？过滤器的应用场景有哪些？</h3><p>Vue中的过滤器是在数据进行渲染之前的对数据的处理和格式化的一种函数，过滤器一般用在插值语法<code>&#123;&#123; &#125;&#125;</code>或v-bind指令上面</p><h3 id="18、说说你对slot的理解？slot使用场景有哪些？"><a href="#18、说说你对slot的理解？slot使用场景有哪些？" class="headerlink" title="18、说说你对slot的理解？slot使用场景有哪些？"></a>18、说说你对slot的理解？slot使用场景有哪些？</h3><p>slot也就是vue中的插槽，是一种机制，一般用于父组件向子组件传递自定义的内容，父组件可以根据需求灵活的替换子组件的特定部分，slot具有默认插槽和具名插槽，具名插槽就是具有一个name属性，一般使用在多插槽的情况下，便于区分各个插槽。</p><h3 id="19、什么是虚拟DOM？如何实现一个虚拟DOM？说说你的思路？"><a href="#19、什么是虚拟DOM？如何实现一个虚拟DOM？说说你的思路？" class="headerlink" title="19、什么是虚拟DOM？如何实现一个虚拟DOM？说说你的思路？"></a>19、什么是虚拟DOM？如何实现一个虚拟DOM？说说你的思路？</h3><p>虚拟DOM是真实DOM的一个抽象，是一个在内存中维护的树形结构，本质上是一个object对象，虚拟DOM对象中的每一个节点都跟真实DOM对象一一对应，要实现一个虚拟DOM很简单，首先创建虚拟DOM节点，然后将虚拟DOM渲染到真实DOM上面，如果要进行DOM的更新，可以采用diff算法或者深度遍历，找出虚拟DOM和真实DOM之间的区别，将差异部分更新到真实DOM上面，这样可以减少对真实DOM操作，提高性能。</p><h3 id="20、Vue项目中有封装过axios吗？主要封装哪方面的？"><a href="#20、Vue项目中有封装过axios吗？主要封装哪方面的？" class="headerlink" title="20、Vue项目中有封装过axios吗？主要封装哪方面的？"></a>20、Vue项目中有封装过axios吗？主要封装哪方面的？</h3><p>有，axios一般用于封装网络请求，还可以封装统一配置、拦截器、错误处理等</p><h3 id="21、怎么处理Vue中的错误？"><a href="#21、怎么处理Vue中的错误？" class="headerlink" title="21、怎么处理Vue中的错误？"></a>21、怎么处理Vue中的错误？</h3><p>vue中的错误分为同步异常和异步异常，</p><p>同步异常的处理有：try/catch任务流方式、windows.onerror全局对象监听错误回调方法、element.onerror()部分元素的错误返回、Vue.config.errorHander全局组件的异常、errorCaptured可以捕获组件中异常的生命周期钩子函数。</p><p>异步异常有，Windows.onerror全局对象监听、promise中自带的.catch异常处理、Windows.onunhandledrejection全局监听未处理的promise的异常。</p><p>其中Windows.onerror能够处理同步异常，也能 处理异步异常，但主要是处理同步异常，对于处理异步异常的能力相对来说比较弱。</p><h3 id="22、你了解axios的原理吗-有看过它的源码吗？"><a href="#22、你了解axios的原理吗-有看过它的源码吗？" class="headerlink" title="22、你了解axios的原理吗?有看过它的源码吗？"></a>22、你了解axios的原理吗?有看过它的源码吗？</h3><p>axios是基于promise的形成的，主要是用于发送网络请求，但是也可以进行请求拦截、响应拦截、取消请求等。axios底层基于promise，但也不仅仅只是基于promise，它还利用了浏览器环境和nodejs提供的原生功能，通过封装和处理的方式，让开发者更方便进行网络请求。</p><h3 id="23、vue要做权限管理该怎么做？"><a href="#23、vue要做权限管理该怎么做？" class="headerlink" title="23、vue要做权限管理该怎么做？"></a>23、vue要做权限管理该怎么做？</h3><p>Vue中的权限管理有：路由权限（路由守卫）、组件级权限控制（组件内部根据权限来决定某些功能或模块的显示和隐藏）、动态路由（会有一个路由表，根据权限来决定是否加载某些组件）、指令权限（通过编写自定义指令来控制元素的显示和隐藏）、按钮权限控制（给按钮加上权限，只有权限达到要求的才可以看见或者点击某个按钮）。具体要实现一个权限管理，首先要确定角色和权限的一个定义，在根据这些去进行一个更加详细的一个权限设置。</p><h3 id="24、说说你对keep-alive的理解是什么？"><a href="#24、说说你对keep-alive的理解是什么？" class="headerlink" title="24、说说你对keep-alive的理解是什么？"></a>24、说说你对keep-alive的理解是什么？</h3><p>keep-alive是vue中的一个内置组件，也是一种内部机制，可以对暂时不使用的组件进行一个缓存，而不是直接的销毁。如果需要对缓存的组件进行重新调用keep-alive也提供了相对应的钩子函数（activated)，能保证组件进行一个灵活的缓存（deactivated)和激活调用（activated)。</p><h3 id="25、你对SPA单页面的理解，它的优缺点分别是什么？如何实现SPA应用？"><a href="#25、你对SPA单页面的理解，它的优缺点分别是什么？如何实现SPA应用？" class="headerlink" title="25、你对SPA单页面的理解，它的优缺点分别是什么？如何实现SPA应用？"></a>25、你对SPA单页面的理解，它的优缺点分别是什么？如何实现SPA应用？</h3><p>SPA单页面就是把所有资源集中到一个页面，优点是可以减少一个页面的刷新让用户用起来更加流畅，还可以减少服务器的一个压力（无需每次刷新都渲染整个页面），缺点是首次加载速度过慢。至于如何实现一个SPA应用，首先选择一个合适的前端框架(就比如说Vue)，配置相对应的路由管理，状态管理（vue中使用Vuex），组件化开发（可以更好的管理每一部分）、异步加载（懒加载，可以减低浏览器的一个性能），与后端api进行交互（从后端的api调取数据进行一个前端数据的渲染）。</p><h3 id="26、SPA的首屏加载慢怎么解决？"><a href="#26、SPA的首屏加载慢怎么解决？" class="headerlink" title="26、SPA的首屏加载慢怎么解决？"></a>26、SPA的首屏加载慢怎么解决？</h3><p>SPA首屏加载之所以慢，是因为首屏加载需要加载很多内容，（1）资源加载方面，我们可以采取懒加载模式，也就是目前所需要用到的先进行一个简单的加载，暂时不使用的可以先不进行一个加载。还可以采取服务器加速，将比较占内存的，渲染速度慢的，就比如说高清照片，可以放在服务器或者图床进行一个加速，可以提高首屏加载的一个速率。（2）在代码方面可以进行一个代码的拆分、代码的优化、使用压缩工具对代码的一个简单的压缩（3）网络方面可以采用一个CDN加速 或者网络协议的优化。</p><h3 id="27、Vue项目本地开发完成后部署到服务器后报404是什么原因呢？"><a href="#27、Vue项目本地开发完成后部署到服务器后报404是什么原因呢？" class="headerlink" title="27、Vue项目本地开发完成后部署到服务器后报404是什么原因呢？"></a>27、Vue项目本地开发完成后部署到服务器后报404是什么原因呢？</h3><p>第一种原因是路由的配置问题，检查路由配置使用的是否是history模式，而不是hash模式。第二种原因是路径的大小写问题，确保文件路径大小也一致。第三种原因是基础路径的问题，如果你在vue.config.js中配置publicPath，请确保他的指向是正确的。</p><h3 id="28、SSR解决了什么问题-有做过SSR吗-你是怎么做的"><a href="#28、SSR解决了什么问题-有做过SSR吗-你是怎么做的" class="headerlink" title="28、SSR解决了什么问题?有做过SSR吗?你是怎么做的?"></a>28、SSR解决了什么问题?有做过SSR吗?你是怎么做的?</h3><p>SSR不同于传统的客户端渲染，它是服务器端的一个渲染。它能很好使的解决SPA单页面应用的一个首屏加载缓慢或者加载白屏的问题，同时也进行了一个SEO的优化，便于爬虫进行爬取，这样可以提高网站的搜索引擎的排名。至于如何实现SSR，我们首先要选择一个支持SSR的框架，将数据等存储到服务器，在前端页面使用合适的生命钩子（mounted）进行激活调用，从而完成渲染。</p><h3 id="29、vue3有了解过吗-能说说跟vue2的区别吗"><a href="#29、vue3有了解过吗-能说说跟vue2的区别吗" class="headerlink" title="29、vue3有了解过吗?能说说跟vue2的区别吗?"></a>29、vue3有了解过吗?能说说跟vue2的区别吗?</h3><h4 id="1-性能优化："><a href="#1-性能优化：" class="headerlink" title="1. 性能优化："></a>1. <strong>性能优化：</strong></h4><ul><li><strong>响应式系统重写：</strong> Vue 3 中的响应式系统通过使用 Proxy 取代 Object.defineProperty 实现，提高了性能，使得更多的场景下能够更高效地追踪状态的变化。</li><li><strong>编译优化：</strong> Vue 3 的编译器进行了重写，生成的代码更小，运行时性能更好。</li></ul><h4 id="2-组合式-API："><a href="#2-组合式-API：" class="headerlink" title="2. 组合式 API："></a>2. <strong>组合式 API：</strong></h4><ul><li><strong>Composition API：</strong> Vue 3 引入了 Composition API，允许开发者更灵活地组织组件逻辑，尤其是对于复杂组件，代码可读性和维护性得到提升。</li></ul><h4 id="3-Teleport："><a href="#3-Teleport：" class="headerlink" title="3. Teleport："></a>3. <strong>Teleport：</strong></h4><ul><li><strong>Teleport 组件：</strong> Vue 3 引入了 Teleport 组件，使得在组件内的任何地方渲染内容到 DOM 中的其他位置变得更加容易。</li></ul><h4 id="4-Suspense："><a href="#4-Suspense：" class="headerlink" title="4. Suspense："></a>4. <strong>Suspense：</strong></h4><ul><li><strong>Suspense：</strong> Vue 3 中引入了 Suspense 组件，使得处理异步组件和代码分割更加容易，并提供更好的用户体验。</li></ul><h4 id="5-多根节点支持："><a href="#5-多根节点支持：" class="headerlink" title="5. 多根节点支持："></a>5. <strong>多根节点支持：</strong></h4><ul><li><strong>单文件组件多根节点：</strong> 在 Vue 3 的单文件组件中，可以直接包含多个根节点而无需使用额外的包装元素。</li></ul><h4 id="6-Fragment-和-Portals："><a href="#6-Fragment-和-Portals：" class="headerlink" title="6. Fragment 和 Portals："></a>6. <strong>Fragment 和 Portals：</strong></h4><ul><li><strong>Fragment 和 Portals：</strong> Vue 3 支持使用 Fragment（<code>&lt;template&gt;</code>）来包裹多个根节点，以及使用 Portals 来在组件树之外渲染内容。</li></ul><h4 id="7-全局-API-的改进："><a href="#7-全局-API-的改进：" class="headerlink" title="7. 全局 API 的改进："></a>7. <strong>全局 API 的改进：</strong></h4><ul><li><strong>全局 API 改进：</strong> Vue 3 中对全局 API 进行了调整和改进，例如，创建应用实例的方式发生了变化。</li></ul><h4 id="8-Typescript-支持："><a href="#8-Typescript-支持：" class="headerlink" title="8. Typescript 支持："></a>8. <strong>Typescript 支持：</strong></h4><ul><li><strong>Typescript 支持：</strong> Vue 3 在设计上更加友好地支持 TypeScript，提供了更好的类型推导和支持。</li></ul><h4 id="9-其他改进："><a href="#9-其他改进：" class="headerlink" title="9. 其他改进："></a>9. <strong>其他改进：</strong></h4><ul><li><strong>更小的体积：</strong> Vue 3 的体积相比 Vue 2 更小。</li><li><strong>更好的 TypeScript 支持：</strong> Vue 3 提供了更好的 TypeScript 支持，包括更准确的类型推断。</li><li><strong>更好的调试体验：</strong> Vue 3 改进了开发者工具，提供了更好的调试体验。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 面试题 </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>命题说话思路</title>
      <link href="/posts/7c19f57d.html"/>
      <url>/posts/7c19f57d.html</url>
      
        <content type="html"><![CDATA[<h3 id="1、我的愿望（或理想）"><a href="#1、我的愿望（或理想）" class="headerlink" title="1、我的愿望（或理想）"></a>1、我的愿望（或理想）</h3><p><img src="../image/命题说话思路/image-20231103202151221.png" alt="image-20231103202151221"></p><h3 id="2、我的学习生活"><a href="#2、我的学习生活" class="headerlink" title="2、我的学习生活"></a>2、我的学习生活</h3><p><img src="../image/命题说话思路/image-20231103203850264.png" alt="image-20231103203850264"></p><h3 id="3、我尊敬的人"><a href="#3、我尊敬的人" class="headerlink" title="3、我尊敬的人"></a>3、我尊敬的人</h3><p><img src="../image/命题说话思路/image-20231103210540890.png" alt="image-20231103210540890"></p><h3 id="4、我喜爱的动物"><a href="#4、我喜爱的动物" class="headerlink" title="4、我喜爱的动物"></a>4、我喜爱的动物</h3><p><img src="../image/命题说话思路/image-20231103211121063.png" alt="image-20231103211121063"></p><h3 id="5、我喜爱的花"><a href="#5、我喜爱的花" class="headerlink" title="5、我喜爱的花"></a>5、我喜爱的花</h3><p><img src="../image/命题说话思路/image-20231103212326607.png" alt="image-20231103212326607"></p><h3 id="6、童年的记忆"><a href="#6、童年的记忆" class="headerlink" title="6、童年的记忆"></a>6、童年的记忆</h3><p><img src="../image/命题说话思路/image-20231103213159404.png" alt="image-20231103213159404"></p><h3 id="7、我喜爱的职业"><a href="#7、我喜爱的职业" class="headerlink" title="7、我喜爱的职业"></a>7、我喜爱的职业</h3><p><img src="../image/命题说话思路/image-20231103214027987.png" alt="image-20231103214027987"></p><h3 id="8、难忘的旅行"><a href="#8、难忘的旅行" class="headerlink" title="8、难忘的旅行"></a>8、难忘的旅行</h3><p><img src="../image/命题说话思路/image-20231103215131980.png" alt="image-20231103215131980"></p><h3 id="9、我的朋友"><a href="#9、我的朋友" class="headerlink" title="9、我的朋友"></a>9、我的朋友</h3><p><img src="../image/命题说话思路/image-20231103220019193.png" alt="image-20231103220019193"></p><h3 id="10、我喜爱的书刊"><a href="#10、我喜爱的书刊" class="headerlink" title="10、我喜爱的书刊"></a>10、我喜爱的书刊</h3><p><img src="../image/命题说话思路/image-20231103221140370.png" alt="image-20231103221140370"></p><h3 id="11-我喜爱的文学"><a href="#11-我喜爱的文学" class="headerlink" title="11.我喜爱的文学"></a>11.我喜爱的文学</h3><p><img src="../image/命题说话思路/image-20231103221718405.png" alt="image-20231103221718405"></p><h3 id="12、谈谈卫生与健康"><a href="#12、谈谈卫生与健康" class="headerlink" title="12、谈谈卫生与健康"></a>12、谈谈卫生与健康</h3><p><img src="../image/命题说话思路/image-20231103233115754.png" alt="image-20231103233115754"></p><h3 id="13、我的业余生活"><a href="#13、我的业余生活" class="headerlink" title="13、我的业余生活"></a>13、我的业余生活</h3><p><img src="../image/命题说话思路/image-20231103233743943.png" alt="image-20231103233743943"></p><h3 id="14、我喜欢的季节"><a href="#14、我喜欢的季节" class="headerlink" title="14、我喜欢的季节"></a>14、我喜欢的季节</h3><p><img src="../image/命题说话思路/image-20231103235120008.png" alt="image-20231103235120008"></p><h3 id="15、学习普通话的体会"><a href="#15、学习普通话的体会" class="headerlink" title="15、学习普通话的体会"></a>15、学习普通话的体会</h3><p><img src="../image/命题说话思路/image-20231104000032979.png" alt="image-20231104000032979"></p><h3 id="16、谈谈服饰"><a href="#16、谈谈服饰" class="headerlink" title="16、谈谈服饰"></a>16、谈谈服饰</h3><p><img src="../image/命题说话思路/image-20231104000629803.png" alt="image-20231104000629803"></p><h3 id="17、我的假日生活"><a href="#17、我的假日生活" class="headerlink" title="17、我的假日生活"></a>17、我的假日生活</h3><p><img src="../image/命题说话思路/image-20231104000926304.png" alt="image-20231104000926304"></p><h3 id="18、我的成长之路"><a href="#18、我的成长之路" class="headerlink" title="18、我的成长之路"></a>18、我的成长之路</h3><p><img src="../image/命题说话思路/image-20231104001200027.png" alt="image-20231104001200027"></p><h3 id="19、谈谈科技生活与社会生活"><a href="#19、谈谈科技生活与社会生活" class="headerlink" title="19、谈谈科技生活与社会生活"></a>19、谈谈科技生活与社会生活</h3><p><img src="../image/命题说话思路/image-20231104001529544.png" alt="image-20231104001529544"></p><h3 id="20、我知道的风俗"><a href="#20、我知道的风俗" class="headerlink" title="20、我知道的风俗"></a>20、我知道的风俗</h3><p><img src="../image/命题说话思路/image-20231104002009817.png" alt="image-20231104002009817"></p><h3 id="21、我和体育"><a href="#21、我和体育" class="headerlink" title="21、我和体育"></a>21、我和体育</h3><p><img src="../image/命题说话思路/image-20231104002320114.png" alt="image-20231104002320114"></p><h3 id="22、我的家乡"><a href="#22、我的家乡" class="headerlink" title="22、我的家乡"></a>22、我的家乡</h3><p><img src="../image/命题说话思路/image-20231104002706321.png" alt="image-20231104002706321"></p><h3 id="23、谈谈美食"><a href="#23、谈谈美食" class="headerlink" title="23、谈谈美食"></a>23、谈谈美食</h3><p><img src="../image/命题说话思路/image-20231104003331729.png" alt="image-20231104003331729"></p><h3 id="24、我喜欢的节日"><a href="#24、我喜欢的节日" class="headerlink" title="24、我喜欢的节日"></a>24、我喜欢的节日</h3><p><img src="../image/命题说话思路/image-20231104003743533.png" alt="image-20231104003743533"></p><h3 id="25、我所在的集体"><a href="#25、我所在的集体" class="headerlink" title="25、我所在的集体"></a>25、我所在的集体</h3><p><img src="../image/命题说话思路/image-20231104004156276.png" alt="image-20231104004156276"></p><h3 id="26、谈谈社会公德和职业道德"><a href="#26、谈谈社会公德和职业道德" class="headerlink" title="26、谈谈社会公德和职业道德"></a>26、谈谈社会公德和职业道德</h3><p><img src="../image/命题说话思路/image-20231104004605490.png" alt="image-20231104004605490"></p><h3 id="27、谈谈个人修养"><a href="#27、谈谈个人修养" class="headerlink" title="27、谈谈个人修养"></a>27、谈谈个人修养</h3><p><img src="../image/命题说话思路/image-20231104004928625.png" alt="image-20231104004928625"></p><h3 id="28、我喜欢的明星"><a href="#28、我喜欢的明星" class="headerlink" title="28、我喜欢的明星"></a>28、我喜欢的明星</h3><p><img src="../image/命题说话思路/image-20231104005337282.png" alt="image-20231104005337282"></p><h3 id="29、我喜欢的书籍"><a href="#29、我喜欢的书籍" class="headerlink" title="29、我喜欢的书籍"></a>29、我喜欢的书籍</h3><p><img src="../image/命题说话思路/image-20231104005820087.png" alt="image-20231104005820087"></p><h3 id="30、谈谈对环境保护的认识"><a href="#30、谈谈对环境保护的认识" class="headerlink" title="30、谈谈对环境保护的认识"></a>30、谈谈对环境保护的认识</h3><p><img src="../image/命题说话思路/image-20231104010156989.png" alt="image-20231104010156989"></p><h3 id="31、我向往的地方"><a href="#31、我向往的地方" class="headerlink" title="31、我向往的地方"></a>31、我向往的地方</h3><p><img src="../image/命题说话思路/image-20231104010441361.png" alt="image-20231104010441361"></p><h3 id="32、购物或者消费的感受"><a href="#32、购物或者消费的感受" class="headerlink" title="32、购物或者消费的感受"></a>32、购物或者消费的感受</h3><p><img src="../image/命题说话思路/image-20231104010705518.png" alt="image-20231104010705518"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 普通话水平测试 </tag>
            
            <tag> 命题说话 </tag>
            
            <tag> 命题说话思路 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>普通话命题说话</title>
      <link href="/posts/fba99587.html"/>
      <url>/posts/fba99587.html</url>
      
        <content type="html"><![CDATA[<h3 id="1、我的愿望（或理想）"><a href="#1、我的愿望（或理想）" class="headerlink" title="1、我的愿望（或理想）"></a>1、我的愿望（或理想）</h3><p><img src="../image/普通话命题说话/image-20231103202151221.png" alt="image-20231103202151221"></p><p>我的愿望很简单，却也充满了深刻的渴望和期待。我渴望一个幸福而有意义的生活，一个生活中充满了爱、健康、成功和满足感的生活。这个愿望虽然简单，但它激励着我朝着更好的方向前进。</p><p>首先，我渴望健康。健康是一切的基础。没有健康，其他一切都显得苍白无力。我希望能够拥有一个健康的身体，远离疾病和痛苦。我知道健康不是理所当然的，需要好好照顾自己的身体，保持适度的运动和均衡的饮食。只有拥有健康的身体，我才能够更好地享受生命的每一天。</p><p>其次，我渴望成功。成功不一定意味着拥有巨大的财富或高官厚禄，它可以体现在自己的职业生涯、个人成就或对社会的贡献上。我希望能够有一份充实而有挑战性的工作，充分发挥自己的潜力，不仅为自己创造价值，还为社会带来积极的影响。成功也意味着不断学习和成长，迎接挑战，超越自己，让自己变得更好。</p><p>此外，我渴望爱。家庭和友情是生活中最宝贵的财富。我希望能够与家人建立亲密的关系，互相扶持和理解。我也渴望结交真诚的朋友，分享快乐和困难，共同成长。爱不仅局限于亲情和友情，还包括了关心和帮助他人，建立友善和和谐的社会关系。</p><p>最重要的是，我渴望满足感。满足感不仅来自物质的享受，还来自内心的平静和满足。我希望能够珍惜每一个当下，享受生活中的小事，感激所拥有的一切。满足感也来自于追求梦想和目标的过程，以及在实现它们后的成就感。</p><p>总之，我的愿望是简单而珍贵的。我渴望健康、成功、爱和满足感。这些愿望是我生命中最重要的部分，它们驱使我前进，努力去实现，让自己的生活变得更加有意义。这个愿望或许简单，但它却充满了人生的精髓，是我永远不会忘记的目标。</p><h3 id="2、我的学习生活"><a href="#2、我的学习生活" class="headerlink" title="2、我的学习生活"></a>2、我的学习生活</h3><p><img src="../image/普通话命题说话/image-20231103203850264.png" alt="image-20231103203850264"></p><p>我的学习生活一直都是我生命中的重要部分。</p><p>首先，学习对我来说是一种不断积累知识的过程。从小学到大学，我都在努力吸收各种学科的知识。这些知识不仅帮助我在学校取得好成绩，也让我更好地理解这个世界，提升自己的综合素质。</p><p>其次，学习也是一种提升技能和能力的途径。我努力培养自己的阅读、写作、分析和解决问题的能力。这些技能不仅在学术上有用，也在日常生活和职业中发挥了作用。</p><p>除此之外，学习也是一种思维训练。通过学习，我学会了思考、质疑、批判性思维和创新。这些思维方式使我更好地应对挑战，找到解决问题的方法。</p><p>学习并不总是一帆风顺的过程，我也曾经遇到困难和挫折。有时候，我需要花更多的时间来理解复杂的概念，有时候我会感到沮丧。但我从中学到了坚持不懈的品质，学会了克服困难，明白了失败并不是终点，而是前进的一部分。</p><p>最重要的是，学习让我更好地认识自己。通过学习，我找到了自己的兴趣和激情，明白了自己的优势和弱点。这有助于我更好地规划未来，选择适合自己的职业方向。</p><p>总结来说，学习不仅是知识的获取，还是能力和思维方式的提升，以及对自己的认识。我会继续坚持学习，不断提升自己，实现自己的梦想。这是我学习生活的写照，也是我永远不会忘记的一部分。</p><h3 id="3、我尊敬的人"><a href="#3、我尊敬的人" class="headerlink" title="3、我尊敬的人"></a>3、我尊敬的人</h3><p><img src="../image/普通话命题说话/image-20231103210540890.png" alt="image-20231103210540890"></p><p>我尊敬的人</p><p>我尊敬的人是我的母亲。她是我的榜样，她的善良、坚强和无私的品质一直深深地影响着我，让我努力成为一个更好的人。</p><p>首先，我尊敬母亲的善良。她总是乐于助人，无论是家庭内还是社区中，她总是愿意伸出援手。她教会了我什么是关心和关爱他人，以及如何成为一个有同情心的人。她的善良让我明白了善良是人与人之间最美好的联系。</p><p>其次，母亲的坚韧和勤奋让我深感钦佩。她曾经经历了很多困难和挫折，但她从不轻言放弃。她总是鼓励我坚持不懈，去克服生活中的各种困难。她的坚韧精神激励着我，使我明白只要有信心，就能战胜一切。</p><p>此外，母亲的无私和奉献精神也是我所尊敬的。她总是把家庭放在第一位，牺牲自己的时间和精力来照顾我们。她的无私教会了我什么是家庭的重要性，以及如何为家人无私奉献。她的例子一直激励着我去关心家人和他人。</p><p>最重要的是，母亲的爱是我永远珍惜的。她对我充满了爱，无论我犯了多少错误，她都会理解和原谅。她是我生命中的支持者，她的爱让我感到温馨和安心。她教会了我如何去爱和被爱，这是我生命中最宝贵的礼物。</p><p>总结来说，我尊敬的人是我的母亲。她的善良、坚韧、无私和爱是我学习的楷模，她是我生命中最伟大的人。我将永远感激她，尊敬她，因为她对我的影响将伴随我一生。这是我永远不会忘记的。</p><h3 id="4、我喜爱的动物"><a href="#4、我喜爱的动物" class="headerlink" title="4、我喜爱的动物"></a>4、我喜爱的动物</h3><p><img src="../image/普通话命题说话/image-20231103211121063.png" alt="image-20231103211121063"></p><p>我喜爱的动物</p><p>在众多生物中，有一种动物一直深深地打动着我，那就是狗。狗是我喜爱的动物，它们的忠诚、友好和陪伴让我对它们情有独钟。</p><p>首先，狗是忠诚的伴侣。无论在喜悦还是悲伤时，狗总是坚定地陪伴在我们身边。它们不会背叛，不会离开，永远对主人忠诚。这种忠诚让人感到温馨和安心，知道有一只忠实的伙伴会一直在身边。</p><p>其次，狗是友好的动物。它们总是对人充满友好和善意。无论你是谁，无论你的外表如何，狗总是愿意与你亲近，与你建立友好的关系。这种友好教会了人们如何对待他人，如何包容和友善。</p><p>此外，狗是陪伴的伙伴。它们能够与人分享生活的点滴，无论是散步、玩耍，还是安静的时光。狗的陪伴让人感到孤独少一些，快乐多一些。它们能够理解主人的情感，带来无限的欢乐。</p><p>最重要的是，狗是值得信赖的朋友。无论你是否需要帮助，狗总是愿意伸出援手。它们可以保护你，守护你，甚至拯救你。狗的信赖让人们感到安全和守护。</p><p>总结来说，狗是我喜爱的动物。它们的忠诚、友好、陪伴和信赖让我深深地喜爱它们。狗不仅是人类的忠实伴侣，也是我们生活中的朋友和家庭的一部分。它们的存在让世界变得更美好，也让我感到温馨和幸福。这是我永远不会忘记的。</p><h3 id="5、我喜爱的花"><a href="#5、我喜爱的花" class="headerlink" title="5、我喜爱的花"></a>5、我喜爱的花</h3><p><img src="../image/普通话命题说话/image-20231103212326607.png" alt="image-20231103212326607"></p><p>我喜爱的花</p><p>我喜爱的花是向日葵。向日葵以其独特的外貌和象征意义一直深深吸引着我。它是我最喜欢的花之一，让我心情愉悦，也让我对生活充满期待。</p><p>首先，向日葵的外貌十分独特。它的花朵巨大，有明亮的黄色花瓣，中间有一个深色的花盘。而且，向日葵的花朵总是面向太阳，追逐光线，因此得名“向日葵”。这种特殊的外貌让人无法忽视，每次看到向日葵，都会感到愉悦和惊叹。</p><p>其次，向日葵寓意阳光和希望。它的明亮的黄色花瓣和面向太阳的生长习惯，使人联想到温暖的阳光。向日葵是希望的象征，它告诉我们，无论生活如何艰难，都要积极向前，充满希望。这种象征意义使向日葵成为了许多人心目中的励志之花。</p><p>此外，向日葵也是友善的花卉。它通常生长在田野和花园中，吸引着蜜蜂和蝴蝶，为生态系统做出贡献。向日葵的花盘中充满了花蜜，为采蜜昆虫提供了食物，这种友好的生长习惯让人感到温馨。</p><p>最重要的是，向日葵寓意乐观和积极。它的生长习惯告诉我们，要面向光明，积极生活。无论是在艰难的时刻还是在快乐的时刻，向日葵都散发出乐观的氛围，提醒我们要笑对生活，迎接每一天。</p><p>总结来说，向日葵是我喜爱的花。它的独特外貌、象征意义、友善和乐观的品质让我深深地喜爱它。向日葵不仅是一种花卉，还是一种精神的象征，它在生命中提醒着我们要积极、乐观，追求光明和希望。这是我永远不会忘记的。</p><h3 id="6、童年的记忆"><a href="#6、童年的记忆" class="headerlink" title="6、童年的记忆"></a>6、童年的记忆</h3><p><img src="../image/普通话命题说话/image-20231103213159404.png" alt="image-20231103213159404"></p><p>童年的记忆</p><p>童年，是我生命中最纯真、美好的一段时光。它像一本翻开的故事书，里面充满了无限的惊喜和宝贵的记忆，这些记忆深深地烙在我的心灵上，时常让我回味。</p><p>我记得小时候，每当放学后，我会与小伙伴们在邻里街道上玩耍。我们玩捉迷藏，躲猫猫，跳皮筋，或者骑自行车穿梭在小巷中。那时的世界是如此简单，我们的笑声和欢乐弥漫在街道上，仿佛永远不会长大。这些时光充满了童真和友情，是我永远怀念的回忆。</p><p>在夏日的午后，我最喜欢在院子里躺在草地上，仰望蓝天白云。我会想象云朵是各种各样的动物和形状，它们缓缓飘过，带着我的梦想。我可以是一名宇航员，飞向星星；也可以是一名探险家，探索遥远的地方。这些幻想让我忘却了周围的烦恼，充满了希望和冒险的梦想。</p><p>童年的晚餐是我最温馨的记忆之一。每天晚上，全家人会围坐在餐桌旁，分享一顿家常菜。我父母会讲述他们的一天，我和兄弟姐妹则分享学校的趣事。那是亲情和温暖的时刻，我感到被爱和关心。这些晚餐成为了我生活中的温馨记忆，也教会了我家庭的重要性。</p><p>还记得小时候，我热爱阅读。每当我躺在床上，父母为我读睡前故事时，我会沉浸在故事中。那些故事中的冒险、英雄和奇幻世界充满了魔力，它们激发了我的想象力，培养了我对知识的渴望。我时常希望自己也能成为故事中的主人公，经历各种奇妙的冒险。</p><p>童年还有许多简单而快乐的时刻，如在雨天踩着水坑，玩纸飞机，或在冬天堆雪人，迎着雪花的飘落。这些小小的幸福让我感到生命充满了色彩和喜悦。生日时，我会迎来亲友的祝福和礼物，那些惊喜和笑声是无法用言语形容的。</p><p>在童年，我学到了许多重要的事情。我懂得了友情的珍贵，学会了坚韧和勇气，明白了责任和互相关怀。这些价值观和品质一直伴随着我成长，影响着我如何看待世界和与人相处。</p><p>总之，我的童年记忆是一段充满欢乐和温馨的时光。那段时光塑造了我，让我成为今天的自己。这些简单而美好的瞬间，时常让我回味，也提醒我珍惜生命中的每一个瞬间。童年是我永远不会忘记的，它是我心中珍贵的宝藏。</p><h3 id="7、我喜爱的职业"><a href="#7、我喜爱的职业" class="headerlink" title="7、我喜爱的职业"></a>7、我喜爱的职业</h3><p><img src="../image/普通话命题说话/image-20231103214027987.png" alt="image-20231103214027987"></p><p>前端开发工程师是我钟爱的职业。这个职业让我找到了职业生涯中的热情和满足感。</p><p>作为前端开发工程师，我的主要任务是负责构建和维护网站和应用程序的用户界面。这意味着我能够将创造力与技术相结合，将一张空白的页面变成一个充满生命的数字空间。使用HTML、CSS和JavaScript等技术，我能够设计用户友好的界面，确保用户能够轻松愉快地与这些平台互动。每个项目都是一次创作的机会，而每一行代码都是我的绘画。</p><p>我热爱前端开发的原因之一是创造力的释放。每个新项目都像一张画布，等待我填充。我可以选择颜色、排列元素、创建动画，塑造用户的视觉体验。这个创造过程让我充满挑战，但也充满乐趣。看到我的工作成果，看到用户喜爱使用我设计的界面，这种满足感是无法言喻的。</p><p>此外，前端开发工程师的职业要求我成为终身学习者。技术领域不断发展，新工具和框架层出不穷。为了保持竞争力，我需要不断学习和掌握新技术。这激发了我的好奇心，我享受学习的过程，也享受追求自我提升的目标。每次学到新知识，我都感到充实和充满成就感。</p><p>前端开发工程师的职业也培养了我团队合作和沟通能力。在项目中，我们通常需要与设计师、后端工程师和项目经理合作，以确保项目的成功。这锻炼了我的团队合作和沟通技能，我学会了倾听和理解他人的需求，也学会了有效地传达我的想法和观点。</p><p>最重要的是，前端开发工程师的职业允许我为社会和世界做出贡献。通过构建用户友好的网站和应用程序，我可以帮助企业和组织更好地服务他们的客户和用户。我也可以参与社会项目，为非营利组织和慈善机构提供技术支持，以推动社会进步。</p><p>总之，前端开发工程师是我钟爱的职业，它充满创造力、学习机会、团队合作和社会责任感。我热爱每一天的工作，期待着未来的挑战和机会。这个职业不仅是我的职业生涯的选择，也是我的热爱和事业。</p><h3 id="8、难忘的旅行"><a href="#8、难忘的旅行" class="headerlink" title="8、难忘的旅行"></a>8、难忘的旅行</h3><p><img src="../image/普通话命题说话/image-20231103215131980.png" alt="image-20231103215131980"></p><p>难忘的旅行：凤凰古城与边城之旅</p><p>这是一次我永生难忘的旅行，一个令我心驰神往的目的地，凤凰古城和边城、</p><p><strong>出发与期待</strong></p><p>这次旅行是在一个阳光明媚的春季开始的。我和我的家人一同踏上了这段旅程。我们怀着满满的期待，充满了好奇心，前往了凤凰古城和边城。</p><p><strong>凤凰古城的古韵</strong></p><p>我们首先来到了凤凰古城，一个被称为湘西明珠的地方。这里是一个充满历史和文化的小镇，古老的建筑和石板街道，仿佛把游客带回到了古代。我被古城的韵味所深深吸引，每一座吊脚楼、每一处青石巷道，都散发着岁月的沧桑。</p><p><strong>吊脚楼的魅力</strong></p><p>凤凰的吊脚楼是古城的代表性景点之一。这些独特的建筑悬挂在清澈的河水上，充满了古代的魅力。我沿着吊脚楼漫步，欣赏着水中的倒影，感受到一种与众不同的宁静。每座吊脚楼都有着自己的特色和故事，让我深感着迷。</p><p><strong>沿河漫步</strong></p><p>我们沿着古城的河岸漫步，享受宁静与和谐。清澈的河水倒映着古城的风景，小桥、流水、古建筑，构成了一幅如诗如画的景色。与当地居民交流，品尝美味的当地小吃，使这段旅程更加丰富多彩。</p><p><strong>夜晚的魅力</strong></p><p>夜晚降临，凤凰古城变得更加迷人。灯光照亮了古城的街道，建筑物在夜晚显得格外美丽。夜市热闹非凡，摊贩摆满了美食、手工艺品和纪念品。我品尝了当地特色美食，欣赏了传统音乐表演，度过了一个难忘的夜晚。</p><p><strong>边城的壮丽</strong></p><p>接下来，我们前往了边城，这里是一个位于湘西边陲的小镇，被山峦环绕。边城的自然景色令人叹为观止，壮美的山川和清澈的江水构成了一幅壮丽的画卷。我们徒步穿越了茂密的森林，欣赏了壮观的瀑布，感受了大自然的力量。</p><p><strong>边城的人文</strong></p><p>边城不仅有着壮丽的自然景色，还有丰富的人文历史。我们参观了当地的寺庙和民居，了解了这里的宗教文化和传统。与当地居民互动，听取他们的故事，使我们更加亲近这个地方。</p><p><strong>回忆与珍藏</strong></p><p>最终，我们不得不告别凤凰古城和边城，带着满满的回忆回家。这次旅行是我一生中最珍贵的经历之一，一个充满历史、文化和自然美景的旅程。</p><h3 id="9、我的朋友"><a href="#9、我的朋友" class="headerlink" title="9、我的朋友"></a>9、我的朋友</h3><p><img src="../image/普通话命题说话/image-20231103220019193.png" alt="image-20231103220019193"></p><p>我的朋友：一个珍贵的存在</p><p>朋友，是我们生活中珍贵的存在。</p><p><strong>朋友的定义</strong></p><p>首先，让我们明确朋友是什么。朋友是那些与我们建立了亲密关系、互相信任、互相支持的人。朋友不一定要数量众多，质量更重要。我的朋友不多，但每个朋友都是我生命中的一颗明珠。</p><p><strong>真挚的友情</strong></p><p>我与我的朋友之间建立了真挚的友情。我们分享彼此的喜怒哀乐，彼此的秘密，而且可以在任何时刻彼此倾听。真正的朋友是可以依赖的人，无论遇到什么困难，我们都能相互支持，一同克服。</p><p><strong>共同的兴趣</strong></p><p>我和我的朋友有很多共同的兴趣。这让我们能够一起度过愉快的时光，分享共同的爱好。无论是看电影、追剧、做运动，还是一起旅行，我们总能找到有趣的事情一起做，这让我们的友情更加牢固。</p><p><strong>友情的互动</strong></p><p>友情是需要维系的，我们时常保持互动。无论是发信息、打电话、还是面对面相聚，我们保持联系，分享生活中的点滴。这种互动让友情得以持续，不会因时光的推移而淡去。</p><p><strong>友情的帮助</strong></p><p>在生活中，朋友也是我最可靠的支持。当我遇到问题或困难时，我的朋友总是愿意伸出援手，提供帮助和建议。这种无私的友情让我感到无比幸运，也让我懂得了友情的真谛。</p><p><strong>友情的共鸣</strong></p><p>朋友之间有一种默契，就像心有灵犀一般。我们可以彼此理解，不需要太多言语，只需一个眼神、一个微笑，就能表达出彼此的情感。这种共鸣让友情更加深厚。</p><p><strong>友情的珍贵</strong></p><p>友情是生命中一份珍贵的财富。朋友是我们生活中的支持者、伙伴、倾听者，他们使我们的生活更加丰富多彩。友情是可以传承的宝藏，我珍惜它，也希望它能一直伴随着我。</p><p>总之，我的朋友是我生命中的珍贵存在。他们带给我温暖、支持和欢笑，是我生活中不可或缺的一部分。</p><h3 id="10、我喜爱的书刊"><a href="#10、我喜爱的书刊" class="headerlink" title="10、我喜爱的书刊"></a>10、我喜爱的书刊</h3><p><img src="../image/普通话命题说话/image-20231103221140370.png" alt="image-20231103221140370"></p><p>我喜爱的书刊：励志自助书的智慧之友</p><p>励志自助书一直是我钟爱的书刊类型</p><p><strong>励志自助书的价值</strong></p><p>首先，让我们探讨一下励志自助书的价值。这些书籍旨在启发读者，提供实用的建议和智慧。它们帮助我更好地理解自己，激发内在潜力，引导我朝着目标前进。励志自助书就像是一位智慧的导师，教我如何应对生活中的挑战。</p><p><strong>自我提升与成长</strong></p><p>励志自助书的核心目标是自我提升和成长。它们教导我如何树立目标，克服困难，发展自己的技能，提高自我意识，以及建立积极的思维方式。这些建议和技巧使我能够不断改善自己，实现更高的梦想。</p><p><strong>智慧与经验分享</strong></p><p>这些书籍包含了作者的智慧和经验分享。通过学习他们的故事，我获得了宝贵的见解，知道了成功的道路上可能会有的坎坷和挑战。这些建议帮助我更加明智地规划自己的生活和职业。</p><p><strong>实践与行动</strong></p><p>励志自助书鼓励读者采取实际行动。它们提供了具体的计划和方法，让我能够付诸实践。这些书籍不仅是启发，还是行动的动力，使我能够付诸实际行动，实现自己的目标。</p><p><strong>自我发现与目标设定</strong></p><p>最重要的是，励志自助书帮助我更好地了解自己，设定明确的目标。它们鼓励我深入思考自己的价值观和激情，帮助我找到自己真正感兴趣的事物。这使我能够更明智地选择自己的职业和生活道路。</p><p><strong>书籍的珍藏</strong></p><p>我的励志自助书不仅是我喜欢的读物，也是我生活中的珍藏。每一本书都带给我独特的智慧和启示，它们陪伴我度过了许多重要的时刻。我会继续珍惜和分享这些书籍，因为它们是我生命中的宝贵财富。</p><p>总之，励志自助书是我喜爱的书刊类型，因为它们充满智慧，帮助我自我提升和成长。这些书籍不仅是启发，还是行动的动力，是我生活中的智慧之友。</p><h3 id="11-我喜爱的文学"><a href="#11-我喜爱的文学" class="headerlink" title="11.我喜爱的文学"></a>11.我喜爱的文学</h3><p><img src="../image/普通话命题说话/image-20231103221718405.png" alt="image-20231103221718405"></p><p>我喜爱的文学：探索人性与世界的小说世界</p><p>文学一直是我生活中的一部分，特别是小说。</p><p><strong>小说的丰富多彩</strong></p><p>首先，让我们聊一下小说的魅力。小说是文学的一种形式，以故事为媒介，通过文字来创造丰富多彩的世界。无论是古典小说还是现代小说，它们都有各自的特点和魅力。小说带我探索不同的情感、人性和世界观，这让我沉浸其中，感同身受。</p><p><strong>深入人性的探讨</strong></p><p>小说经常深入探讨人性的复杂性。它们通过角色的塑造和情节的发展，展现了人类内心的喜怒哀乐。阅读小说使我更好地理解人类的情感和行为，让我对他人的动机和内心世界有了更深的认识。</p><p><strong>反映社会与文化</strong></p><p>小说也常常反映社会和文化的变迁。它们通过情节和角色的互动，展示了不同时代和地域的社会风貌。阅读小说可以帮助我更好地理解历史、文化和社会背景，扩展我的视野。</p><p><strong>启发思考与想象</strong></p><p>最重要的是，小说鼓励读者思考和想象。它们提出了各种伦理和道德问题，挑战了常规的思维方式，激发了创造力。小说为我提供了一个思考世界和人生的平台，使我能够思索哲学和伦理问题。</p><p><strong>多样的题材与风格</strong></p><p>小说的世界是多姿多彩的，无论是爱情、冒险、悬疑、历史，还是幻想，都能在小说中找到。不仅如此，不同风格的小说也让我享受各种不同的体验，从轻松幽默到严肃深刻。</p><p><strong>小说的珍藏</strong></p><p>我的书架上充满了小说，它们不仅是我喜欢的读物，也是我生活中的珍藏。每一本小说都有独特的故事，陪伴我度过无数宁静的夜晚。我会继续收集和珍惜这些小说，因为它们是我生活中的宝贵财富。</p><p>总之，小说是我喜爱的文学形式，因为它们通过故事情节和角色，带我深入人性和世界。小说不仅是娱乐，还是启发，是我生活中的智慧之友。</p><h3 id="12、谈谈卫生与健康"><a href="#12、谈谈卫生与健康" class="headerlink" title="12、谈谈卫生与健康"></a>12、谈谈卫生与健康</h3><p><img src="../image/普通话命题说话/image-20231103233115754.png" alt="image-20231103233115754"></p><p>卫生与健康：生活的基石</p><p><strong>卫生是预防疾病的第一道防线</strong></p><p>首先，卫生是预防疾病的第一道防线。保持身体清洁、食品安全和环境卫生可以有效预防各种疾病的发生。勤洗手、保持个人卫生、妥善处理食物，都是防止疾病传播的有效方式。卫生不仅关乎个人，还关系到社会大局的健康。</p><p><strong>健康是最大的财富</strong></p><p>健康被誉为是最大的财富，因为没有健康，其他的财富都显得无足轻重。我们每天的生活都需要健康来支持，工作、学习、娱乐，都离不开健康的身体。健康使我们能够积极地面对挑战，追求梦想，享受生活。</p><p><strong>卫生与健康的关系</strong></p><p>卫生与健康是密不可分的。卫生措施直接影响着我们的健康状况。如果我们忽视了卫生，比如不洗手、不注意饮食卫生，就容易感染疾病，健康受到威胁。所以，卫生是维护健康的基础。</p><p><strong>预防胜于治疗</strong></p><p>古人云：“治未病胜于治已病。”这句话告诉我们预防胜于治疗。维持卫生、定期体检、保持健康的生活方式，都是预防疾病的重要手段。相较于治疗已经发病的情况，预防要容易、便宜、有效得多。</p><p><strong>卫生习惯的养成</strong></p><p>养成良好的卫生习惯是关键。这包括勤洗手、保持个人卫生、健康饮食、适量运动等。这些习惯可以降低生病的风险，使我们保持健康。记住，养成习惯需要时间，但它们会成为你的生活方式，为你的健康带来长期益处。</p><p><strong>医疗保健的重要性</strong></p><p>除了卫生和健康习惯，定期的医疗保健也至关重要。定期体检可以及早发现潜在的健康问题，使治疗更容易。医生的建议和指导可以帮助我们更好地管理健康。</p><p>总之，卫生与健康是我们生活的基石。通过良好的卫生习惯、健康生活方式和医疗保健，我们可以更好地预防疾病，保持健康。卫生与健康的关系密切，它们共同构成了我们幸福生活的基础。</p><h3 id="13、我的业余生活"><a href="#13、我的业余生活" class="headerlink" title="13、我的业余生活"></a>13、我的业余生活</h3><p><img src="../image/普通话命题说话/image-20231103233743943.png" alt="image-20231103233743943"></p><p>我的业余生活：平衡与充实</p><p><strong>业余生活的重要性</strong></p><p>首先，让我们谈谈业余生活的重要性。业余生活是我们工作或学习之外的时间，它让我们得以休息、娱乐和充实自己。正如机器需要定期维护一样，我们的身体和心灵也需要业余生活来保持平衡和健康。</p><p><strong>阅读的乐趣</strong></p><p>我的业余生活中，阅读是一项不可或缺的活动。阅读带我进入不同的世界，认识各种各样的人物，探索新的思想和文化。无论是小说、历史书籍、科普读物还是诗歌，阅读都是我放松和充实自己的最佳途径。</p><p><strong>运动的活力</strong></p><p>业余时间也是我进行体育锻炼的时间。运动让我保持身体健康，增加体力和耐力。我可以选择跑步、游泳、瑜伽或者散步，只要是让身体活动起来，都有益于健康。</p><p><strong>创造的乐趣</strong></p><p>创造也是我的业余生活的一部分。我喜欢绘画、写作和音乐，这些活动充实了我的创造力。通过绘画，我表达自己的想法和情感；通过写作，我记录生活中的点滴；通过音乐，我找到内心的平静。</p><p><strong>社交与亲情</strong></p><p>业余时间也是我与家人和朋友相聚的时光。与亲人共度家庭时光，与朋友分享快乐，建立了深厚的人际关系。这种社交活动使我感到温暖和快乐，也是生活的一部分。</p><p><strong>学习的持续</strong></p><p>业余时间也是我不断学习的时光。无论是在线课程、学习新技能还是探索新的兴趣爱好，学习让我不断进步，丰富了我的知识储备。</p><p><strong>平衡与充实</strong></p><p>总的来说，我的业余生活是平衡与充实的。它不仅让我放松身心，还让我不断成长。业余生活是我生活中的一部分，它为我提供了丰富多彩的体验和回忆。</p><h3 id="14、我喜欢的季节"><a href="#14、我喜欢的季节" class="headerlink" title="14、我喜欢的季节"></a>14、我喜欢的季节</h3><p><img src="../image/普通话命题说话/image-20231103235120008.png" alt="image-20231103235120008"></p><p>我喜欢的季节：春天的温暖和生机</p><p><strong>春天的温暖</strong></p><p>首先，让我们谈谈我喜欢的季节：春天。春天是一年四季中温暖而宜人的季节。寒冷的冬天渐渐过去，大自然开始苏醒，温暖的阳光洒满大地。这种温暖让人感到宽慰，仿佛大自然在送来一个温暖的拥抱。</p><p><strong>生机勃勃的景色</strong></p><p>春天的大自然充满生机。树木抽出嫩绿的叶子，花朵绽放，草地变成绿意盎然的海洋。每一天都伴随着鸟儿的欢唱，昆虫的吱吱声，充满了生命的活力。这些景色让人感到愉悦，也让人对生命充满了希望。</p><p><strong>户外活动的好时光</strong></p><p>春天是户外活动的好时光。温暖的天气让人愿意外出，尽情享受户外的乐趣。散步、骑自行车、郊游、野餐，这些活动都在春天变得更加愉快。我喜欢在春天里漫步大自然，感受阳光和微风。</p><p><strong>美食的享受</strong></p><p>春天也是美食的季节。新鲜的水果、蔬菜和各种美味的食材开始出现在市场上。草莓、樱桃、新鲜的蔬菜，它们都是春天的美食。我喜欢品尝这些美味，它们让我感受到春天的味道。</p><p><strong>人与自然的和谐</strong></p><p>春天也让人感受到与自然和谐相处的重要性。我喜欢在春天里感受大自然的美丽，也明白了保护环境的重要性。春天的美景让我更加珍惜地球，也鼓励我采取行动，保护这个美丽的星球。</p><p><strong>希望与新开始</strong></p><p>最重要的是，春天代表着希望和新的开始。它象征着生命的重生和成长。在春天，我总是充满信心，迎接新的挑战和机会。春天的美好让我相信，生命是美好的，充满了可能性。</p><p>总之，我喜欢的季节是春天，因为它带来温暖、生机、美丽和希望。春天让我感到快乐，也鼓励我去探索、享受生活。</p><h3 id="15、学习普通话的体会"><a href="#15、学习普通话的体会" class="headerlink" title="15、学习普通话的体会"></a>15、学习普通话的体会</h3><p><img src="../image/普通话命题说话/image-20231104000032979.png" alt="image-20231104000032979"></p><p>学习普通话的体会</p><p>学习普通话是我生活中的一项重要经历。</p><p><strong>学习普通话的初衷</strong></p><p>首先，让我们谈谈学习普通话的初衷。对我来说，学习普通话是为了更好地沟通和理解。作为一门通用的语言，普通话可以帮助我更好地与不同地区的人交流，拓宽我的社交圈，也有助于我的职业发展。这个初衷让我充满了动力去学习。</p><p><strong>语言学习的挑战</strong></p><p>学习一门新的语言从来都不是一件容易的事情。普通话有自己独特的语音、语法和词汇，对我来说是全新的挑战。我必须掌握拼音、发音规则和汉字，同时也需要了解语法结构和常用词汇。这个过程充满了困难，但也充满了乐趣。</p><p><strong>学习方法的选择</strong></p><p>在学习普通话的过程中，我尝试了多种学习方法。我参加了语言课程，用教科书和在线资源进行自学，也努力多与普通话为母语的人交流。每种学习方法都有其优势和不足，但最重要的是找到适合自己的方式，不断尝试和调整。</p><p><strong>语音和发音的重要性</strong></p><p>学习普通话的一个重要方面是语音和发音。普通话的发音规则和声调对语言的正确理解和流利交流至关重要。我花了很多时间练习发音，尤其是声调的准确使用。这需要坚持和耐心，但是它是学习普通话的关键。</p><p><strong>文化与语言的融合</strong></p><p>学习一门语言不仅仅是学习词汇和语法，还包括了理解文化和背景。普通话是中国的官方语言，通过学习它，我也更深入地了解了中国的文化、历史和社会。这种文化与语言的融合让我对中国有了更多的兴趣和理解。</p><p><strong>持之以恒的精神</strong></p><p>学习普通话需要持之以恒的精神。有时候，我会遇到困难和挫折，感觉学习进展缓慢。但我相信只要坚持下去，就会看到进步。学习一门新语言是一个长期的过程，需要耐心和毅力。</p><p><strong>丰富的收获</strong></p><p>通过学习普通话，我收获了很多。我能够更好地与不同背景的人交流，扩大了自己的视野。我也在工作和社交生活中受益匪浅。学习普通话不仅是一门语言的学习，更是一次丰富的人生经历。</p><p>总之，学习普通话是一项具有挑战性但也非常有意义的事情。通过学习，我提高了自己的语言能力，也更深入地了解了中国文化。希望我的学习经验能激励更多人学习新的语言，探索不同的文化。</p><h3 id="16、谈谈服饰"><a href="#16、谈谈服饰" class="headerlink" title="16、谈谈服饰"></a>16、谈谈服饰</h3><p><img src="../image/普通话命题说话/image-20231104000629803.png" alt="image-20231104000629803"></p><p>服饰：更多的是表达和自信</p><p><strong>服饰的作用</strong></p><p>首先，让我们来谈谈服饰的作用。服饰不仅仅是为了遮体遮蔽，更是一种表达。我们的服装可以反映我们的个性、兴趣和身份。它是一种沟通工具，让我们能够在不言而喻中传递信息。无论是穿着正装在工作场合展现专业形象，还是选择休闲服饰放松自己，服饰都是一种表达方式。</p><p><strong>自信与舒适</strong></p><p>穿上合适的服饰可以增强自信。当我们穿着得体、自己喜欢的服装时，会感到更自信和舒适。这种自信会影响我们的态度和行为，让我们更愿意去迎接挑战，与人交流，甚至实现自己的目标。所以，服饰不仅改变了我们的外貌，还改变了我们的内心。</p><p><strong>多样性与创意</strong></p><p>服饰世界充满了多样性与创意。不同文化、不同时代都有各种各样的服装风格和设计。这给我们提供了无限的选择和表达方式。我们可以根据不同场合、氛围和个人口味来选择服装，展现自己独特的风格。创意在服饰中得以发挥，让人充分表达自己的创造力。</p><p><strong>可持续时尚</strong></p><p>在谈论服饰时，我们也需要考虑可持续时尚的重要性。服装产业对环境有很大影响，包括原材料的采集、生产过程、运输和垃圾处理。因此，选择可持续的服饰和购买质量更好、经久耐用的衣物对环保至关重要。可持续时尚鼓励人们更加负责地消费，关心地球的未来。</p><p><strong>总结与反思</strong></p><p>总之，服饰远不仅仅是一种外表装点，更是一种表达、自信、多样性和可持续时尚的体现。我们的服装选择可以反映我们的内心状态，改变我们的情绪和行为。通过选择适合自己的服饰，我们能够更好地展现自己、自信面对生活。。</p><h3 id="17、我的假日生活"><a href="#17、我的假日生活" class="headerlink" title="17、我的假日生活"></a>17、我的假日生活</h3><p><img src="../image/普通话命题说话/image-20231104000926304.png" alt="image-20231104000926304"></p><p>我的假日生活：放松、探险与家庭</p><p><strong>放松的时光</strong></p><p>首先，让我们来谈谈我假日生活的一部分：放松。假日对我来说是放松的好时光。在忙碌的工作日后，我喜欢在假日里寻找平静与宁静。我会选择一个安静的地方，阅读一本好书，欣赏美丽的风景，或者简单地躺在床上休息。这个时光让我恢复精力，充实内心。</p><p><strong>探险的冒险</strong></p><p>除了放松，我也喜欢在假日里寻找探险的机会。探险可以是旅行到未知的地方，尝试新的活动，或者挑战自己的极限。我热爱大自然，所以常常选择户外探险，比如徒步旅行、露营、或者远足。这些经历让我感到充实和兴奋，也让我更深入地了解自然的奥秘。</p><p><strong>家庭时光的重要性</strong></p><p>最重要的是，我珍惜与家人共度的家庭时光。假日是与亲人团聚的好时机，我会和家人一起吃饭、聊天、看电影，或者一起外出旅行。这些时光让我感受到亲情的温暖，也让我更加珍惜家庭的重要性。家庭时光不仅让我感到幸福，也增强了家庭的凝聚力。</p><p><strong>自我反思与成长</strong></p><p>在假日里，我也有时间进行自我反思和成长。我会回顾过去的经历，思考未来的目标，学习新的技能或者充实自己的知识。这种自我投资让我感到满足，也让我在生活中不断成长。</p><p><strong>总结与展望</strong></p><p>总之，我的假日生活包括了放松、探险和家庭时光，以及自我反思和成长。这些元素共同构成了我丰富多彩的假日生活。</p><h3 id="18、我的成长之路"><a href="#18、我的成长之路" class="headerlink" title="18、我的成长之路"></a>18、我的成长之路</h3><p><img src="../image/普通话命题说话/image-20231104001200027.png" alt="image-20231104001200027"></p><p>我的成长之路：坚韧、学习与目标</p><p><strong>坚韧与挑战</strong></p><p>首先，让我们来谈谈成长之路上的坚韧。在生活中，我们常常会面临各种挑战和困难。在我成长的过程中，我学会了坚韧地面对这些挫折。无论是学业上的困难，还是生活中的逆境，我都坚信只要不放弃，就能够克服一切。坚韧让我更强大，也让我明白困难是成长的一部分。</p><p><strong>不断学习的习惯</strong></p><p>成长之路上学习是不可或缺的一部分。我始终坚信知识是一种宝贵的财富，而学习是获取知识的途径。我鼓励自己不断学习新的事物，提升技能和知识。这包括了阅读书籍、参加课程、向他人请教，以及实践中积累经验。学习使我不断进步，也让我更加自信面对未来。</p><p><strong>追求目标与梦想</strong></p><p>在成长之路上，追求目标和梦想是非常重要的。我相信每个人都应该有自己的目标和梦想，这可以给我们的生活带来方向和动力。我坚持设立目标，制定计划，努力迈向自己的梦想。这种坚持不懈的追求让我感到满足和有成就感，也鼓励我不断前行。</p><p><strong>自我反思与改进</strong></p><p>在成长过程中，自我反思是一个重要的环节。我时常反思自己的行为和决策，思考如何能够更好地改进和成长。这种自我反思帮助我认识到自己的优点和缺点，也让我不断改善自己。成长是一个不断完善自我的过程，自我反思是其中的一部分。</p><p><strong>总结与展望</strong></p><p>总之，我的成长之路包括了坚韧、学习、追求目标和梦想，以及自我反思和改进。这些元素共同构成了我不断进步的成长过程。</p><h3 id="19、谈谈科技生活与社会生活"><a href="#19、谈谈科技生活与社会生活" class="headerlink" title="19、谈谈科技生活与社会生活"></a>19、谈谈科技生活与社会生活</h3><p><img src="../image/普通话命题说话/image-20231104001529544.png" alt="image-20231104001529544"></p><p>科技发展与社会生活：便利、挑战与未来</p><p><strong>科技发展的便利</strong></p><p>首先，让我们来谈谈科技发展为社会生活带来的便利。现代科技的发展使我们的生活更加便捷。手机和互联网的普及让信息获取更快速，社交媒体让人们能够更容易保持联系，电子商务让购物更加方便。医疗科技的进步改善了医疗服务，交通科技提高了交通安全和效率。这些便利让我们的生活更加舒适和高效。</p><p><strong>科技带来的挑战</strong></p><p>然而，科技发展也带来了一些挑战。首先，数字化时代的到来增加了隐私和安全的风险。个人信息泄露和网络犯罪成为了问题。此外，科技发展也导致了一些职业的消失，因为自动化和机器人技术取代了一些传统工作。社交媒体的使用也引发了一些社会问题，包括信息泡泡和心理健康问题。因此，我们需要谨慎应对这些挑战，以保护我们的个人信息和适应新的工作环境。</p><p><strong>未来的展望</strong></p><p>虽然科技发展带来了挑战，但我们也可以看到未来的希望。科技在医疗领域的应用将继续拯救生命和改善生活质量。可再生能源技术将有助于减轻气候变化问题。人工智能和大数据分析将帮助我们更好地解决社会问题。未来，我们可能会看到更多创新的科技解决方案，提高生活质量，保护环境，以及实现更多社会平等。</p><p><strong>总结与反思</strong></p><p>总之，科技发展为社会生活带来了便利和挑战。我们需要善用科技的便利，同时也要警惕科技带来的问题。未来的展望是积极的，科技将继续为我们的生活带来更多的创新和改善。</p><h3 id="20、我知道的风俗"><a href="#20、我知道的风俗" class="headerlink" title="20、我知道的风俗"></a>20、我知道的风俗</h3><p><img src="../image/普通话命题说话/image-20231104002009817.png" alt="image-20231104002009817"></p><p>我知道的风俗：多彩多样的文化习惯</p><p><strong>传统婚礼仪式</strong></p><p>首先，让我们来谈谈传统婚礼仪式。不同地区和文化有各自独特的婚礼风俗。在一些国家，新娘会穿着特殊的婚纱，而在其他地方，新娘会戴着特殊的头饰。婚礼上的仪式和传统也各不相同，有些人喜欢在婚礼上扔花束，有些人则喜欢点燃蜡烛。这些传统反映了每个文化的独特价值观和习惯。</p><p><strong>餐桌礼仪</strong></p><p>另一个重要的风俗是餐桌礼仪。不同国家和地区有各自的用餐规矩。在一些地方，人们用筷子吃饭，而在其他地方，人们使用刀和叉。餐桌礼仪也包括了如何坐姿、如何与他人交谈以及如何分配食物。了解这些餐桌礼仪对于在不同文化中交往和社交是非常重要的。</p><p><strong>宗教节庆</strong></p><p>宗教节庆也是丰富多彩的风俗之一。不同宗教有各自的节庆仪式和传统。例如，基督教的圣诞节是一个全球性的节庆，人们会在这一天庆祝耶稣的诞生。在伊斯兰教中，开斋节标志着斋月的结束，人们会互赠礼物并分享美食。宗教节庆不仅弘扬了信仰，也传承了文化。</p><p><strong>节气和季节庆</strong></p><p>每个文化都有特定的节气和季节庆典。在中国，春节是一个重要的庆典，人们会互赠红包、吃团圆饭，庆祝新年到来。在美国，感恩节是一个重要的节日，人们会感恩家庭和朋友，享受美食。这些庆典与季节和自然的循环紧密相连，强调了人们与自然和社区的联系。</p><p><strong>总结与反思</strong></p><p>总之，风俗多种多样，反映了各种文化的独特性。了解不同文化的风俗可以帮助我们更好地理解和尊重他人，也能够丰富我们的生活。</p><h3 id="21、我和体育"><a href="#21、我和体育" class="headerlink" title="21、我和体育"></a>21、我和体育</h3><p><img src="../image/普通话命题说话/image-20231104002320114.png" alt="image-20231104002320114"></p><p>我和体育：生活中的运动之乐</p><p>体育是我的生活中不可或缺的一部分，它不仅使我保持健康，还让我享受生命的乐趣。</p><p><strong>童年的运动记忆</strong></p><p>从小，我就热爱各种体育活动。我记得在学校的操场上奔跑，参加田径比赛，感受到风在耳边呼啸的刺激。我也喜欢踢足球，每次踢球都是一次释放能量和团队协作的体验。这些童年的体育记忆让我养成了锻炼的习惯，也让我懂得了团队合作的重要性。</p><p><strong>健康与活力</strong></p><p>体育对我的健康产生了积极影响。通过参与各种运动，我保持了良好的体能和体重。我发现每次锻炼后，身体充满了活力，精神状态也更加愉快。体育锻炼不仅使我身体强壮，还提高了我的免疫力，让我更加抵抗疾病。</p><p><strong>挑战与成就</strong></p><p>参与体育比赛也带来了挑战与成就。在比赛中，我不仅要竭尽全力，还要克服紧张和压力。但每当我克服困难，实现个人或团队目标时，那种成就感是无可替代的。体育教会了我坚持不懈，不怕失败，追求卓越。</p><p><strong>社交与团队合作</strong></p><p>体育还教会了我社交和团队合作的重要性。在团队体育中，我学会了倾听他人的意见，共同制定战术，相互支持。这不仅在比赛中有用，也在生活中建立了深厚的友谊。体育是联结人们的桥梁，让我们共同追求目标。</p><p><strong>休闲与乐趣</strong></p><p>除了竞技体育，我也热爱休闲体育。散步、骑自行车、游泳，都是我喜欢的方式。这些活动不仅让我享受户外的美景，还让我放松身心，摆脱生活的压力。体育是我生活中的乐趣之一，为我带来了快乐。</p><p><strong>总结与反思</strong></p><p>总之，体育对我来说不仅是一种锻炼，更是一种生活态度。它让我保持健康，充满活力，挑战自我，建立友谊，享受乐趣。无论是在童年的操场上奔跑，还是在休闲时的徒步旅行，体育一直陪伴着我，让我更加热爱生活。</p><h3 id="22、我的家乡"><a href="#22、我的家乡" class="headerlink" title="22、我的家乡"></a>22、我的家乡</h3><p><img src="../image/普通话命题说话/image-20231104002706321.png" alt="image-20231104002706321"></p><p>我的家乡：邵阳武冈，千年古城</p><p>邵阳武冈，这个位于湖南省的小城市，是我生活的地方，也是我深爱的家乡。</p><p><strong>历史沧桑</strong></p><p>邵阳武冈拥有丰富的历史文化遗产。据史书记载，武冈地区在两千多年前就有人类居住，这里的历史可以追溯到春秋战国时期。在千年的历史中，武冈曾是蛮荒之地，也是军事要塞，留下了许多历史遗迹和传统。</p><p><strong>风景如画</strong></p><p>武冈的自然风光令人陶醉。城市周围是青山绿水，梯田风景如画。我记得小时候，每当春天来临，山花烂漫，梯田一片翠绿。夏日的山水，秋天的稻谷金黄，都让我感到无限的宁静与美丽。这里的风景如画，让人忘记了城市的喧嚣。</p><p><strong>人文风采</strong></p><p>武冈的人文风采同样引人注目。这里有着深厚的文化传统，尤其以红色文化和土家文化著称。在这片土地上，诞生了许多杰出的文化名人，他们为邵阳武冈的文化传承贡献了重要力量。在这里，人们崇尚亲情、友情，坚持传统道德观念，这种文化精神一直激励着我。</p><p><strong>美食胜地</strong></p><p>武冈也是美食的胜地。这里的特色小吃琳琅满目，如肉粽、豆腐糕、辣子鸡等，都令人垂涎欲滴。每当回家，我都会去品尝一些家乡美食，让我感到温馨和幸福。</p><p><strong>未来希望</strong></p><p>尽管武冈有着丰富的历史和文化，但也在不断发展壮大。城市的建设日新月异，经济发展迅速，新技术和新产业不断涌现。我希望未来的武冈会更加繁荣，也更好地保护和传承自己的历史和文化。</p><p><strong>总结与反思</strong></p><p>总之，邵阳武冈是我深爱的家乡，这个千年古城拥有丰富的历史和文化，美丽的自然风光，热情好客的人民和美味的美食。无论走到哪里，我都会骄傲地说：“我是来自邵阳武冈的！”</p><h3 id="23、谈谈美食"><a href="#23、谈谈美食" class="headerlink" title="23、谈谈美食"></a>23、谈谈美食</h3><p><img src="../image/普通话命题说话/image-20231104003331729.png" alt="image-20231104003331729"></p><p>当谈到美食，我们总是充满激情。美食是生活的一部分，也是人们交流的纽带。无论你来自哪里，美食都能让我们走近彼此，分享快乐和欢乐。</p><p><strong>美食的多样性</strong></p><p>美食的魅力在于它的多样性。世界各地有各种各样的美食，每一种都有其独特的口味和特色。无论是中餐、西餐、印度菜还是墨西哥食物，每一种美食都有其独到之处。这个多样性让人们能够享受不同文化的美味，拓宽视野，增加生活的乐趣。</p><p><strong>美食的社交价值</strong></p><p>美食不仅仅是填饱肚子的工具，它还有着强大的社交价值。家庭聚会、朋友聚会、浪漫晚餐，美食总是伴随着我们的生活。在美食的桌子上，人们分享故事、交流情感，互相拉近了距离。美食是人际交往的桥梁，也是记忆中珍贵的一部分。</p><p><strong>美食的文化影响</strong></p><p>美食反映了一个地区或国家的文化。它传承了历史，承载了传统，代表了价值观。每一种美食都有着深刻的文化背景，它们讲述着人们的故事，传递着价值观。通过品味不同的美食，我们能够更好地了解不同文化，促进文化交流和理解。</p><p><strong>美食的快乐</strong></p><p>美食带来的快乐是无可比拟的。当你品尝到一道美味的菜肴时，你会感到幸福和满足。美食激发了我们的味蕾，释放了愉悦的化学物质，让我们感到快乐。这种快乐是简单而纯粹的，无需太多的银子，只需一颗美好的心。</p><p><strong>美食的健康</strong></p><p>除了美味，美食还对健康有着重要影响。饮食对我们的身体和心理健康至关重要。均衡的饮食可以提供所需的营养，增强免疫力，降低患病风险。所以，美食不仅仅是味道，还是健康和幸福的一部分。</p><p>总之，美食是我们生活中不可或缺的一部分，它有着多样性、社交价值、文化影响、快乐和健康等多重意义。让我们珍惜美食，品味生活的多彩之处。无论你身在何处，美食都会一直陪伴着你，成为你生活中的美好回忆。美食是一个美妙而多彩的世界，让我们一起品味吧！</p><h3 id="24、我喜欢的节日"><a href="#24、我喜欢的节日" class="headerlink" title="24、我喜欢的节日"></a>24、我喜欢的节日</h3><p><img src="../image/普通话命题说话/image-20231104003743533.png" alt="image-20231104003743533"></p><p>春节，对我来说，是一年中最期待的节日之一。这个节日有着丰富的文化内涵，也是家庭团聚的时刻，充满了欢乐和希望。</p><p><strong>欢乐的春节氛围</strong></p><p>春节，即农历新年，是中国最重要的传统节日之一。从腊月廿九的除夕夜开始，整个春节期间，家家户户都洋溢着节日的氛围。大街小巷张灯结彩，热闹非凡。人们纷纷走出家门，走亲访友，互相拜年，祝福彼此新年快乐，生活幸福。这种欢乐的氛围让我感到温馨和充实。</p><p><strong>丰富的传统习俗</strong></p><p>春节有着许多丰富多彩的传统习俗。其中，最令人期待的莫过于过年时的家庭团聚。家人从各地赶回家，团聚在一起，共享团圆饭。这一刻，家人团聚的温馨感觉是无法用言语来表达的。</p><p>此外，春节期间还有烟花爆竹、舞龙舞狮、赏花灯等各种传统活动。这些活动不仅增添了节日的气氛，也传承了中国几千年的文化。</p><p><strong>美味的年夜饭</strong></p><p>年夜饭是春节期间最重要的一餐，也是我最期待的。桌上摆满了各种各样的菜肴，象征着吉祥和丰收。鱼、鸡、猪肉、蔬菜等食材都有着特殊的寓意，如年年有余、吉祥如意等。大家围坐在饭桌前，享受着美味的佳肴，共同庆祝新年的到来。</p><p><strong>压岁钱的喜悦</strong></p><p>春节时，长辈会给晚辈发压岁钱，这是一个充满喜悦的时刻。孩子们收到压岁钱，会感到开心和满足，也是一种祝福和祝愿的表达。这些小红包象征着好运和幸福，也是春节传统的一部分。</p><p><strong>新年的愿望</strong></p><p>在春节期间，人们通常会制定新年的愿望和计划。这是一个新的开始，一个全新的一年。我也喜欢在新年之际反思自己的目标和梦想，为未来的努力充满信心。</p><p>总之，春节是我喜欢的节日，它充满了欢乐、传统和温馨。在这个特殊的时刻，我能够与家人团聚，享受美味的食物，感受到新年的希望和祝福。春节是一个充满幸福的时刻，也是我永远不会忘记的节日。愿你也能在这个美好的节日里，过得幸福快乐！</p><h3 id="25、我所在的集体"><a href="#25、我所在的集体" class="headerlink" title="25、我所在的集体"></a>25、我所在的集体</h3><p><img src="../image/普通话命题说话/image-20231104004156276.png" alt="image-20231104004156276"></p><p>我所在的集体，是一个令人骄傲和温馨的大家庭。这个集体不仅是我们工作的地方，也是我们彼此关心和支持的群体。</p><p><strong>我们的工作集体</strong></p><p>我所在的集体是一个由各行各业的员工组成的工作集体。我们共同为实现共同的目标而努力工作，每个人都发挥着自己的专长和作用。我们有工程师、销售员、行政人员、技术支持人员等不同职业背景的同事，构成了一个多元化的团队。</p><p><strong>团结合作</strong></p><p>在我们的集体中，团结合作是我们最引以为傲的特点之一。无论面对什么样的挑战，我们总是能够紧密合作，互相支持。我们相信团队合作的力量，能够取得更多的成就。在工作中，我们互相倾听和尊重，共同探讨解决方案，共同进步。</p><p><strong>关心和支持</strong></p><p>除了工作，我们的集体还注重彼此的关心和支持。在生活中，我们会互相询问健康和家庭情况，为彼此送上祝福。在困难时，我们也会互相扶持，提供帮助。这种亲切的氛围让我们感到温暖和安心。</p><p><strong>共同的价值观</strong></p><p>我们的集体有着共同的价值观念，包括诚信、责任和奉献。我们相信只有诚实守信，才能建立信任和合作关系。责任感使我们每个人都尽心尽力，履行自己的职责。奉献精神激励我们为集体和社会贡献自己的力量。</p><p><strong>学习和进步</strong></p><p>我们的集体注重学习和进步。不仅是工作技能，还包括个人成长。我们鼓励员工参加培训和学习活动，不断提升自己的能力。这种积极的学习氛围使我们不断进步，适应不断变化的环境。</p><p><strong>庆祝活动</strong></p><p>在我们的集体，庆祝活动也是不可或缺的部分。生日、节假日、团队建设活动等都是我们聚在一起庆祝的时刻。这些活动增强了团队凝聚力，让我们更加亲近。</p><p>总之，我所在的集体是一个充满团结、关心和支持的大家庭。我们共同努力工作，共同成长，共同庆祝。这个集体是我自豪的地方，也是我永远不会忘记的。愿我们的集体继续发展壮大，为更美好的未来努力奋斗。</p><h3 id="26、谈谈社会公德和职业道德"><a href="#26、谈谈社会公德和职业道德" class="headerlink" title="26、谈谈社会公德和职业道德"></a>26、谈谈社会公德和职业道德</h3><p><img src="../image/普通话命题说话/image-20231104004605490.png" alt="image-20231104004605490"></p><p>社会公德和职业道德是我们生活中重要的价值观念，它们指导着我们的行为，影响着社会的和谐与进步。</p><p><strong>社会公德的重要性</strong></p><p>社会公德是指在社会中遵循一定的道德准则，尊重他人，维护社会秩序和和谐的行为规范。社会公德的重要性体现在以下几个方面：</p><ol><li><p><strong>社会和谐</strong>：遵守社会公德可以促进社会和谐，减少冲突和纷争。当每个人都尊重他人的权利和尊严，社会将更加稳定。</p></li><li><p><strong>信任建立</strong>：社会公德有助于建立信任。在日常生活中，我们需要信任他人，而社会公德是建立信任的基础。当我们信任他人，合作和交往将更加顺畅。</p></li><li><p><strong>道德养成</strong>：遵守社会公德有助于个体的道德养成。通过尊重他人，我们培养了善良和宽容的品质，使自己成为更好的人。</p></li></ol><p><strong>遵守社会公德的方式</strong></p><p>要遵守社会公德，我们可以采取以下措施：</p><ol><li><p><strong>尊重他人</strong>：尊重他人的意见和权利，不侵犯他人的隐私和财产。</p></li><li><p><strong>遵守法律</strong>：遵守国家和地方的法律法规，不从事非法活动。</p></li><li><p><strong>文明礼貌</strong>：在公共场合保持文明礼貌，不进行恶意攻击或侮辱他人。</p></li><li><p><strong>互助合作</strong>：乐于帮助他人，积极参与社区和公益活动。</p></li></ol><p><strong>职业道德的重要性</strong></p><p>职业道德是指在特定职业领域中应遵循的道德规范，以确保公平竞争、诚信经营和服务质量。职业道德的重要性体现在以下几个方面：</p><ol><li><p><strong>信誉建设</strong>：遵守职业道德有助于建立良好的信誉。客户和合作伙伴更愿意与有良好信誉的人合作，这有助于事业的成功。</p></li><li><p><strong>法律遵从</strong>：职业道德通常与法律法规相一致，遵守职业道德也意味着遵守法律，避免不当行为。</p></li><li><p><strong>服务质量</strong>：职业道德要求提供高质量的服务和产品，这有助于满足客户需求，提高竞争力。</p></li></ol><p><strong>遵守职业道德的方式</strong></p><p>要遵守职业道德，我们可以采取以下措施：</p><ol><li><p><strong>诚实守信</strong>：遵循职业领域的诚实原则，不作虚假宣传，不欺骗客户。</p></li><li><p><strong>保守机密</strong>：对客户和公司的机密信息负有保密责任，不泄露机密信息。</p></li><li><p><strong>避免冲突</strong>：在处理职业事务时，避免利益冲突，确保公平竞争。</p></li><li><p><strong>不从事欺诈</strong>：不从事欺诈、腐败或不道德的活动，保持清白的职业记录。</p></li></ol><p>总之，社会公德和职业道德是我们生活和工作中不可或缺的价值观念。遵守社会公德有助于社会和谐和信任建立，而遵守职业道德则有助于信誉建设和服务质量提升。我们每个人都应该积极遵守这些道德准则，为更美好的社会和职业环境贡献力量。</p><h3 id="27、谈谈个人修养"><a href="#27、谈谈个人修养" class="headerlink" title="27、谈谈个人修养"></a>27、谈谈个人修养</h3><p><img src="../image/普通话命题说话/image-20231104004928625.png" alt="image-20231104004928625"></p><p>个人修养是每个人在生活中应该重视和培养的品质，它涵盖了各个方面，如性格、行为、价值观等。</p><p><strong>个人修养的重要性</strong></p><p>个人修养在我们的生活中扮演着重要的角色，它的重要性体现在以下几个方面：</p><ol><li><p><strong>建立良好的人际关系</strong>：拥有良好的个人修养可以使我们更好地与他人相处。尊重他人、善解人意和有耐心等品质有助于建立积极的人际关系。</p></li><li><p><strong>提高自尊和自信</strong>：个人修养包括自律和自我管理，这有助于提高自尊心和自信心。通过自我提升和自我控制，我们能更好地应对生活中的各种挑战。</p></li><li><p><strong>塑造积极的性格</strong>：个人修养有助于塑造积极的性格特征，如善良、宽容、谦虚和正直。这些品质使我们成为更好的人。</p></li><li><p><strong>实现个人和职业成功</strong>：拥有良好的个人修养有助于实现个人和职业成功。雇主和同事更愿意与道德品行良好的人合作，这对事业发展至关重要。</p></li></ol><p><strong>培养和提升个人修养</strong></p><p>要培养和提升个人修养，我们可以采取以下方法：</p><ol><li><p><strong>自我反思</strong>：定期进行自我反思，审视自己的行为和决策。了解自己的优点和缺点，以便做出改进。</p></li><li><p><strong>学习和成长</strong>：不断学习和成长是提高个人修养的关键。阅读有益的书籍、参加培训和寻求指导都有助于提升自我。</p></li><li><p><strong>尊重他人</strong>：尊重他人是个人修养的核心。学会倾听和理解他人的观点，避免冲突和争吵。</p></li><li><p><strong>自律和自我管理</strong>：培养自律和自我管理的习惯有助于提高修养。制定目标、制定计划和保持纪律，确保自己按时完成任务。</p></li><li><p><strong>积极参与社区和公益活动</strong>：积极参与社区和公益活动可以帮助我们更好地理解他人的需求，培养同情心和善意。</p></li><li><p><strong>宽容和谦逊</strong>：培养宽容和谦逊的态度，不断提醒自己保持谦卑和理解他人的不同。</p></li></ol><p><strong>结语</strong></p><p>个人修养是每个人应该重视的品质，它不仅有助于建立积极的人际关系，还有助于提高自尊和自信，塑造积极的性格特征，实现个人和职业成功。通过自我反思、学习成长、尊重他人、自律和自我管理，积极参与社区和公益活动，以及培养宽容和谦逊的态度，我们可以不断提升个人修养，成为更好的人。</p><h3 id="28、我喜欢的明星"><a href="#28、我喜欢的明星" class="headerlink" title="28、我喜欢的明星"></a>28、我喜欢的明星</h3><p><img src="../image/普通话命题说话/image-20231104005337282.png" alt="image-20231104005337282"></p><p>我喜欢的明星——周杰伦</p><p>我喜欢的明星是周杰伦，他是一位才华横溢的音乐天才，同时也是一位备受尊敬的创作歌手。我之所以喜欢他，不仅是因为他的音乐才华，更是因为他的坚韧和创造力。</p><p>首先，周杰伦是一位出色的音乐家。他的音乐作品多种多样，融合了流行、摇滚、嘻哈等多种音乐元素，创造出独具特色的音乐风格。他的歌曲歌词深刻，旋律优美，总能触动人心。他的音乐作品一直伴随着我成长，成为我生活中的一部分。</p><p>其次，周杰伦是一位杰出的创作歌手。他不仅演唱自己的歌曲，还亲自创作歌词和音乐。他的创作才华令人钦佩，他的歌曲充满情感和思考，反映了他对生活的独特见解。他的创作作品启发了我对音乐和创作的兴趣，激励我表达自己的情感和思想。</p><p>最重要的是，周杰伦一直以来都是一位坚韧和努力的音乐人。他通过不懈的努力和创造力，成为了一位备受尊敬的音乐巨星。他的成功故事激励我相信，只要有梦想并为之努力，就有可能实现自己的目标。</p><p>总之，我喜欢的明星周杰伦不仅是一位音乐天才，还是一位坚韧和创造力的创作歌手。他的音乐作品和成功故事一直激励着我。我希望能够像他一样，充满激情地追求自己的梦想，不断努力，成为更好的自己。周杰伦是我心目中的音乐偶像，我将永远喜欢和尊敬他。</p><h3 id="29、我喜欢的书籍"><a href="#29、我喜欢的书籍" class="headerlink" title="29、我喜欢的书籍"></a>29、我喜欢的书籍</h3><p><img src="../image/普通话命题说话/image-20231104005820087.png" alt="image-20231104005820087"></p><p>《活着》这本书深深地打动了我，因为它不仅是一部文学作品，更是一部生活的写照。这本书由中国著名作家余华所著，讲述了主人公李四光的一生。李四光生于中国大半个世纪的历史变迁中，经历了社会、政治和经济的巨大变革。这本书以深刻的笔触勾画出李四光的命运，也反映了中国社会的许多方面。</p><p>在这本书中，李四光的一生充满了坎坷和挫折。他经历了家庭的破裂、贫困的困扰、人生的起伏。然而，李四光从未放弃希望，一直努力生存下去。这让我深刻地体会到生活的不易，以及人们在面对困难时的坚韧和勇气。</p><p>通过这本书，我还更好地了解了中国的历史。李四光的一生跨足了中国社会在不同时期的巨大变化，包括大跃进、文化大革命等重要事件。这帮助我更好地理解了中国近代历史的复杂性，以及社会在历史巨变中的承受力。</p><p>然而，尽管生活对李四光充满了考验，他仍然能够从中汲取力量。他的坚韧和勇气启发了我，让我明白了生活中的困难只是一时的，只要我们不放弃，总会迎来阳光。这本书也教育了我要感恩并珍惜每一天，不论生活如何艰难，都要坚持活着，因为活着本身就是一种奇迹。</p><p>总之，我喜欢的书籍《活着》以其深刻的人生哲学和历史背景，让我受益匪浅。这本书教育了我关于生命、坚韧和感恩的重要价值观。它永远留在我的心中，成为我生活中的重要一部分。这本书的魅力是无法言喻的，它让我深刻地思考了生活的意义，也让我更加珍惜每一个来之不易的日子。</p><h3 id="30、谈谈对环境保护的认识"><a href="#30、谈谈对环境保护的认识" class="headerlink" title="30、谈谈对环境保护的认识"></a>30、谈谈对环境保护的认识</h3><p><img src="../image/普通话命题说话/image-20231104010156989.png" alt="image-20231104010156989"></p><p>当谈到环境保护时，我们通常想到的是保护自然资源和生态系统。然而，环境保护不仅仅是关心大自然，它也直接影响着我们的生活质量和未来的可持续发展。</p><p><strong>引言：</strong></p><p>环境保护是一项全球性的挑战，它关乎我们自己的生存和子孙后代的未来。在如今的社会中，我们面临着空气污染、水资源匮乏、生物多样性丧失和气候变化等重大问题。这些问题不仅威胁着大自然，还影响着我们的健康和生活。</p><p><strong>环境保护的重要性：</strong></p><p>首先，环境保护是为了保护我们自己。我们的健康和生存直接依赖于健康的自然环境。空气污染和水污染对我们的健康造成威胁，而气候变化导致的极端天气事件也可能对我们的生活造成重大影响。</p><p>其次，环境保护是为了维护生态平衡。地球上的每个生物都扮演着生态系统中的一个角色，它们之间的相互作用维持着生态平衡。如果某种生物灭绝或生态系统受到破坏，将导致连锁反应，最终可能对人类产生不利影响。</p><p>最重要的是，环境保护是为了确保可持续发展。我们需要确保我们的行动不会耗尽自然资源，而是能够满足当前和未来世代的需求。这需要我们采取可持续的生活方式和经济发展模式。</p><p><strong>个人责任：</strong></p><p>每个人都有责任参与环境保护。我们可以从日常生活中做起，采取一些简单的行动，如减少能源消耗、减少垃圾产生、鼓励循环再利用和废物回收等。此外，我们可以支持环保组织和倡导可持续发展的政策。</p><p><strong>政府和企业的角色：</strong></p><p>政府和企业在环境保护中扮演着重要角色。政府需要颁布环保法律和政策，监督执行情况，并提供环保教育。企业需要采取环保措施，减少排放和资源浪费，以及推动绿色技术的发展。</p><p><strong>结论：</strong></p><p>环境保护是我们每个人的责任，也是确保我们的星球和未来世代的生存的关键。我们应该认识到环境保护的重要性，采取行动，积极参与，共同努力，以创造一个更健康、更可持续的未来。只有通过集体努力，我们才能保护我们所珍视的美丽地球。</p><h3 id="31、我向往的地方"><a href="#31、我向往的地方" class="headerlink" title="31、我向往的地方"></a>31、我向往的地方</h3><p><img src="../image/普通话命题说话/image-20231104010441361.png" alt="image-20231104010441361"></p><p>北平，后改名为北京，这个名字对我来说一直有着特殊的魅力。从我小时候开始，我就向往着这座古老而现代的城市。虽然我尚未亲临北京，但它一直在我的梦中存在，成为我向往的地方。</p><p><strong>北京的历史和文化：</strong></p><p>首先，北京是中国的首都，拥有悠久的历史和深厚的文化底蕴。这座城市承载着数千年的历史，曾是中国封建帝国的政治中心。它充满了古老的宫殿、庙宇、城墙和胡同，每一处都是历史的见证。我梦想着在这些古老的地方漫步，感受历史的沧桑。</p><p><strong>北京的名胜古迹：</strong></p><p>北京也是一个名胜古迹丰富的地方。有着万里长城的壮丽，有着紫禁城的庄严，有着颐和园的秀美，有着故宫的珍宝。这些地方都是中国文化的瑰宝，我渴望能够亲自前去一一探访，感受它们的独特魅力。</p><p><strong>北京的现代气息：</strong></p><p>尽管北京有着丰富的历史和文化，但它也是一个现代化大都市。作为中国的政治、经济和文化中心，北京充满了活力和创新。在这里，高楼大厦拔地而起，现代化的交通系统连接着整个城市，各种国际性的活动和展览也层出不穷。我向往着能够亲身感受到这个现代与传统交融的城市。</p><p><strong>北京的美食：</strong></p><p>另外，北京的美食也是我向往之地。北京烤鸭、炸酱面、豆汁、涮羊肉等美味佳肴都让我垂涎三尺。我希望能够在北京的胡同里品味地道的北京小吃，感受不同于我的家乡的美食文化。</p><p><strong>北京的四季：</strong></p><p>最后，北京的四季分明也吸引着我。春天的樱花盛开，夏天的长城郁郁葱葱，秋天的颐和园五彩斑斓，冬天的故宫皑皑白雪。每个季节都有不同的风景，我希望能够亲自体验四季更替的美丽。</p><p>总的来说，北京是我向往的地方，因为它拥有丰富的历史和文化、令人憧憬的名胜古迹、现代的活力、美味的食物和四季分明的景色。它代表了中国的繁荣和多元，我希望有一天能够亲自到那里，实现我的梦想，走近这座我向往已久的城市。</p><h3 id="32、购物或者消费的感受"><a href="#32、购物或者消费的感受" class="headerlink" title="32、购物或者消费的感受"></a>32、购物或者消费的感受</h3><p><img src="../image/普通话命题说话/image-20231104010705518.png" alt="image-20231104010705518"></p><p>购物和消费一直是我们生活中不可或缺的一部分，同时也是一种特殊的感受。</p><p><strong>购物的乐趣：</strong></p><p>购物对我来说不仅仅是为了满足生活的需要，更是一种乐趣。漫步在商场或逛街街头，看着琳琅满目的商品，总有一种挑选的乐趣。挑选礼物、衣物、食物或其他商品时，我可以感受到选择的自由，这种自由给予了我满足感。</p><p><strong>品质与性价比：</strong></p><p>在购物中，品质和性价比是我非常重视的因素。我希望购买的商品不仅在质量上有保障，还要在合理的价格范围内。有时，我会仔细研究产品的性能、特点和口碑，以确保我做出最明智的选择。好的购物体验往往伴随着物超所值的满足感。</p><p><strong>满足需求和欲望：</strong></p><p>购物和消费也是满足自身需求和欲望的途径。有时，购买生活必需品如食物、衣物和日用品可以满足基本需求，使生活更加便捷。而在特殊的时刻，我也愿意为满足个人欲望而购买奢侈品或小众商品，这种体验能够给予我一种短暂的愉悦感。</p><p><strong>节制和理性：</strong></p><p>购物和消费需要适度和理性。我相信在购物时要有计划，不要盲目消费。制定预算、列出购物清单和避免冲动购物都是我为了保持理性消费而采取的方法。在购物时，我会问自己是否真正需要某件商品，以及它是否对我的生活有实际的帮助。</p><p><strong>购物的体验：</strong></p><p>购物不仅仅是交易行为，还是一种体验。现在，线上购物也变得非常流行，但我仍然喜欢线下购物的体验。触摸商品、品味食物、试穿衣物，这些都是线下购物的独特之处。此外，和朋友或家人一同购物也能够增进亲情和友情，使购物成为一种愉快的社交活动。</p><p><strong>购物的责任感：</strong></p><p>最后，购物和消费也伴随着责任感。我意识到我的购物选择会对环境和社会产生影响。因此，我会尽量选择环保、可持续和社会责任的品牌，以减少对地球的负担。同时，我也会支持本地小商家，帮助他们在竞争激烈的市场中生存。</p><p>总的来说，购物和消费是生活的一部分，既有乐趣又有责任。合理的购物和消费观念可以帮助我们更好地享受生活，同时也更加注重社会和环境的可持续发展。我认为，在购物中保持理性、满足需求、追求品质和享受乐趣是重要的，这样才能真正体验到购物的美好感受。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 普通话水平测试 </tag>
            
            <tag> 命题说话 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promise面试题</title>
      <link href="/posts/48573e77.html"/>
      <url>/posts/48573e77.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、基础的问题"><a href="#一、基础的问题" class="headerlink" title="一、基础的问题"></a>一、基础的问题</h3><h4 id="1、什么是Promise？"><a href="#1、什么是Promise？" class="headerlink" title="1、什么是Promise？"></a>1、什么是Promise？</h4><p>​    promise可以处理异步操作，具有链式调用和状态管理，两者结合可以避免回调地狱，使得流程更加的清晰。</p><h4 id="2、Promise的状态有哪些？"><a href="#2、Promise的状态有哪些？" class="headerlink" title="2、Promise的状态有哪些？"></a>2、Promise的状态有哪些？</h4><p>​    promise有三种状态：pending、Fulfilled、Rejected<br>pending状态是promise中的.then方法返回了一个新的promise的对象，此时这个新的promise对象的状态就是pending(进行中)，等待结果的状态，但是这个promise的对象接下来的状态的改变要看前一个.then里面的回调返回的结果。<br>Fulfilled状态是前一个.then里面的回调Resolve返回结果之后，promise对象从pending状态转换为Fulfilled</p><p>​    Rejected状态是前一个.then里面的回调Reject返回结果之后，promise对象从pending状态转换为Rejected</p><h4 id="3、如何创建一个Promise？"><a href="#3、如何创建一个Promise？" class="headerlink" title="3、如何创建一个Promise？"></a>3、如何创建一个Promise？</h4><p>​    直接使用promise的构造函数来创建promise对象，promise个构造函数中具有两个参数，resolve和reject，这两个参数是用来改变promise状态的，操作成功，就调用resolve函数，使其状态从pending转变为Fulfilled。操作失败，就调用reject函数，使其状态从pending转变为Rejected</p><h4 id="4、Promise的链式调用是什么？"><a href="#4、Promise的链式调用是什么？" class="headerlink" title="4、Promise的链式调用是什么？"></a>4、Promise的链式调用是什么？</h4><p>​    promise内部组成是由多个.then方法和一个.catch方法组成，所有的then方法都会同时返回一个全新的promise的对象，此时这些promise对象的状态是pending，每个then方法返回的promise对象状态的改变都要先等前一个then方法的返回结果来决定，依次下去，形成链式调用</p><h4 id="5、如何处理多个Promise的并行执行？"><a href="#5、如何处理多个Promise的并行执行？" class="headerlink" title="5、如何处理多个Promise的并行执行？"></a>5、如何处理多个Promise的并行执行？</h4><p>​    并行操作就是把好几个promise同时放入一些方法中，promise提供了Promise.all和Promise.race两个方法来执行，其中Promise.all方法是要等所有promise执行完成并且返回成功的结果才会调用，Promise.race方法只要里面并行执行的promise有一个返回成功的结果就会被调用。</p><h4 id="6、Promise和回调函数有什么不同？"><a href="#6、Promise和回调函数有什么不同？" class="headerlink" title="6、Promise和回调函数有什么不同？"></a>6、Promise和回调函数有什么不同？</h4><p>​    promise是一个状态管理，但是这些状态的改变取决于其内部的回调函数。所以promise和单纯的回调函数还是有很大的区别的。</p><h4 id="7、如何处理Promise中的错误？"><a href="#7、如何处理Promise中的错误？" class="headerlink" title="7、如何处理Promise中的错误？"></a>7、如何处理Promise中的错误？</h4><p>​    promise的调用过程中，如果发生了错误，会沿着promise链找最近的then方法内部的catch()，而不会走then()方法的try，这在promise中也叫作异常穿透，除此之外，还有一种直接处理错误的办法，就是直接中断promise链，直接将错误传到promise对象的.catch(),而不会沿着promise链走then方法里面的catch</p><h4 id="8、Promise和-async-await-之间有什么关系？"><a href="#8、Promise和-async-await-之间有什么关系？" class="headerlink" title="8、Promise和 async / await 之间有什么关系？"></a>8、Promise和 async / await 之间有什么关系？</h4><p>​    两者都是关键字，但是作用不同，async关键字是创建一个异步函数，在await是在里面使用的关键字，用来创建等待任务，就好比promise中的then一样</p><p>​    async/await是一种在Promise之上构建的更高级的异步编程方式，它使得异步代码更易于理解和编写，并提供更清晰的控制流。async函数可以包含await关键字，用于等待异步操作的结果。async/await不仅限于Promise，可以用于处理多种异步操作。</p><h4 id="9、什么是Promise的错误处理机制？"><a href="#9、什么是Promise的错误处理机制？" class="headerlink" title="9、什么是Promise的错误处理机制？"></a>9、什么是Promise的错误处理机制？</h4><p>​    promise里面的错误处理有两种，promise的catch和promise里面then方法的error。一般情况下发生错误的时候会沿着promise链找最近的then里面的error，如果没解决就会一直往下找，这也叫作异常穿透，还有一种情况是这个错误直接导致了promise链中断，那就不会沿着promise链往下找then方法里面的error，而是会将这个错误交给promise的catch去解决</p><h4 id="10、-如何处理嵌套Promise？"><a href="#10、-如何处理嵌套Promise？" class="headerlink" title="10、 如何处理嵌套Promise？"></a>10、 如何处理嵌套Promise？</h4><p>​    嵌套promise有两种常用的方法，第一种是在promise对象内部的then方法里面创建新的promise对象，实现嵌套promise。第二种是在async/await里面使用await关键字重新创建一个新的promise，也可以实现嵌套promise</p><h3 id="二、高级的问题"><a href="#二、高级的问题" class="headerlink" title="二、高级的问题"></a>二、高级的问题</h3><h4 id="1、Promise的实现原理是什么？"><a href="#1、Promise的实现原理是什么？" class="headerlink" title="1、Promise的实现原理是什么？"></a>1、Promise的实现原理是什么？</h4><h4 id="2、如何自己实现一个Promise？"><a href="#2、如何自己实现一个Promise？" class="headerlink" title="2、如何自己实现一个Promise？"></a>2、如何自己实现一个Promise？</h4><h4 id="3、如何处理Promise中的循环依赖（circular-dependencies）？"><a href="#3、如何处理Promise中的循环依赖（circular-dependencies）？" class="headerlink" title="3、如何处理Promise中的循环依赖（circular dependencies）？"></a>3、如何处理Promise中的循环依赖（circular dependencies）？</h4><h4 id="4、什么是Promise的取消（cancellation）机制？"><a href="#4、什么是Promise的取消（cancellation）机制？" class="headerlink" title="4、什么是Promise的取消（cancellation）机制？"></a>4、什么是Promise的取消（cancellation）机制？</h4><h4 id="5、Promise中的异常处理和同步错误处理有何不同？"><a href="#5、Promise中的异常处理和同步错误处理有何不同？" class="headerlink" title="5、Promise中的异常处理和同步错误处理有何不同？/"></a>5、Promise中的异常处理和同步错误处理有何不同？/</h4><h4 id="6、如何实现一个带有超时（timeout）功能的Promise？"><a href="#6、如何实现一个带有超时（timeout）功能的Promise？" class="headerlink" title="6、如何实现一个带有超时（timeout）功能的Promise？"></a>6、如何实现一个带有超时（timeout）功能的Promise？</h4><h4 id="7、Promise中的-finally-方法有什么作用？"><a href="#7、Promise中的-finally-方法有什么作用？" class="headerlink" title="7、Promise中的.finally()方法有什么作用？"></a>7、Promise中的.finally()方法有什么作用？</h4><h4 id="8、什么是Promise的错误处理机制？"><a href="#8、什么是Promise的错误处理机制？" class="headerlink" title="8、什么是Promise的错误处理机制？"></a>8、什么是Promise的错误处理机制？</h4><h4 id="9、如何处理Promise中的竞态条件（race-condition）？"><a href="#9、如何处理Promise中的竞态条件（race-condition）？" class="headerlink" title="9、如何处理Promise中的竞态条件（race condition）？"></a>9、如何处理Promise中的竞态条件（race condition）？</h4><h4 id="10、什么是Promise的全局状态管理？"><a href="#10、什么是Promise的全局状态管理？" class="headerlink" title="10、什么是Promise的全局状态管理？"></a>10、什么是Promise的全局状态管理？</h4><h3 id="三、深入的问题"><a href="#三、深入的问题" class="headerlink" title="三、深入的问题"></a>三、深入的问题</h3><h4 id="1、什么是Promise链的终止条件？"><a href="#1、什么是Promise链的终止条件？" class="headerlink" title="1、什么是Promise链的终止条件？"></a>1、什么是Promise链的终止条件？</h4><h4 id="2、什么是Promise的热（hot）和冷（cold）观察模式？"><a href="#2、什么是Promise的热（hot）和冷（cold）观察模式？" class="headerlink" title="2、什么是Promise的热（hot）和冷（cold）观察模式？"></a>2、什么是Promise的热（hot）和冷（cold）观察模式？</h4><h4 id="3、如何在Promise中处理复杂的同步和异步组合？"><a href="#3、如何在Promise中处理复杂的同步和异步组合？" class="headerlink" title="3、如何在Promise中处理复杂的同步和异步组合？"></a>3、如何在Promise中处理复杂的同步和异步组合？</h4><h4 id="4、如何在Promise中实现进度（progress）通知？"><a href="#4、如何在Promise中实现进度（progress）通知？" class="headerlink" title="4、如何在Promise中实现进度（progress）通知？"></a>4、如何在Promise中实现进度（progress）通知？</h4><h4 id="5、如何处理Promise中的推测（swallowing）？"><a href="#5、如何处理Promise中的推测（swallowing）？" class="headerlink" title="5、如何处理Promise中的推测（swallowing）？"></a>5、如何处理Promise中的推测（swallowing）？</h4><h4 id="6、如何在Promise中实现自动重试和退避策略？"><a href="#6、如何在Promise中实现自动重试和退避策略？" class="headerlink" title="6、如何在Promise中实现自动重试和退避策略？"></a>6、如何在Promise中实现自动重试和退避策略？</h4><h4 id="7、如何在Promise中实现缓存和记忆化？"><a href="#7、如何在Promise中实现缓存和记忆化？" class="headerlink" title="7、如何在Promise中实现缓存和记忆化？"></a>7、如何在Promise中实现缓存和记忆化？</h4><h4 id="8、如何使用Promise处理复杂的数据流操作？"><a href="#8、如何使用Promise处理复杂的数据流操作？" class="headerlink" title="8、如何使用Promise处理复杂的数据流操作？"></a>8、如何使用Promise处理复杂的数据流操作？</h4><h4 id="9、如何在前端应用中使用Service-Worker和Promise来提高离线支持？"><a href="#9、如何在前端应用中使用Service-Worker和Promise来提高离线支持？" class="headerlink" title="9、如何在前端应用中使用Service Worker和Promise来提高离线支持？"></a>9、如何在前端应用中使用Service Worker和Promise来提高离线支持？</h4><h4 id="10、什么是Promise的追踪（tracing）和性能优化？"><a href="#10、什么是Promise的追踪（tracing）和性能优化？" class="headerlink" title="10、什么是Promise的追踪（tracing）和性能优化？"></a>10、什么是Promise的追踪（tracing）和性能优化？</h4>]]></content>
      
      
      <categories>
          
          <category> 面试题 </category>
          
          <category> promise </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
            <tag> promise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-cli和Express实现登录注册</title>
      <link href="/posts/10d06ba3.html"/>
      <url>/posts/10d06ba3.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、创建项目结构"><a href="#一、创建项目结构" class="headerlink" title="一、创建项目结构"></a>一、创建项目结构</h2><p><strong>前端Vue-cli</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create 项目名</span><br></pre></td></tr></table></figure><p><strong>后端Express</strong></p><p>（1）安装<strong>express-generator</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-generator -g</span><br></pre></td></tr></table></figure><p>（2） 创建<code>express</code>项目工程</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">express -e 项目名</span><br><span class="line">cd 项目名</span><br><span class="line">npm install</span><br><span class="line">npm install express mongoose bcryptjs jsonwebtoken cors body-parser</span><br></pre></td></tr></table></figure><h2 id="二、创建数据库"><a href="#二、创建数据库" class="headerlink" title="二、创建数据库"></a>二、创建数据库</h2><p>1、先创建集合，然后插入数据</p><p><img src="../image/Vue-cli和Express实现登录注册/image-20231029161139100.png" alt="image-20231029161139100"></p><p>2、创建文件夹db/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入mongoose</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>)</span><br><span class="line"><span class="comment">//禁用严格查询</span></span><br><span class="line">mongoose.<span class="title function_">set</span>(<span class="string">&quot;strictQuery&quot;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">链接成功回调</span>&#125; <span class="variable">success</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">链接失败回调</span>&#125; <span class="variable">error</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">success, error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> error !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        error = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;链接失败&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//链接数据库</span></span><br><span class="line">    mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://127.0.0.1:27017/email&#x27;</span>)</span><br><span class="line">    <span class="comment">//设置回调</span></span><br><span class="line">    mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;open&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">success</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">    mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">error</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">    mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;链接关闭&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、在启动bin/www 下面链接数据库</p><p><img src="../image/Vue-cli和Express实现登录注册/image-20231029161533739.png" alt="image-20231029161533739"></p><h2 id="三、创建前端登录和注册页面"><a href="#三、创建前端登录和注册页面" class="headerlink" title="三、创建前端登录和注册页面"></a>三、创建前端登录和注册页面</h2><h3 id="前端登录组件"><a href="#前端登录组件" class="headerlink" title="前端登录组件"></a>前端登录组件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;login-page&quot;&gt;</span><br><span class="line">    &lt;!-- 登录页面 --&gt;</span><br><span class="line">    &lt;div class=&quot;login&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;login-box&quot;&gt;</span><br><span class="line">        &lt;!-- &lt;div class=&quot;login-title&quot;&gt;登录&lt;/div&gt; --&gt;</span><br><span class="line">        &lt;form&gt;</span><br><span class="line">          &lt;div class=&quot;form-group clearfix&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;username&quot; class=&quot;leftfix&quot;</span><br><span class="line">              &gt;&lt;img src=&quot;../../assets/img/denglu-copy.png&quot; alt=&quot;&quot;</span><br><span class="line">            /&gt;&lt;/label&gt;</span><br><span class="line">            &lt;input</span><br><span class="line">              type=&quot;text&quot;</span><br><span class="line">              class=&quot;leftfix&quot;</span><br><span class="line">              id=&quot;username&quot;</span><br><span class="line">              name=&quot;username&quot;</span><br><span class="line">              placeholder=&quot;请输入用户名&quot;</span><br><span class="line">              v-model=&quot;username&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;form-group clearfix&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;password&quot; class=&quot;leftfix&quot;</span><br><span class="line">              &gt;&lt;img src=&quot;../../assets/img/mima.png&quot; alt=&quot;&quot; /&gt;&lt;/label</span><br><span class="line">            &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">            &lt;input</span><br><span class="line">              type=&quot;password&quot;</span><br><span class="line">              class=&quot;leftfix&quot;</span><br><span class="line">              id=&quot;password&quot;</span><br><span class="line">              name=&quot;password&quot;</span><br><span class="line">              placeholder=&quot;请输入密码&quot;</span><br><span class="line">              v-model=&quot;password&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;login-bottom&quot;&gt;</span><br><span class="line">            &lt;input</span><br><span class="line">              type=&quot;button&quot;</span><br><span class="line">              class=&quot;btn-login&quot;</span><br><span class="line">              value=&quot;登录&quot;</span><br><span class="line">              @click=&quot;login&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;label&gt; &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot; /&gt;记住密码 &lt;/label&gt;</span><br><span class="line">            &lt;label&gt;</span><br><span class="line">              &lt;router-link to=&quot;/register&quot;&gt;注册账号&lt;/router-link&gt;</span><br><span class="line">            &lt;/label&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="前端注册组件"><a href="#前端注册组件" class="headerlink" title="前端注册组件"></a>前端注册组件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;registration-form&quot;&gt;</span><br><span class="line">      &lt;h2&gt;用户注册&lt;/h2&gt;</span><br><span class="line">      &lt;form @submit.prevent=&quot;register&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">          &lt;label for=&quot;username&quot;&gt;用户名&lt;/label&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=&quot;text&quot;</span><br><span class="line">            id=&quot;username&quot;</span><br><span class="line">            v-model=&quot;userData.username&quot;</span><br><span class="line">            required</span><br><span class="line">            placeholder=&quot;请输入用户名&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">          &lt;label for=&quot;password&quot;&gt;密码&lt;/label&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=&quot;password&quot;</span><br><span class="line">            id=&quot;password&quot;</span><br><span class="line">            v-model=&quot;userData.password&quot;</span><br><span class="line">            required</span><br><span class="line">            placeholder=&quot;请输入密码&quot;</span><br><span class="line">            style=&quot;margin-left: 33px&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button type=&quot;submit&quot; @click=&quot;register&quot;&gt;注册&lt;/button&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h2 id="四、后端逻辑"><a href="#四、后端逻辑" class="headerlink" title="四、后端逻辑"></a>四、后端逻辑</h2><h3 id="4-1-登录"><a href="#4-1-登录" class="headerlink" title="4.1.登录"></a>4.1.登录</h3><p><strong>1、新创建一个models文件夹，然后在下面创建一个<code>UserModel.js</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>)</span><br><span class="line"><span class="comment">//创建文档结构对象,设置集合中 文档的属性和属性值类型</span></span><br><span class="line"><span class="keyword">let</span> userSchema = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="title class_">String</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="title class_">String</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//创建模型对象--这个对象可以完成 增删改查操作 第一个参数是集合名称</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">UserModel</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;users&#x27;</span>, userSchema)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">UserModel</span></span><br></pre></td></tr></table></figure><p><strong>2、定义<code>登录</code>路由和处理逻辑</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserModel</span> = <span class="built_in">require</span>(<span class="string">&#x27;../models/UserModel&#x27;</span>); <span class="comment">// 导入用户模型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录路由</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, <span class="keyword">async</span> (req, res) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; username, password &#125; = req.<span class="property">body</span>;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 查询用户</span></span><br><span class="line">    <span class="keyword">const</span> user = <span class="keyword">await</span> <span class="title class_">UserModel</span>.<span class="title function_">findOne</span>(&#123; username &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!user) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">404</span>).<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;用户不存在&#x27;</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 验证密码</span></span><br><span class="line">    <span class="keyword">const</span> isPasswordValid = <span class="keyword">await</span> bcrypt.<span class="title function_">compare</span>(password, user.<span class="property">password</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isPasswordValid) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">401</span>).<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;密码不正确&#x27;</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成JWT令牌</span></span><br><span class="line">    <span class="keyword">const</span> token = jwt.<span class="title function_">sign</span>(&#123; <span class="attr">userId</span>: user.<span class="property">_id</span>, <span class="attr">username</span>: user.<span class="property">username</span> &#125;, <span class="string">&#x27;secretKey&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">expiresIn</span>: <span class="string">&#x27;1h&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回令牌给前端</span></span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">json</span>(&#123; token &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;服务器错误&#x27;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>3、新创建一个middleware文件夹，然后在下面创建一个<code>auth.js</code></strong></p><p>创建一个中间件来验证用户的身份</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成 JWT 令牌的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateToken</span>(<span class="params">username</span>) &#123;</span><br><span class="line">    <span class="comment">// 密钥，应该是一个安全的秘密字符串</span></span><br><span class="line">    <span class="keyword">const</span> secretKey = <span class="string">&#x27;your-secret-key&#x27;</span>;</span><br><span class="line">    <span class="comment">// const crypto = require(&#x27;crypto&#x27;);</span></span><br><span class="line">    <span class="comment">// const secretKey = crypto.randomBytes(32).toString(&#x27;hex&#x27;);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户信息，你可以在令牌中包含需要的用户数据</span></span><br><span class="line">    <span class="keyword">const</span> payload = &#123;</span><br><span class="line">        <span class="attr">username</span>: username</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成令牌</span></span><br><span class="line">    <span class="keyword">const</span> token = jwt.<span class="title function_">sign</span>(payload, secretKey, &#123;</span><br><span class="line">        <span class="attr">expiresIn</span>: <span class="string">&#x27;1d&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> token;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">generateToken</span> = generateToken;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证 JWT 令牌的中间件</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">verifyToken</span> = <span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> token = req.<span class="title function_">header</span>(<span class="string">&#x27;x-auth-token&#x27;</span>); <span class="comment">// 获取令牌</span></span><br><span class="line">    <span class="comment">// res.setHeader(&#x27;x-auth-token&#x27;, token);</span></span><br><span class="line">    <span class="comment">// // 检查是否存在令牌</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;token&#x27;, token);</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>4、分离路由 和 设置前缀</strong></p><p>app.js中</p><p><img src="../image/Vue-cli和Express实现登录注册/image-20231029163506066.png" alt="image-20231029163506066"></p><h3 id="4-2-注册"><a href="#4-2-注册" class="headerlink" title="4.2 注册"></a>4.2 注册</h3><p><strong>1、定义<code>注册</code>路由和处理逻辑</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserModel</span> = <span class="built_in">require</span>(<span class="string">&#x27;../models/UserModel&#x27;</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/register&#x27;</span>, <span class="keyword">async</span> (req, res) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; username, password &#125; = req.<span class="property">body</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> existingUser = <span class="keyword">await</span> <span class="title class_">UserModel</span>.<span class="title function_">findOne</span>(&#123; username &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (existingUser) &#123;</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;用户名已存在&#x27;</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> saltRounds = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">const</span> hashedPassword = <span class="keyword">await</span> bcrypt.<span class="title function_">hash</span>(password, saltRounds);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> newUser = <span class="keyword">new</span> <span class="title class_">UserModel</span>(&#123;</span><br><span class="line">            username,</span><br><span class="line">            <span class="attr">password</span>: hashedPassword</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">await</span> newUser.<span class="title function_">save</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> payload = &#123;</span><br><span class="line">            <span class="attr">username</span>: newUser.<span class="property">username</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> token = jwt.<span class="title function_">sign</span>(payload, <span class="string">&#x27;secretKey&#x27;</span>, &#123;</span><br><span class="line">            <span class="attr">expiresIn</span>: <span class="string">&#x27;1d&#x27;</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        res.<span class="title function_">json</span>(&#123; token &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">        res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;服务器错误&#x27;</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router;</span><br></pre></td></tr></table></figure><p><strong>2、分离路由 和设置前缀</strong></p><p>同上</p><h2 id="五、前端逻辑"><a href="#五、前端逻辑" class="headerlink" title="五、前端逻辑"></a>五、前端逻辑</h2><h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><p>在前端，使用Axios库来发送HTTP请求到后端。在 <code>Login.vue</code> 和 <code>Register.vue</code> 组件中添加数据绑定、表单验证、事件处理以及Axios请求</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">username</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;loginPage&quot;</span>,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">login</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> axios</span><br><span class="line">        .<span class="title function_">post</span>(<span class="string">&quot;http://localhost:3000/users/login&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">username</span>: <span class="variable language_">this</span>.<span class="property">username</span>,</span><br><span class="line">          <span class="attr">password</span>: <span class="variable language_">this</span>.<span class="property">password</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 200</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;res&quot;</span>, res);</span><br><span class="line">          <span class="keyword">const</span> token = res.<span class="property">data</span>.<span class="property">token</span>;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 存储令牌到本地存储</span></span><br><span class="line">          <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, token);</span><br><span class="line">          <span class="comment">// 导航到受保护的页面</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/indexMain&quot;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(err.<span class="property">response</span>.<span class="property">data</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">userData</span>: &#123;</span><br><span class="line">        <span class="attr">username</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">password</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">isRegistering</span>: <span class="literal">false</span>, <span class="comment">// 控制按钮禁用状态</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;register&quot;</span>,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">register</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isRegistering</span>) &#123;</span><br><span class="line">        <span class="comment">// 防止重复点击</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">isRegistering</span> = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> axios</span><br><span class="line">        .<span class="title function_">post</span>(<span class="string">&quot;http://localhost:3000/register/register&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">username</span>: <span class="variable language_">this</span>.<span class="property">userData</span>.<span class="property">username</span>,</span><br><span class="line">          <span class="attr">password</span>: <span class="variable language_">this</span>.<span class="property">userData</span>.<span class="property">password</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> token = res.<span class="property">data</span>.<span class="property">token</span>;</span><br><span class="line">          <span class="comment">// 存储令牌到本地存储</span></span><br><span class="line">          <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, token);</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 导航到受保护的页面或其他需要的页面</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(err.<span class="property">response</span>.<span class="property">data</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">isRegistering</span> = <span class="literal">false</span>; <span class="comment">// 启用按钮</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 小功能 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚手架 </tag>
            
            <tag> Vue2 </tag>
            
            <tag> Express </tag>
            
            <tag> 登录注册 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promise精简版</title>
      <link href="/posts/ca159f6a.html"/>
      <url>/posts/ca159f6a.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、为什么会出现promise？"><a href="#一、为什么会出现promise？" class="headerlink" title="一、为什么会出现promise？"></a>一、为什么会出现promise？</h2><p><strong>为什么会出现promise？</strong></p><p>promise的出现是为了解决JavaScript中异步编程问题，特别是回调地狱(ajax嵌套)，Ajax产生的回调地狱，就是当异步操作发生嵌套时，第二个Ajax会依赖于上一个Ajax的请求，前一个Ajax的请求未回来，它就不会执行，就会造成代码的拥堵。</p><p><img src="../image/promise精简版/image-20231023200100246.png" alt="image-20231023200100246"></p><p><strong>为什么promise能够解决回调地狱？promise的底层原理是啥？</strong></p><p>promise之所以能够解决回调地狱，主要是因为内部机制和链式调用机制，链式调用机制就是一个promise调用多个.then()方法，每个<code>.then()</code>方法都会返回一个新的Promise对象，并且这些<code>.then()</code>方法是同时执行的，不会相互阻塞。新的Promise对象的状态会根据前一个Promise的状态来决定自己的状态，这是Promise链的核心机制。当前一个Promise完成（fulfilled）时，下一个<code>.then()</code>方法会执行，如果前一个Promise被拒绝（rejected），则会执行相应的错误处理（通常是 <code>.catch()</code> 方法）。这是非常有用的，因为它使得代码可以按照逻辑顺序执行异步操作，而不需要嵌套回调。</p><p>在Promise链中，每个<code>.then()</code>方法都会执行，但每个<code>.then()</code>方法返回的新Promise对象的状态会根据前一个Promise的状态来决定自己的状态。如果任何一个Promise被拒绝（rejected），那么整个链上的后续<code>.then()</code>方法都会被跳过，直接进入错误处理，通常是<code>.catch()</code>方法。这是Promise链的错误处理机制，确保错误能够被捕获和处理，而不会继续执行成功处理的回调。这是Promise链中非常重要的行为，有助于更好地管理异步操作和错误情况。</p><p><img src="../image/promise精简版/image-20231023210057395.png" alt="image-20231023210057395"></p><h2 id="二、Promise是什么"><a href="#二、Promise是什么" class="headerlink" title="二、Promise是什么?"></a>二、Promise是什么?</h2><p>Promise提供了一种更可读、可维护和可控的方式来处理异步代码，允许开发者更清晰地表示异步操作的状态和结果，同时提供了一致的接口，从而改善了异步编程的质量和可维护性。它使异步操作的代码变得更加结构化，降低了复杂性，并提供了更好的错误管理，让代码更容易理解和维护。</p><p>关键特点和含义：</p><ol><li><strong>状态：</strong> Promise可以处于三种状态之一：进行中（pending）、已完成（fulfilled）、已拒绝（rejected）。这反映了异步操作的进展。</li><li><strong>状态转换：</strong> Promise的状态从进行中可以转变为已完成或已拒绝，但一旦状态发生转换，就不能再次改变。</li><li><strong>异步操作：</strong> Promise通常用于包装异步操作，例如Ajax请求、文件读取等。</li><li><strong>链式调用：</strong> Promise支持链式调用，允许您按顺序组织和处理异步操作，而不需要深度嵌套回调函数，从而避免回调地狱问题。</li><li><strong>错误处理：</strong> Promise提供了<code>.catch()</code>方法，用于捕获和处理异步操作中的错误，这提供了更好的错误处理机制。</li></ol><h4 id="2-1-Promise的初体验"><a href="#2-1-Promise的初体验" class="headerlink" title="2.1  Promise的初体验"></a>2.1  Promise的初体验</h4><p>创建promise对象（pending状态）</p><p>const p = new Promise(executor);</p><p>其中：</p><p>executor函数:  执行器  (resolve, reject) =&gt; {}</p><p>resolve函数: 内部定义成功时我们调用的函数 value =&gt; {}</p><p>reject函数: 内部定义失败时我们调用的函数 reason =&gt; {}</p><p>executor会在Promise内部立即同步调用,异步操作在执行器中执行</p><p>实例对象调用Promise原型中的then方法来完成对结果的处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//如果咱们公司今年挣钱了，年底就发奖金，否则不发</span></span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p)</span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发奖金&#x27;</span>)</span><br><span class="line">    &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;不发奖金&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>拓展版本</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 如果咱们公司今年挣钱了，年底就发奖金，否则不发</span></span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发奖金&#x27;</span>);</span><br><span class="line">    &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;不发奖金&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;庆祝一下&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;结束&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/promise精简版/image-20231023210812902.png" alt="image-20231023210812902"></p><h3 id="三、使用Promise的好处"><a href="#三、使用Promise的好处" class="headerlink" title="三、使用Promise的好处?"></a>三、使用Promise的好处?</h3><h4 id="3-1-指定回调函数的方式更加灵活"><a href="#3-1-指定回调函数的方式更加灵活" class="headerlink" title="3.1  指定回调函数的方式更加灵活"></a>3.1  指定回调函数的方式更加灵活</h4><ol><li><p>旧的：必须在启动异步任务前指定</p></li><li><p>promise：启动异步任务-&gt;返回promise对象-&gt;给promise对象绑定回调函数</p><p>(甚至可以在异步任务结束后指定/多个)</p></li></ol><h4 id="3-2-可以解决回调地狱问题，支持链式调用"><a href="#3-2-可以解决回调地狱问题，支持链式调用" class="headerlink" title="3.2 可以解决回调地狱问题，支持链式调用"></a>3.2 可以解决回调地狱问题，支持链式调用</h4><ol><li><p>什么是回调地狱？</p><p>回调函数嵌套调用，外部回调函数异步执行的结果是嵌套的回调执行的条件</p><ol><li><p>回调地狱的缺点?</p><p>不便于阅读</p><p>不便于异常处理</p><p>不便于管理</p></li><li><p>解决方案？</p><p>promise链式调用</p></li></ol></li></ol><ol><li><p>终极解决方案？</p><p>async/await</p></li></ol><div class="tabs" id="2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#2-1">async</button></li><li class="tab"><button type="button" data-href="#2-2">awiat</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="2-1"><p><strong><code>async</code> 函数：</strong> <code>async</code> 函数是一种特殊的函数，它返回一个 <code>Promise</code>。在 <code>async</code> 函数内部，您可以使用 <code>await</code> 关键字来等待 <code>Promise</code> 的解决（fulfilled）或拒绝（rejected）</p><p><strong>async 函数返回 Promise：</strong> 当您声明一个函数为<code>async</code>函数，它将自动返回一个<code>Promise</code>对象。这意味着<code>async</code>函数内的操作可以异步执行，而函数本身会返回一个<code>Promise</code>，其状态将根据<code>async</code>函数内的执行结果而定。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="2-2"><p><strong><code>await</code> 关键字：</strong> <code>await</code> 用于等待一个 <code>Promise</code> 对象的解决。当在 <code>async</code> 函数内部使用 <code>await</code> 时，函数会暂停执行，直到等待的 <code>Promise</code> 解决为止。这使得代码看起来更像同步代码，而不是回调或链式的 <code>Promise</code> 调用。</p><p><strong>await 等待 Promise：</strong> <code>await</code>是<code>async/await</code>中的关键字，用于等待一个<code>Promise</code>对象的状态变化。当您在<code>async</code>函数中使用<code>await</code>时，函数会暂停执行，直到等待的<code>Promise</code>状态变为已解决（fulfilled）或拒绝（rejected）。这使得异步操作看起来更像同步代码，提高了可读性</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">promise</button></li><li class="tab"><button type="button" data-href="#-2">async/await</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 异步操作</span></span><br><span class="line">  <span class="keyword">if</span> (operationSucceeded) &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(result);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 处理成功</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 处理失败</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">myAsyncFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">someAsyncOperation</span>();</span><br><span class="line">    <span class="comment">// 处理成功</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="comment">// 处理失败</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 async 函数</span></span><br><span class="line"><span class="title function_">myAsyncFunction</span>();</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="四、Promise实例对象的两个属性"><a href="#四、Promise实例对象的两个属性" class="headerlink" title="四、Promise实例对象的两个属性"></a>四、Promise实例对象的两个属性</h3><ul><li><p>PromiseState</p><p>此属性为promise对象的状态属性。</p><ul><li>fulfilled：成功的状态(已成功)</li><li>rejected：失败的状态（已拒绝）</li><li>pending：初始化的状态（已完成）</li></ul><p>【注】状态只能由pending-&gt;fulfilled 或者是 pending-&gt;rejected</p></li><li><p>PromiseResult</p><p>此属性为promise对象的结果值（resolve以及reject函数的形参值）</p></li></ul><p><strong>总结：</strong></p><p>两个属性：状态属性和结果值属性</p><p>使用状态属性（<code>PromiseState</code>）来判断 <code>Promise</code> 当前的状态，然后根据状态再访问结果值属性（<code>PromiseResult</code>）来获取相应的值或原因。这样可以更准确地处理 <code>Promise</code> 的不同状态和结果。</p><h3 id="五、resolve函数以及reject函数"><a href="#五、resolve函数以及reject函数" class="headerlink" title="五、resolve函数以及reject函数"></a>五、resolve函数以及reject函数</h3><ul><li>resolve：修改promise对象的状态，由pending修改到fulfilled；将实参设置到这个属性PromiseResult中。</li><li>reject：修改promise对象的状态，由pending修改到rejected；将实参设置到这个属性PromiseResult中。</li></ul><p>resolve函数以及reject函数是promise中的两个函数，用来控制状态和最终结果，其中resolve函数是成功，reject函数是失败，resolve函数被调用的时，会把值交给下一个.then（）方法生成的promise对象去处理，当调用reject函数时，promise对象会进入已拒绝状态，它会将值传递给最后一个.catch（）方法去处理，.then() 方法会一直执行，不会被跳过。但是，如果前一个 Promise 处于已拒绝状态，它会跳过前一个 Promise 已完成状态的成功回调（第一个参数），而直接执行失败回调（第二个参数）或 .catch() 方法。</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">resolve函数</button></li><li class="tab"><button type="button" data-href="#test1-2">reject函数</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个 Promise 对象，使用 resolve 函数表示异步操作成功</span></span><br><span class="line"><span class="keyword">const</span> successPromise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="string">&quot;操作成功&quot;</span>; <span class="comment">// 模拟异步操作成功</span></span><br><span class="line">    <span class="title function_">resolve</span>(result); <span class="comment">// 使用 resolve 标记成功，并传递成功的结果</span></span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 .then() 处理成功状态</span></span><br><span class="line">successPromise.<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功：&quot;</span> + result); <span class="comment">// 打印 &quot;成功：操作成功&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果异步操作成功，resolve 函数将传递成功的结果给 .then() 处理</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个 Promise 对象，使用 reject 函数表示异步操作失败</span></span><br><span class="line"><span class="keyword">const</span> errorPromise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> error = <span class="string">&quot;操作失败&quot;</span>; <span class="comment">// 模拟异步操作失败</span></span><br><span class="line">    <span class="title function_">reject</span>(error); <span class="comment">// 使用 reject 标记失败，并传递失败的原因</span></span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 .catch() 处理失败状态</span></span><br><span class="line">errorPromise.<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败：&quot;</span> + error); <span class="comment">// 打印 &quot;失败：操作失败&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果异步操作失败，reject 函数将传递失败的原因给 .catch() 处理</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="六、Promise对象的状态"><a href="#六、Promise对象的状态" class="headerlink" title="六、Promise对象的状态"></a>六、Promise对象的状态</h3><p>Promise对象通过自身的状态来控制异步操作，Promise实例具有三种状态.</p><ul><li>异步操作未完成：pending  (已准备)</li><li>异步操作成功：fulfilled （已完成）</li><li>异步操作失败：rejected （已拒绝）</li></ul><p>这三种的状态的变化途径只有两种</p><ul><li>从pending(未完成)到fulfilled(成功)</li><li>从pending(未成功)到rejected(失败)</li></ul><p>一旦状态发生变化，就凝固了，不会再有新的状态变化，这也是Promise这个名字的由来，它的英语意思”承诺”，</p><p>一旦承诺生效，就不得再改变了，这也意味着Promise实例的状态变化只可能发生一次。</p><p>在Promise对象的构造函数中，将一个函数作为第一个参数。而这个函数，就是用来处理Promise的状态变化。</p><p>上面的resolve和reject都为一个函数，他们的作用分别是将状态修改为resolved和rejected。</p><p>因此，Promise的最终结果只有两种。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">异步操作成功，<span class="title class_">Promise</span>实例传回一个值(value)，状态变为fulfilled.</span><br><span class="line">异步操作失败，<span class="title class_">Promise</span>实例抛出一个错误(error),状态变为rejected</span><br></pre></td></tr></table></figure><h3 id="七、Promise的then方法"><a href="#七、Promise的then方法" class="headerlink" title="七、Promise的then方法"></a>七、Promise的then方法</h3><p><code>then</code> 方法返回一个新的 Promise 对象，这个新的 Promise 的状态和值由 <code>then</code> 方法中的回调函数来决定。</p><h3 id="八、Promise的链式调用"><a href="#八、Promise的链式调用" class="headerlink" title="八、Promise的链式调用"></a>八、Promise的链式调用</h3><p>Promise 的链式调用是指在一个 Promise 上连续调用多个 <code>then</code> 方法，形成一个链式结构，以便处理异步操作的结果和顺序操作。</p><p>当你在一个 Promise 上多次调用 <code>then</code> 方法时，每个 <code>then</code> 方法会返回一个新的 Promise，这个新 Promise 会立即进入 pending 状态，然后根据前一个 <code>then</code> 方法的状态和返回值来确定自己的状态。</p><p>然多个 <code>then</code> 方法的新 Promise 可能同时进入 pending 状态，但它们的执行顺序是连续的，并且依赖于前一个 Promise 的状态和前一个 <code>then</code> 的回调函数的结果。这种连续的执行顺序使得 Promise 能够以有序的方式处理异步操作的结果，增加了代码的可读性和可维护性。</p><h3 id="九、Promise下的几种方法"><a href="#九、Promise下的几种方法" class="headerlink" title="九、Promise下的几种方法"></a>九、Promise下的几种方法</h3><p><img src="../image/promise精简版/image-20231026222427155.png" alt="image-20231026222427155"></p><h3 id="十、终止Promise链条"><a href="#十、终止Promise链条" class="headerlink" title="十、终止Promise链条"></a>十、终止Promise链条</h3><p>在 Promise 中，通常情况下，Promise 链是一个连续的操作序列，每个 Promise 的成功状态都会触发下一个 Promise 的执行。但有时候，可能需要在某个特定条件下终止 Promise 链，不再执行后续的操作。有几种方法可以实现终止 Promise 链。</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">return终止链</button></li><li class="tab"><button type="button" data-href="#-2">throw拒绝链</button></li><li class="tab"><button type="button" data-href="#-3">Promise.reject</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>在 Promise 链中，可以使用 <code>return</code> 语句来提前退出链条。当<code>then</code> 或 <code>catch</code> 在 回调中使用 <code>return</code> 语句时，它将阻止后续的 <code>then</code> 或 <code>catch</code> 回调被执行。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (result === <span class="string">&#x27;some condition&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> result; <span class="comment">// 终止链</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 继续执行后续操作</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 这个回调只有在条件满足时才会执行</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>可以在 <code>then</code> 或 <code>catch</code> 回调中使用 <code>throw</code> 来抛出一个异常，从而拒绝当前 Promise，终止链。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (result === <span class="string">&#x27;some condition&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Condition not met&#x27;</span>); <span class="comment">// 终止链</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 继续执行后续操作</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 这个回调只有在条件不满足时才会执行</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p>可以在某个条件下直接返回一个被拒绝的 Promise，以终止链。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> condition = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise = condition</span><br><span class="line">  ? <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;Chain terminated&#x27;</span>)</span><br><span class="line">  : <span class="title function_">asyncOperation</span>();</span><br><span class="line"></span><br><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 这个回调只有在 condition 为 false 时才会执行</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="十一、几个关键问题"><a href="#十一、几个关键问题" class="headerlink" title="十一、几个关键问题"></a>十一、几个关键问题</h3><h4 id="11-1-如何修改-promise-对象状态"><a href="#11-1-如何修改-promise-对象状态" class="headerlink" title="11.1 如何修改 promise 对象状态"></a>11.1 如何修改 promise 对象状态</h4><p>promise的状态只能修改一次，从pending到reject或者resolve，状态改变之后，就不能再次修改，没有后悔的权利。这也是promise的一个核心特性，叫做不可逆性</p><h4 id="11-2-指定多个回调执行情况"><a href="#11-2-指定多个回调执行情况" class="headerlink" title="11.2 指定多个回调执行情况"></a>11.2 指定多个回调执行情况</h4><p><strong>问题：一个promise指定多个成功/失败回调函数，都会调用吗？</strong></p><p>多个成功或失败回调函数都会被调用，但它们的执行顺序和结果会受到上一个 <code>.then()</code> 方法返回的 Promise 对象的状态和值影响。</p><p>如果前一个 Promise 状态是 <code>fulfilled</code>（已成功），那么所有的成功回调函数将按照它们添加到 Promise 链的顺序执行，并且它们将依次接收相同的成功值。如果前一个 Promise 状态是 <code>rejected</code>（已拒绝），那么所有的失败回调函数将按照它们添加到 Promise 链的顺序执行，同时依次接收相同的拒绝原因。</p><h4 id="11-3-指定回调与改变状态先后顺序问题"><a href="#11-3-指定回调与改变状态先后顺序问题" class="headerlink" title="11.3 指定回调与改变状态先后顺序问题"></a>11.3 指定回调与改变状态先后顺序问题</h4><p><strong>改变promise状态和指定回调函数执行谁先谁后？</strong></p><p>首选从底层逻辑来说，是先指定回调函数再改变promise状态，之所以是这个顺序，是因为队列优先级不一样，promise状态走的是事件队列，指定回调函数走的是微任务队列(也可以叫做vip通道)，所指定回调函数会先到，然后等待promise状态走完，所以就造成指定回调函数先执行，promise状态后执行的情况。 无法人为修改这个顺序，但是可以通过一些方法来影响这个顺序，第一种是使用.all方法，.all方法会等所有promise状态走完才会触发回调，就相当于.all阻止了回调函数进入微服务队列，只有等promise状态走完，才会让它进入微服务队列，但是这个时候，就算他走的是高优先级的队列也无济于事，顺序已经被影响了。第二种办法是在执行器中直接调resolve和reject这种办法可以直接暴力的修改promise的状态，比之指定回调函数走的微服务队列更快。第三种方法是直接对回调函数出手，给回调函数加个定时器，延缓.then方法的调用。</p><h4 id="11-4-promise-then-返回的新promise的结果状态由什么决定？"><a href="#11-4-promise-then-返回的新promise的结果状态由什么决定？" class="headerlink" title="11.4 promise.then()返回的新promise的结果状态由什么决定？"></a>11.4 promise.then()返回的新promise的结果状态由什么决定？</h4><ul><li>简单表达：由then指定的回调函数执行的结果决定</li><li>详细表达：<ul><li>如果抛出异常：新promise对象状态变成rejected，reason为抛出的异常</li><li>如果返回的是是非promise的任意值，新promise对象状态变成fulfilled，value为返回的值</li><li>如果返回的是另一个新的promise对象，此promise的结果就会称为新promise的结果</li></ul></li></ul><h4 id="11-5-promise如何串联多个操作任务"><a href="#11-5-promise如何串联多个操作任务" class="headerlink" title="11.5 promise如何串联多个操作任务?"></a>11.5 promise如何串联多个操作任务?</h4><ul><li>promise的then()返回一个新的promise对象，可以写成then()方法的链式调用</li><li>通过then()的链式调用串联多个同步/异步任务</li></ul><h4 id="11-6-promise的异常穿透"><a href="#11-6-promise的异常穿透" class="headerlink" title="11.6 promise的异常穿透"></a>11.6 promise的异常穿透</h4><p>在 Promise 链中，每个 <code>.then()</code> 方法都会返回一个新的 Promise 对象。如果其中一个 <code>.then()</code> 方法中出现异常（例如，<code>.then()</code> 方法中的回调函数抛出了错误），那么这个异常会直接传播到接下来的 <code>.catch()</code> 方法，而不会走到 <code>.try()</code> 方法。</p><p>这种异常穿透的机制确实提高了异常的处理效率，因为异常会在 Promise 链中快速传递并在适当的位置得到处理。这也使得我们可以在 <code>.catch()</code> 方法中决定如何处理异常，包括是否继续执行后续的操作（使用 <code>try</code>）。这样的控制流程有助于处理异步操作中的异常情况，确保异常不被忽略。</p><h4 id="11-7-中断promise链"><a href="#11-7-中断promise链" class="headerlink" title="11.7 中断promise链"></a>11.7 中断promise链</h4><p>promise链的中断，中断promise链，其实本质上就是这个特殊的异常直接传到最后的.catch()，比异常穿透还要暴力，异常穿透还得走每一个then方法的catch，依次往下找，中断promise就比较狠，直接传到最后那个catch。中断promise有以下几种方法，第一种方法是使用条件控制，所谓的条件控制就是在then方法内部，可以选择不执行（ return result;），也可以返回一个resolved Promise 来中断执行。第二种方法就是使用Promise.race()；来定义一个包含resolve和reject的promise数组来等待指定的promise完成，一旦完成，直接中断</p><h3 id="十二、async和await"><a href="#十二、async和await" class="headerlink" title="十二、async和await"></a>十二、async和await</h3><ul><li><code>async</code> 是一个关键字，用于定义异步函数。异步函数返回一个 Promise 对象，它允许在函数内执行异步操作，使代码更具可读性和可维护性。</li><li><code>await</code> 也是一个关键字，通常用于等待 Promise 对象的解析结果。当使用 <code>await</code> 关键字时，函数会暂停执行，直到该 Promise 被 resolved（完成）或 rejected（拒绝）。<code>await</code> 创建的是一个 Promise 对象，其本质和 <code>.then</code> 类似，但语法更简洁。</li><li><code>async</code> 函数内部可以包含多个 <code>await</code> 表达式，这使得多个异步操作可以按照顺序执行，非常适合处理复杂的异步任务流程。</li><li><code>async</code> 和 <code>await</code> 使异步代码看起来更像同步代码，减少了回调地狱（Callback Hell）问题，提高了可读性和可维护性。</li></ul><h3 id="十三、JS中的宏队列与微队列"><a href="#十三、JS中的宏队列与微队列" class="headerlink" title="十三、JS中的宏队列与微队列"></a>十三、JS中的宏队列与微队列</h3><p>从整体上来说，它两都是队列，所以都是先进先出的执行顺序，从名字也能看出来，宏队列要比微队列大很多，宏队列是用来存储比较大并且复杂的任务，微队列是用来存储相对偏小且比较简单的任务，虽然两者走的都是异步操作，但是微队列的优先级要比宏队列高，就好比vip通道要比普通通道快，实际开发中，宏队列和微队列会进行适当的结合使用，微队列一般用来观察或监视宏队列，搭配使用，可以提高效率。</p><h3 id="十四、Promise常见面试题"><a href="#十四、Promise常见面试题" class="headerlink" title="十四、Promise常见面试题"></a>十四、Promise常见面试题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>分析：首先是一个定时器，会把这个任务放到宏队列里面去，第二个和第三个是成功的回调，是指定回调函数，会放入微队列中，最后一个是直接输出，相对于前三个的队列来说，第四个是最快的，其次是微队列，队列都遵循先进先出的执行顺序，所以先进去的先执行，又因为微队列的优先级高于宏队列，所以宏队列排最后，综上所述，输出顺序是：直接输出&gt;微队列(先进先出)&gt;宏队列，输出结果是3241</p><p><br/></p><p><br/></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>分析：从整体来看，也就分为三部分，宏队列、微队列、直接输出。我们先来看直接输出，当创建一个 Promise 对象时，构造函数内的代码会立即执行，所以相当于直接输出。但是 <code>resolve()</code> 方法会将 Promise 的状态从 pending 改变为 resolved，并且安排后续的 <code>.then()</code> 方法回调在微任务队列中执行。最后那个打印5也是直接输出，所以直接输出的输出结果是2,5。直接输出分析完了，现在来分析微队列，微队列其实也就是两个then（）方法，但是由于promise是链式调用结合状态的改变，虽然一开始两个then方法生成的promise的新对象都是pending状态，但是之后状态的改变要等上一个promise的状态改变之后才会进行相对应的改变，所以第一个then方法执行完毕之后，第二个then方法才会去执行，所以微队列中的输出结果是3,4。最后来分析宏队列，只有一个宏队列，所以不用分析，直接最后输出的就是1。最终的输出结果是2,5,3,4,1</p><p><br/><br/></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">first</span> = (<span class="params"></span>) =&gt; (<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">7</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="number">6</span>)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2</span>)</span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;))</span><br><span class="line"><span class="title function_">first</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>分析：整体来说先从同步和异步分析，同步优先于异步，先看同步，从上往下看的话，依次先<code>输出3、7、4</code>，然后看异步，首先是first函数创建promise对象，在frist函数外部进行调用，里面是一个p的promise对象，在first函数里面被调用，这是一个大概的组成分析，现在往里面来进行详细分析，p函数内部的第一个异步是setTimeout是一个宏队列，先将其放到一边，先分析微队列，然后往下是resolve（1），说明p的这个promise对象立马完成，往下继续看，resolve（2）对应的是first函数里面的这个promise完成，接着p.then(),p被调用，这个指定回调会进入微队列，往外看，first().then()也被调用，所对应的指定回调也会进入微队列，又因为队列的先进先出，所有微队列的<code>输出是1,2</code>。最后看宏队列，因为只有一个，所以也不用分析了，<code>就是5</code>。最后就是执行宏队列里面的resolve(6)，可是执行也没用，promise的状态只能变一次，而且是不可逆性的，所以这一行代码没有实际意义。最终的输出结果是<code>3、7、4、1、2、5</code></p><p>答案：</p><ol><li><code>console.log(3)</code> 和 <code>console.log(7)</code> 是同步任务，它们会在第一个微任务队列之前输出。所以，输出顺序是 <code>3, 7</code>。</li><li><code>console.log(4)</code> 也是同步任务，直接输出。所以，输出是 <code>3, 7, 4</code>。</li><li>接下来是异步任务：<code>setTimeout(() =&gt; &#123; console.log(5); resolve(6) &#125;, 0)</code>。这个任务会被添加到宏队列中，但由于宏队列中的任务需要等待微任务队列执行完毕，所以此时不会立即执行。所以 <code>console.log(5)</code> 不会在这一阶段输出。</li><li><code>resolve(1)</code> 和 <code>resolve(2)</code> 是在两个不同的 Promise 中，但它们都会立即执行，将对应的 Promise 从 pending 状态改变为 resolved。这会触发微任务队列中的回调函数。因此，输出是 <code>3, 7, 4, 1, 2</code>。</li><li><code>p.then((arg) =&gt; &#123; console.log(arg) &#125;)</code> 中的回调函数会在微任务队列中执行。因此，输出是 <code>3, 7, 4, 1, 2, 5</code>。请注意，<code>resolve(6)</code> 并不会改变 Promise 的状态，因为 Promise 的状态一旦变为 resolved 或 rejected，就无法再次改变。</li></ol><p>所以，最终的输出顺序应该是 <code>3, 7, 4, 1, 2, 5</code>，而 <code>resolve(6)</code> 确实没有实际意义。</p><p><br/><br/></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;4&quot;</span>)</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;6&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;7&quot;</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;8&quot;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>分析：同步任务：console.log(“1”)，console.log(“7”)，至于为什么console.log(“3”)不是，那是因为他是异步里面的同步任务，所以先<code>输出1,7</code>。</p><p>微队列：首先是第一个promise的第一个then方法，将其放入微队列，然后看第二个promise的then方法，也将其放入到微队列里面。然后往里面看，第一个promise的then方法执行console.log(“2”)<code>输出2</code>，往下继续看，在里面还创建了一个promise对象,首先是一个内嵌的同步任务，所以执行console.log(“3”)，<code>输出3</code>，接着就是这个promise对象的then方法的回调，将其放入微队列中。因为第一个promise的第一个.then有结果了，所以微队列中这个方法已经执行完毕，微任务队列中的下一个任务是外部 Promise 的 then 函数（console.log(“6”)），只有当外部 Promise 的 then函数执行完毕后，才会执行内部 Promise 的 then 函数，接着看微队列里面的第二个promise的then，执行console.log(“8”)<code>输出8</code>，此时看队列里面的第三个任务，也就是第一个promise里面的promise对象的then，<code>输出4</code>，同上理可得第二个.then不会马上执行，然后再从上往下看，先是第一个promise的的第二个.then,执行console.log(“6”);<code>输出6</code>。接着是第一个promise的内嵌promise的第二个then，执行 console.log(“5”)<code>输出5</code>，所以微队列的输出是：2,3,8,4,6,5</p><p>宏队列：一个宏队列任务，那个定时器，所以不用分析，宏队列执行 console.log(“0”)<code>输出0</code>，</p><p>综上所述，最终的输出结果是：1,7，2,3,8,4,6,5，0</p><h3 id="十五、手写promise"><a href="#十五、手写promise" class="headerlink" title="十五、手写promise"></a>十五、手写promise</h3>]]></content>
      
      
      <categories>
          
          <category> promise </category>
          
      </categories>
      
      
        <tags>
            
            <tag> promise </tag>
            
            <tag> 精简版 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promise详细版</title>
      <link href="/posts/f28bcdc5.html"/>
      <url>/posts/f28bcdc5.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、前言：为什么会出现Promise"><a href="#一、前言：为什么会出现Promise" class="headerlink" title="一、前言：为什么会出现Promise?"></a>一、前言：为什么会出现Promise?</h3><p>Promise的重要性我认为没有必要多讲，概括起来说就是五个字：<strong>必！须！得！掌！握！</strong>。</p><p>而且还要掌握透彻，在实际的使用中，有非常多的应用场景我们不能立即知道应该如何继续往下执行。</p><p>最常见的一个场景就是ajax请求，通俗来说，由于网速的不同，可能你得到返回值的时间也是不同的，</p><p>这个时候我们就需要等待，结果出来了之后才知道怎么样继续下去。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;https://v0.yiketianqi.com/api?unescape=1&amp;version=v61&amp;appid=82294778&amp;appsecret=4PKVFula&amp;city=%E5%8C%97%E4%BA%AC&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_">send</span>();</span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在ajax的原生实现中，利用了onreadystatechange事件，当该事件触发并且符合一定条件时，才能拿到想要的数</p><p>据，之后才能开始处理数据，这样做看上去并没有什么麻烦，但如果这个时候，我们还需要另外一个ajax请求，这</p><p>个新ajax请求的其中一个参数，得从上一个ajax请求中获取，这个时候我们就不得不等待上一个接口请求完成之</p><p>后，再请求后一个接口。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;https://v0.yiketianqi.com/api?unescape=1&amp;version=v61&amp;appid=82294778&amp;appsecret=4PKVFula&amp;city=%E5%8C%97%E4%BA%AC&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_">send</span>();</span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//伪代码....</span></span><br><span class="line">            <span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">            xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>,<span class="string">&#x27;http://www.xx.com?a&#x27;</span>+xhr.<span class="property">responseText</span>);</span><br><span class="line">            xhr.<span class="title function_">send</span>();</span><br><span class="line">            xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(xhr.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(xhr.<span class="property">status</span>&gt;=<span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span>&lt;<span class="number">300</span>)&#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">                        </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当出现第三个ajax(甚至更多)仍然依赖上一个请求时，我们的代码就变成了一场灾难。</p><p>这场灾难，往往也被称为<strong>回调地狱</strong>。</p><p>因此我们需要一个叫做Promise的东西，来解决这个问题，当然，除了回调地狱之外，还有个非常重要的需求就是</p><p><strong>为了代码更加具有可读性和可维护性，我们需要将数据请求与数据处理明确的区分开来</strong>。</p><p>上面的写法，是完全没有区分开，当数据变得复杂时，也许我们自己都无法轻松维护自己的代码了。</p><p>这也是模块化过程中，必须要掌握的一个重要技能，请一定重视。</p><h3 id="二、Promise是什么"><a href="#二、Promise是什么" class="headerlink" title="二、Promise是什么?"></a>二、Promise是什么?</h3><blockquote><p>Promise是异步编程的一种解决方案，比传统的解决方案回调函数更合理、更强大。</p><p>ES6将其写进了语言标准，统一了用法，原生提供了Promise对象。</p><p>指定回调函数的方式也变得更加灵活易懂，也解决了异步<code>回调地狱</code>的问题</p><p>旧方案是单纯使用回调函数，常见的异步操作有：定时器、fs模块、ajax、数据库操作  </p><p>从语法上说，Promise是一个构造函数；</p><p>从功能上说，Promise对象用来封装一个异步操作并可以获取其成功/失败的结果值。</p></blockquote><h4 id="2-1-Promise的初体验"><a href="#2-1-Promise的初体验" class="headerlink" title="2.1  Promise的初体验"></a>2.1  Promise的初体验</h4><p>创建promise对象（pending状态）</p><p>const p = new Promise(executor);</p><p>其中：</p><p>executor函数:  执行器  (resolve, reject) =&gt; {}</p><p>resolve函数: 内部定义成功时我们调用的函数 value =&gt; {}</p><p>reject函数: 内部定义失败时我们调用的函数 reason =&gt; {}</p><p>executor会在Promise内部立即同步调用,异步操作在执行器中执行</p><p>实例对象调用Promise原型中的then方法来完成对结果的处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//如果咱们公司今年挣钱了，年底就发奖金，否则不发</span></span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p)</span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发奖金&#x27;</span>)</span><br><span class="line">    &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;不发奖金&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="三、使用Promise的好处"><a href="#三、使用Promise的好处" class="headerlink" title="三、使用Promise的好处?"></a>三、使用Promise的好处?</h3><h4 id="3-1-指定回调函数的方式更加灵活"><a href="#3-1-指定回调函数的方式更加灵活" class="headerlink" title="3.1  指定回调函数的方式更加灵活"></a>3.1  指定回调函数的方式更加灵活</h4><ol><li><p>旧的：必须在启动异步任务前指定</p></li><li><p>promise：启动异步任务-&gt;返回promise对象-&gt;给promise对象绑定回调函数</p><p>(甚至可以在异步任务结束后指定/多个)</p></li></ol><h4 id="3-2-可以解决回调地狱问题，支持链式调用"><a href="#3-2-可以解决回调地狱问题，支持链式调用" class="headerlink" title="3.2 可以解决回调地狱问题，支持链式调用"></a>3.2 可以解决回调地狱问题，支持链式调用</h4><ol><li><p>什么是回调地狱？</p><p>回调函数嵌套调用，外部回调函数异步执行的结果是嵌套的回调执行的条件</p><ol><li><p>回调地狱的缺点?</p><p>不便于阅读</p><p>不便于异常处理</p></li><li><p>解决方案？</p><p>promise链式调用</p></li></ol></li></ol><ol><li><p>终极解决方案？</p><p>async/await</p></li></ol><h3 id="四、Promise实例对象的两个属性"><a href="#四、Promise实例对象的两个属性" class="headerlink" title="四、Promise实例对象的两个属性"></a>四、Promise实例对象的两个属性</h3><ul><li><p>PromiseState</p><p>此属性为promise对象的状态属性。</p><ul><li>fulfilled：成功的状态</li><li>rejected：失败的状态</li><li>pending：初始化的状态</li></ul><p>【注】状态只能由pending-&gt;fulfilled 或者是 pending-&gt;rejected</p></li><li><p>PromiseResult</p><p>此属性为promise对象的结果值（resolve以及reject函数的形参值）</p></li></ul><h3 id="五、resolve函数以及reject函数"><a href="#五、resolve函数以及reject函数" class="headerlink" title="五、resolve函数以及reject函数"></a>五、resolve函数以及reject函数</h3><ul><li>resolve：修改promise对象的状态，由pending修改到fulfilled；将实参设置到这个属性PromiseResult中。</li><li>reject：修改promise对象的状态，由pending修改到rejected；将实参设置到这个属性PromiseResult中。</li></ul><p>案例1：利用promise来进行读取文件操作</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.普通文件读取方式</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.直接利用readfile来进行读取</span></span><br><span class="line"><span class="comment">/* fs.readFile(__dirname + &#x27;/data.txt&#x27;,(err,data)=&gt;&#123;</span></span><br><span class="line"><span class="comment">    if(err) throw err;</span></span><br><span class="line"><span class="comment">    console.log(data.toString());</span></span><br><span class="line"><span class="comment">&#125;) */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.利用promise来实现文件的读取</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(__dirname + <span class="string">&#x27;/data.txt&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            <span class="title function_">reject</span>(err);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>案例2：利用promise进行ajax请求</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>发送ajax请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//1.获取DOM元素对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//2.绑定事件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//3.创建promise实例对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//4.创建ajax实例对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//5.打开请求</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>,<span class="string">&#x27;https://www.yiketianqi.com/free/day?appid=82294778&amp;appsecret=4PKVFula&amp;unescape=1&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//6.发送请求</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                xhr.<span class="title function_">send</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//7.利用onreadystatechange事件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">//8.判断</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">if</span>(xhr.<span class="property">readyState</span> == <span class="number">4</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="keyword">if</span>(xhr.<span class="property">status</span> == <span class="number">200</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="title function_">resolve</span>(xhr.<span class="property">responseText</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="title function_">reject</span>(xhr.<span class="property">response</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(value));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取信息失败&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>案例3：利用promise进行数据库操作</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://127.0.0.1/project&#x27;</span>);</span><br><span class="line">    mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;open&#x27;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//连接成功的情况</span></span><br><span class="line">        <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//连接失败的情况</span></span><br><span class="line">        <span class="title function_">reject</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//创建结构</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title class_">NoteSchema</span> = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="title class_">String</span>,</span><br><span class="line">        <span class="attr">content</span>: <span class="title class_">String</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//创建模型</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title class_">NoteModel</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;notes&#x27;</span>, <span class="title class_">NoteSchema</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取操作</span></span><br><span class="line">    <span class="title class_">NoteModel</span>.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接失败&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>案例4：封装一个函数，作用是读取文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ReadFileFun</span>(<span class="params">path</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">         fs.<span class="title function_">readFile</span>(path,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="comment">//判断</span></span><br><span class="line">              <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                    <span class="title function_">reject</span>(err)</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="title function_">resolve</span>(data);</span><br><span class="line">              &#125;</span><br><span class="line">         &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReadFileFun</span>(<span class="string">&#x27;./data.txt&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>node中的promisify</p><ul><li>promisify  (只能在 NodeJS 环境中使用)</li><li>promisify 是 util 模块中的一个方法  util 是 nodeJS 的内置模块</li><li>作用: 返回一个新的函数, 函数的是 promise 风格的.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">&#x27;util&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//通过 fs.readFile 创建一个新的函数</span></span><br><span class="line"><span class="keyword">const</span> mineReadFile = util.<span class="title function_">promisify</span>(fs.<span class="property">readFile</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">mineReadFile</span>(<span class="string">&#x27;./resource/2.html&#x27;</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="六、Promise对象的状态"><a href="#六、Promise对象的状态" class="headerlink" title="六、Promise对象的状态"></a>六、Promise对象的状态</h3><p>Promise对象通过自身的状态来控制异步操作，Promise实例具有三种状态.</p><ul><li>异步操作未完成：pending</li><li>异步操作成功：fulfilled</li><li>异步操作失败：rejected</li></ul><p>这三种的状态的变化途径只有两种</p><ul><li>从pending(未完成)到fulfilled(成功)</li><li>从pending(未成功)到rejected(失败)</li></ul><p>一旦状态发生变化，就凝固了，不会再有新的状态变化，这也是Promise这个名字的由来，它的英语意思”承诺”，</p><p>一旦承诺生效，就不得再改变了，这也意味着Promise实例的状态变化只可能发生一次。</p><p>在Promise对象的构造函数中，将一个函数作为第一个参数。而这个函数，就是用来处理Promise的状态变化。</p><p>上面的resolve和reject都为一个函数，他们的作用分别是将状态修改为resolved和rejected。</p><p>因此，Promise的最终结果只有两种。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">异步操作成功，<span class="title class_">Promise</span>实例传回一个值(value)，状态变为fulfilled.</span><br><span class="line">异步操作失败，<span class="title class_">Promise</span>实例抛出一个错误(error),状态变为rejected</span><br></pre></td></tr></table></figure><h3 id="七、Promise的then方法"><a href="#七、Promise的then方法" class="headerlink" title="七、Promise的then方法"></a>七、Promise的then方法</h3><p>then：指定用于得到成功value的成功回调和用于得到失败reason的失败回调，<code>返回一个新的promise对象</code></p><ul><li>成功的状态：执行第一个回调函数</li><li>失败的状态：执行第二个回调函数</li></ul><p>promise.then()返回的新promise的结果状态由什么决定?</p><p>(1) 简单表达: 由then()指定的回调函数执行的结果决定</p><p>(2) 详细表达:</p><p>① 如果抛出异常, 新promise变为rejected, reason为抛出的异常</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&#x27;错误&#x27;</span>;</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>② 如果返回的是非promise的任意值, 新promise变为fulfilled, PromiseResult为返回的值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>③ 如果返回的是另一个新promise, 此promise的结果就会成为新promise的结果 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//resolve(&#x27;111&#x27;);</span></span><br><span class="line">        <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><h3 id="八、Promise的链式调用"><a href="#八、Promise的链式调用" class="headerlink" title="八、Promise的链式调用"></a>八、Promise的链式调用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//resolve(&#x27;ok&#x27;);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>案例：通过promise的链式调用来读取文件</p><p>回调地狱的方式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/1.html&#x27;</span>,<span class="function">(<span class="params">err,data1</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/1.html&#x27;</span>,<span class="function">(<span class="params">err,data2</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/1.html&#x27;</span>,<span class="function">(<span class="params">err,data3</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data1 + data2 + data3);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Promise的形式：</p><p>需求：读取resource下三个文件内容，并在控制台合并输出</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/1.html&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line"> <span class="comment">//如果失败 则修改promise对象状态为失败</span></span><br><span class="line">        <span class="keyword">if</span>(err) <span class="title function_">reject</span>(err);</span><br><span class="line">        <span class="comment">//如果成功 则修改promise对象状态为成功</span></span><br><span class="line">        <span class="title function_">resolve</span>(data);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/2.html&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">             <span class="comment">//失败</span></span><br><span class="line">            <span class="keyword">if</span>(err) <span class="title function_">reject</span>(err);</span><br><span class="line">            <span class="comment">//成功</span></span><br><span class="line">            <span class="title function_">resolve</span>([value,data]);</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./resource/3.html&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">             <span class="comment">//失败</span></span><br><span class="line">            <span class="keyword">if</span>(err) <span class="title function_">reject</span>(err);</span><br><span class="line">            value.<span class="title function_">push</span>(data);</span><br><span class="line">            <span class="comment">//成功</span></span><br><span class="line">            <span class="title function_">resolve</span>(value);</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="九、Promise下的几种方法"><a href="#九、Promise下的几种方法" class="headerlink" title="九、Promise下的几种方法"></a>九、Promise下的几种方法</h3><h4 id="9-1-Promise-resolve"><a href="#9-1-Promise-resolve" class="headerlink" title="9.1 Promise.resolve()"></a>9.1 Promise.resolve()</h4><p>将一个普通值转化为promise类型的数据</p><ul><li>若参数为非promise对象，则返回的结果为成功状态的promise对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">123</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="literal">undefined</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><ul><li>若参数为promise对象，参数的状态决定返回结果的状态</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p3 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p4 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&quot;OK&quot;</span>)));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p4);</span><br></pre></td></tr></table></figure><h4 id="9-2-Promise-reject"><a href="#9-2-Promise-reject" class="headerlink" title="9.2 Promise.reject()"></a>9.2 Promise.reject()</h4><p>返回的结果<code>始终为失败的Promise对象</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="number">123</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>)));</span><br></pre></td></tr></table></figure><h4 id="9-3-Promise-catch"><a href="#9-3-Promise-catch" class="headerlink" title="9.3 Promise.catch()"></a>9.3 Promise.catch()</h4><p>功能是用来指定失败的回调函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//resolve(&#x27;success&#x27;);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//then方法中不是必须传入两个参数，可以只传递成功时的回调函数</span></span><br><span class="line"><span class="comment">//也可以单独使用catch来指定失败的回调函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//异常（错误）穿透</span></span><br><span class="line"><span class="comment">//当如果有多个需要执行的成功时的回调函数，可以不需要每一次都写失败回调，可以统一最后利用catch</span></span><br><span class="line"><span class="comment">//当如果promise对象的状态为reject的话，会一直向下穿透直到catch方法</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="9-4-Promise-all"><a href="#9-4-Promise-all" class="headerlink" title="9.4 Promise.all()"></a>9.4 Promise.all()</h4><p>作用：针对于多个Promise的异步任务进行处理</p><p>接收的参数：promise数组</p><p>返回值：promise对象，状态由<code>promise数组中的对象状态</code>决定</p><ul><li>若每个对象状态<code>都为</code>成功，则返回的promise对象状态为成功，</li></ul><p>​         成功的结果值为<code>每个promise对象成功结构值组成的数组</code></p><ul><li>若<code>其中一个对象</code>状态为失败，则返回的promise对象状态为失败，</li></ul><p>​        失败的结果值为<code>失败的promise对象的结果值</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> p3 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;oh yeah&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> result = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2, p3])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>当有一个ajax请求，它的参数需要另外2个甚至更多请求都有返回结果之后才能确定，</p><p>那么这个时候，就需要用到Promise.all来帮助我们应对这个场景。</p><p>Promise.all接收一个Promise对象组成的数组作为参数，</p><p>当这个数组所有的Promise对象状态都变成resolved或者rejected的时候，它才会去调用then方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES6中对Promise.all()的理解以及应用场景</span></span><br><span class="line"><span class="comment">//用于将多个Promise实例，包装成一个新的Promise实例</span></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="title function_">resolve</span>(<span class="string">&#x27;成功01&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(<span class="string">&#x27;成功02&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(reason));</span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(<span class="string">&#x27;成功03&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//参数可以不是数组，但必须是iterator接口</span></span><br><span class="line"><span class="keyword">let</span> pAll = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1,p2,p3]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pAll)</span><br><span class="line"><span class="comment">//pAll的状态是由p1,p2,p3来决定，只有当这三个都为成功，pAll才会为成功,反之，但凡其中一个失败结果就是失败</span></span><br><span class="line"><span class="comment">//这个时候第一个失败的实力的返回值会传递给pAll的回调函数，如果作为参数的实例，自己定义了catch方法，那么它一旦为rejected，是不会触碰到pAll中的catch方法</span></span><br><span class="line">pAll.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>案例1：模拟请求三个接口中的数据，全部请求成功后获取。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getUsersList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//模拟请求用户列表数据</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;用户列表的数据&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getBannersList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//模拟请求用户列表数据</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;轮播图的数据&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getVideoList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//模拟请求用户列表数据</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;视频列表的数据&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//初始加载的时候</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> all = <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">getUsersList</span>(), <span class="title function_">getBannersList</span>(), <span class="title function_">getVideoList</span>()]);</span><br><span class="line">    <span class="comment">//获取成功请求的结果值</span></span><br><span class="line">    all.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initLoad</span>();</span><br></pre></td></tr></table></figure><p>案例2：修改多文件读取代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">&#x27;util&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> mywriteFile = util.<span class="title function_">promisify</span>(fs.<span class="property">readFile</span>);</span><br><span class="line"><span class="keyword">let</span> one = <span class="title function_">mywriteFile</span>(<span class="string">&#x27;./resource/1.html&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> two = <span class="title function_">mywriteFile</span>(<span class="string">&#x27;./resource/2.html&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> three = <span class="title function_">mywriteFile</span>(<span class="string">&#x27;./resource/3.html&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> result = <span class="title class_">Promise</span>.<span class="title function_">all</span>([one,two,three]);</span><br><span class="line">result.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>));</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="9-5-Promise-race"><a href="#9-5-Promise-race" class="headerlink" title="9.5 Promise.race()"></a>9.5 Promise.race()</h4><p>Promise.race  race 赛跑的意思</p><p>参数: promise 数组</p><p>返回结果: promise 对象</p><p>状态由『最先改变状态的 promise对象』决定 </p><p>结果值由 『最先改变状态的 promise对象』决定</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">            &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> p3 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;oh hou&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> result = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1, p2, p3]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>与Promise.all相似的是，Promise.race都是以一个Promise对象组成的数组作为参数。</p><p>不同的是，只要当数组中的其中一个Promsie状态变成resolved或者rejected时，就可以调用.then方法了。</p><p>而传递给then方法的值也会有所不同。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//ES6中Promise.race的用法以及使用场景</span></span><br><span class="line">    <span class="comment">//将多个Promise实例包装成一个新的Promise实例</span></span><br><span class="line">    <span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, rejct</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;p1成功&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, rejct</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;p2成功&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="comment">//调用</span></span><br><span class="line">    <span class="keyword">const</span> prace = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1, p2]);</span><br><span class="line">    <span class="comment">//Promise.race区别于Promise.all：</span></span><br><span class="line">    <span class="comment">//只要是实例中有一个先改变状态，就会把这个实例的返回值传递给prace的回调函数</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用场景：请求超时提示</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">request</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;请求成功&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">4000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timeout</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(<span class="string">&#x27;网络不畅,请求超时&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([<span class="title function_">request</span>(), <span class="title function_">timeout</span>()]).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="9-6-Promise-allSettled"><a href="#9-6-Promise-allSettled" class="headerlink" title="9.6 Promise.allSettled()"></a>9.6 Promise.allSettled()</h4><p>Promise.allSettled()方法，用来确定要一组异步操作是否都结束了(不管成功或失败)。</p><p>所以，它的名字叫”Settled”，包含了”fufilled”和”rejected”两种情况.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, url, <span class="literal">true</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>();</span><br><span class="line">        xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                    <span class="title function_">resolve</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="title function_">reject</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//类比Promise下的all方法和allSettled</span></span><br><span class="line"><span class="comment">// Promise.all([ajax(&#x27;http://www.xiongmaoyouxuan.com/api/tabs&#x27;),</span></span><br><span class="line"><span class="comment">// ajax(&#x27;https://m.maizuo.com/gateway?cityId=110100&amp;k=4770248&#x27;)</span></span><br><span class="line"><span class="comment">// ]).then(value =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(value)</span></span><br><span class="line"><span class="comment">// &#125;).catch(error =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(error);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">allSettled</span>([<span class="title function_">ajax</span>(<span class="string">&#x27;http://www.xiongmaoyouxuan.com/api/tabs&#x27;</span>),</span><br><span class="line">                    <span class="title function_">ajax</span>(<span class="string">&#x27;https://m.maizuo.com/gateway?cityId=110100&amp;k=4770248&#x27;</span>)</span><br><span class="line">                   ]).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(value)</span></span><br><span class="line">    <span class="keyword">let</span> successList = value.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">status</span> === <span class="string">&#x27;fulfilled&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(successList)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> errorList = value.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">status</span> === <span class="string">&#x27;rejected&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(errorList)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="9-7-Promise-any"><a href="#9-7-Promise-any" class="headerlink" title="9.7 Promise.any()"></a>9.7 Promise.any()</h4><p>只要参数实例有一个变成fulfilled状态，包装实例就会变成fulfiilled状态；</p><p>如果所有参数实例都变成rejected，包装实例就会变成rejected状态。</p><blockquote><p>Promise.any()跟Promise.race()方法很像，但是有一点不同，</p><p>就是Promise.any()不会因为某个Promise变成rejected状态而结束，</p><p>必须等到所有参数Promise变成rejected状态才会结束。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;okk&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">any</span>([p1, p2, p3]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="9-8-Promise-finally"><a href="#9-8-Promise-finally" class="headerlink" title="9.8 Promise.finally()"></a>9.8 Promise.finally()</h4><p>finally是在ES9(ES2018)中新增的一个特性：表示无论Promise对象变成fufilled还是rejected状态，最终都会被执行。</p><p>finally方法中的<code>回调函数</code>是不接受参数的，因为无论前面是fulfilled状态还是rejected状态， 它都是执行。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// resolve(&#x27;ok&#x27;);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;finally&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="十、终止Promise链条"><a href="#十、终止Promise链条" class="headerlink" title="十、终止Promise链条"></a>十、终止Promise链条</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">111</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// return false;</span></span><br><span class="line">    <span class="comment">// throw &#x27;出错啦&#x27;;</span></span><br><span class="line">    <span class="comment">//有且只有一种方式 返回一个pending状态的promise对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">333</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">444</span>);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="十一、几个关键问题"><a href="#十一、几个关键问题" class="headerlink" title="十一、几个关键问题"></a>十一、几个关键问题</h3><h4 id="11-1-如何修改-promise-对象状态"><a href="#11-1-如何修改-promise-对象状态" class="headerlink" title="11.1 如何修改 promise 对象状态"></a>11.1 如何修改 promise 对象状态</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//如何修改 promise 对象状态</span></span><br><span class="line">    <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//1. resolve</span></span><br><span class="line">        <span class="comment">// resolve(&#x27;success&#x27;);</span></span><br><span class="line">        <span class="comment">//2. reject</span></span><br><span class="line">        <span class="comment">// reject(&#x27;error&#x27;);</span></span><br><span class="line">        <span class="comment">//3. 抛出错误 异常</span></span><br><span class="line">        <span class="comment">// throw &#x27;出问题啦! 你说出这样的话  你没有良心!!&#x27;;</span></span><br><span class="line">        <span class="comment">// 状态的改变只有一次 </span></span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">        <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="11-2-指定多个回调执行情况"><a href="#11-2-指定多个回调执行情况" class="headerlink" title="11.2 指定多个回调执行情况"></a>11.2 指定多个回调执行情况</h4><p>问题：一个promise指定多个成功/失败回调函数，都会调用吗？</p><p>答：会，但是前提是当promise对象的状态改变(fulfilled/rejected)时才会调用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//promise对象是可以多次调用then方法完成多个成功/失败回调函数</span></span><br><span class="line">            <span class="comment">//但是使用的前提是这个promise对象的状态必须要么是fulfilled或者是rejected</span></span><br><span class="line">            <span class="comment">//不能是pending</span></span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;OK&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//第一次指定回调</span></span><br><span class="line">        p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">        &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(reason);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(value);</span><br><span class="line">        &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(reason);</span><br><span class="line">        &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="11-3-指定回调与改变状态先后顺序问题"><a href="#11-3-指定回调与改变状态先后顺序问题" class="headerlink" title="11.3 指定回调与改变状态先后顺序问题"></a>11.3 指定回调与改变状态先后顺序问题</h4><p>改变promise状态和指定回调函数执行谁先谁后？</p><ul><li><p>都有可能，正常情况下是先指定回调再改变状态，但也可以先改变状态在指定回调</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//若执行器函数中是异步任务, 则先指定回调, 然后再改变状态  更为常见</span></span><br><span class="line"><span class="comment">//若执行器函数中是同步任务, 则先改变状态, 然后再指定回调</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//同步任务</span></span><br><span class="line">    <span class="comment">//resolve(&#x27;ok&#x27;);</span></span><br><span class="line">    <span class="comment">//异步任务</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>如何先改状态再指定回调？</p><ul><li>在执行器中直接调用resolve()/reject()</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//resolve(&#x27;ok&#x27;);</span></span><br><span class="line"><span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>延迟更长时间才调用then()</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//then方法使用定时器延迟更久的时间</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;, <span class="number">3000</span>)</span><br></pre></td></tr></table></figure></li><li><p>什么时候才能得到数据？</p><ul><li>如果是先指定的回调，那当状态发生改变时，回调函数就会调用，得到数据</li><li>如果先改变的状态，那当指定回调时，回调函数就会调用，得到数据</li></ul></li></ul><h4 id="11-4-promise-then-返回的新promise的结果状态由什么决定？"><a href="#11-4-promise-then-返回的新promise的结果状态由什么决定？" class="headerlink" title="11.4 promise.then()返回的新promise的结果状态由什么决定？"></a>11.4 promise.then()返回的新promise的结果状态由什么决定？</h4><ul><li>简单表达：由then指定的回调函数执行的结果决定</li><li>详细表达：<ul><li>如果抛出异常：新promise对象状态变成rejected，reason为抛出的异常</li><li>如果返回的是是非promise的任意值，新promise对象状态变成fulfilled，value为返回的值</li><li>如果返回的是另一个新的promise对象，此promise的结果就会称为新promise的结果</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> result = p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//return value;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;okk&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><h4 id="11-5-promise如何串联多个操作任务"><a href="#11-5-promise如何串联多个操作任务" class="headerlink" title="11.5 promise如何串联多个操作任务?"></a>11.5 promise如何串联多个操作任务?</h4><ul><li>promise的then()返回一个新的promise对象，可以写成then()方法的链式调用</li><li>通过then()的链式调用串联多个同步/异步任务</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">            <span class="title function_">reject</span>();</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">    &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(reason);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="11-6-promise的异常穿透"><a href="#11-6-promise的异常穿透" class="headerlink" title="11.6 promise的异常穿透"></a>11.6 promise的异常穿透</h4><ul><li>当使用promise的then链式调用时, 可以在最后指定失败的回调,</li><li>前面任何操作出了异常, 都会传到最后失败的回调中处理</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="11-7-中断promise链"><a href="#11-7-中断promise链" class="headerlink" title="11.7 中断promise链"></a>11.7 中断promise链</h4><ul><li>当使用promise的then链式调用时, 在中间中断, 不再调用后面的回调函数</li><li>办法: 在回调函数中返回一个pending状态的promise对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">() =&gt;</span> &#123; &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="十二、async和await"><a href="#十二、async和await" class="headerlink" title="十二、async和await"></a>十二、async和await</h3><p>async/await 是ES7提出的基于Promise的解决异步的最终方案。</p><h4 id="12-1-async函数"><a href="#12-1-async函数" class="headerlink" title="12.1  async函数"></a>12.1  async函数</h4><p>async是一个加在函数前的修饰符，被async定义的函数会默认返回一个Promise对象resolve的值。</p><p>因此对async函数可以直接then，返回值就是then方法传入的函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// async基础语法</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fun0</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun0</span>().<span class="title function_">then</span>(<span class="function"><span class="params">val</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(val) <span class="comment">// 1,1</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fun1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Promise&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;Promise&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun1</span>().<span class="title function_">then</span>(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(val); <span class="comment">// Promise Promise</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明一个async函数</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async function&#x27;</span>);</span><br><span class="line">    <span class="comment">//情况1：返回非promise对象数据</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hahaha&#x27;</span>;</span><br><span class="line">    <span class="comment">//情况2：返回是promise对象数据</span></span><br><span class="line">    <span class="comment">/* return new Promise((resolve, reject) =&gt; &#123;</span></span><br><span class="line"><span class="comment">// resolve(&#x27;ok&#x27;);</span></span><br><span class="line"><span class="comment">reject(&#x27;error&#x27;);</span></span><br><span class="line"><span class="comment">&#125;) */</span></span><br><span class="line">    <span class="comment">//情况3：抛出异常</span></span><br><span class="line">    <span class="comment">// throw new Error(&#x27;出错啦!!!&#x27;);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">main</span>().<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><h4 id="12-2-await表达式"><a href="#12-2-await表达式" class="headerlink" title="12.2  await表达式"></a>12.2  await表达式</h4><p>await 也是一个修饰符，只能放在async定义的函数内。可以理解为<strong>等待</strong>。</p><p>await 修饰的如果是Promise对象，可以获取Promise中返回的内容（resolve或reject的参数），且取到值后语</p><p>句才会往下执行；如果不是Promise对象：把这个非promise的东西当做await表达式的结果。</p><p>注意事项</p><ul><li>await必须写在async函数中，但是async函数中可以没有await</li><li>如果await的promise失败了，就会抛出异常，需要通过try…catch捕获处理</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">        &#125;,<span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> c = <span class="keyword">await</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;function&#x27;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun</span>(); <span class="comment">// 3秒后输出： 1 &quot;setTimeout&quot; &quot;function&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">time</span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(time);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;,time)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="title function_">log</span>(<span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">await</span> <span class="title function_">log</span>(<span class="number">3000</span>);</span><br><span class="line">    <span class="keyword">let</span> c = <span class="title function_">log</span>(<span class="number">2000</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun</span>(); </span><br><span class="line"><span class="comment">// 立即输出 undefined 1</span></span><br><span class="line"><span class="comment">// 1秒后输出 1000</span></span><br><span class="line"><span class="comment">// 2秒后输出 2000</span></span><br><span class="line"><span class="comment">// 3秒后输出 3000</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//1、如果await右侧为非promise类型数据</span></span><br><span class="line">    <span class="keyword">var</span> rs = <span class="keyword">await</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> rs = <span class="keyword">await</span> <span class="number">1</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> rs = <span class="keyword">await</span> <span class="string">&quot;非常6+7&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2、如果await右侧为promise成功类型数据</span></span><br><span class="line">    <span class="keyword">var</span> rs = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3、如果await右侧为promise失败类型数据,需要借助于try...catch捕获</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> rs = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用async/await获取成功的结果</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个异步函数，3秒后才能获取到值(类似操作数据库)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSomeThing</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;获取成功&#x27;</span>)</span><br><span class="line">        &#125;,<span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="title function_">getSomeThing</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>(); <span class="comment">// 3秒后输出：获取成功</span></span><br></pre></td></tr></table></figure><p>案例：async结合await读取文件内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、导包</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;promisify&#125; = <span class="built_in">require</span>(<span class="string">&#x27;util&#x27;</span>);</span><br><span class="line"><span class="comment">//2、将fs.readFile转化成promise风格的函数</span></span><br><span class="line"><span class="keyword">const</span> myreadfile = <span class="title function_">promisify</span>(fs.<span class="property">readFile</span>);</span><br><span class="line"><span class="comment">//3、声明async函数</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="comment">//4、读取文件</span></span><br><span class="line">        <span class="keyword">let</span> one = <span class="keyword">await</span> <span class="title function_">myreadfile</span>(<span class="string">&#x27;./resource/4.html&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> two = <span class="keyword">await</span> <span class="title function_">myreadfile</span>(<span class="string">&#x27;./resource/2.html&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> three = <span class="keyword">await</span> <span class="title function_">myreadfile</span>(<span class="string">&#x27;./resource/3.html&#x27;</span>);</span><br><span class="line">    <span class="comment">//5、拼接读取文件内容</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(one + two + three);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//6、调用main函数</span></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure><h3 id="十三、JS中的宏队列与微队列"><a href="#十三、JS中的宏队列与微队列" class="headerlink" title="十三、JS中的宏队列与微队列"></a>十三、JS中的宏队列与微队列</h3><ul><li>说明<ul><li>JS中用来存储待执行回调函数的队列包含2个不同特定的列队</li><li>宏列队: 用来保存待执行的宏任务(回调), 比如: 定时器回调/DOM事件回调/ajax回调</li><li>微列队: 用来保存待执行的微任务(回调), 比如: promise的回调/MutationObserver的回调</li><li>JS执行时会区别这2个队列<ul><li>JS引擎首先必须先执行所有的初始化同步任务代码</li><li>每次准备取出第一个宏任务执行前, 都要将所有的微任务一个一个取出来执行</li></ul></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">    <span class="comment">//return ;throw</span></span><br><span class="line">    <span class="title function_">reject</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">333</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">444</span>);</span><br></pre></td></tr></table></figure><h3 id="十四、Promise常见面试题"><a href="#十四、Promise常见面试题" class="headerlink" title="十四、Promise常见面试题"></a>十四、Promise常见面试题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">first</span> = (<span class="params"></span>) =&gt; (<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">7</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="number">6</span>)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2</span>)</span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;))</span><br><span class="line"><span class="title function_">first</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;4&quot;</span>)</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;6&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;7&quot;</span>)</span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;8&quot;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="十五、手写promise自定义基础结构的搭建"><a href="#十五、手写promise自定义基础结构的搭建" class="headerlink" title="十五、手写promise自定义基础结构的搭建"></a>十五、手写promise自定义基础结构的搭建</h3><h4 id="15-1-Promise-的基本结构"><a href="#15-1-Promise-的基本结构" class="headerlink" title="15.1   Promise 的基本结构"></a>15.1   Promise 的基本结构</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1- Promise 是一个构造函数</span></span><br><span class="line"><span class="comment"> * 2- Promise 接收一个参数，该参数的类型是函数（执行器函数executor）</span></span><br><span class="line"><span class="comment"> * 3- executor接收两个参数（resolve,reject）,参数的类型是函数</span></span><br><span class="line"><span class="comment"> * 4- 执行器函数会同步执行。</span></span><br><span class="line"><span class="comment"> * 5- then方法在其显式原型属性上</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line">    <span class="comment">// executor是执行器函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line">        <span class="title function_">executor</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">        &#125;,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这是我的执行器函数&quot;</span>,resolve,reject)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;over&quot;</span>,<span class="title class_">Promise</span>);</span><br></pre></td></tr></table></figure><h4 id="15-2-Promise实例拥有两个实例属性"><a href="#15-2-Promise实例拥有两个实例属性" class="headerlink" title="15.2  Promise实例拥有两个实例属性"></a>15.2  Promise实例拥有两个实例属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 1- Promise实例拥有两个实例属性：</span></span><br><span class="line"><span class="comment"> * 状态（[[PromiseState]]），初始状态为pending</span></span><br><span class="line"><span class="comment"> * 值（[[PromiseResult]]）,初始值为undefined</span></span><br><span class="line"><span class="comment">*/</span> </span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="title function_">executor</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这是我的执行器函数&quot;</span>,resolve,reject)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure><h4 id="15-3-更改状态三种方式-方法未抽离"><a href="#15-3-更改状态三种方式-方法未抽离" class="headerlink" title="15.3 更改状态三种方式-方法未抽离"></a>15.3 更改状态三种方式-方法未抽离</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 更改状态三种方式</span></span><br><span class="line"><span class="comment"> * 1- 通过调用resolve将状态更改为成功（fulfilled），接收的值为成功值</span></span><br><span class="line"><span class="comment"> * 2- 通过调用reject将状态更改为失败(rejected)，接收的值为失败值</span></span><br><span class="line"><span class="comment"> * 3- 抛出异常将状态更改为失败(rejected)，失败的值为异常信息。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>),<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将异常信息作为失败值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = err;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="comment">// reject(2);</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure><h4 id="15-4-更改状态三种方式-抽离为普通函数"><a href="#15-4-更改状态三种方式-抽离为普通函数" class="headerlink" title="15.4  更改状态三种方式-抽离为普通函数"></a>15.4  更改状态三种方式-抽离为普通函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> _resolve = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>)</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> _reject = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>)</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将异常信息作为失败值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = err;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// throw &quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure><h4 id="15-5-更改状态三种方式-抽离为箭头函数"><a href="#15-5-更改状态三种方式-抽离为箭头函数" class="headerlink" title="15.5   更改状态三种方式-抽离为箭头函数"></a>15.5   更改状态三种方式-抽离为箭头函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将异常信息作为失败值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = err;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="comment">// reject(2);</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure><h4 id="15-6-状态只允许更改一次"><a href="#15-6-状态只允许更改一次" class="headerlink" title="15.6   状态只允许更改一次"></a>15.6   状态只允许更改一次</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * pending-&gt; fulfilled</span></span><br><span class="line"><span class="comment"> * pending-&gt; rejected</span></span><br><span class="line"><span class="comment"> * 改变状态只有这两种，且一个promise对象只能改变一次，，无论变成成功还是失败，都会有一个结果值</span></span><br><span class="line"><span class="comment"> * 成功的结果数据一般称为value，失败的结果值一般称为reason</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure><h4 id="15-7-then函数调用成功或失败回调函数"><a href="#15-7-then函数调用成功或失败回调函数" class="headerlink" title="15.7  then函数调用成功或失败回调函数"></a>15.7  then函数调用成功或失败回调函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 1- then是Promise中的原型方法</span></span><br><span class="line"><span class="comment"> * 2- then函数接收两个参数（成功回调，失败回调）</span></span><br><span class="line"><span class="comment"> * 3- 如果p1状态为成功执行成功回调，失败执行失败回调。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line"><span class="title function_">onResolved</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line"><span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><h4 id="15-8-then函数中的回调函数是异步调用的"><a href="#15-8-then函数中的回调函数是异步调用的" class="headerlink" title="15.8  then函数中的回调函数是异步调用的"></a>15.8  then函数中的回调函数是异步调用的</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">onResolved</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="comment">// reject(2);</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功回调&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败回调&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;over&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="15-9-then函数返回的是一个Promise实例"><a href="#15-9-then函数返回的是一个Promise实例" class="headerlink" title="15.9  then函数返回的是一个Promise实例"></a>15.9  then函数返回的是一个Promise实例</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">onResolved</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="comment">// reject(2);</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功回调&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败回调&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><h4 id="15-10-then函数返回的Promise实例状态以及值-未优化"><a href="#15-10-then函数返回的Promise实例状态以及值-未优化" class="headerlink" title="15.10  then函数返回的Promise实例状态以及值-未优化"></a>15.10  then函数返回的Promise实例状态以及值-未优化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * then返回的Promise实例受成功或失败回调函数返回值的影响</span></span><br><span class="line"><span class="comment"> * 1- 如果返回的是非Promise,那么p2状态为成功，值为返回值</span></span><br><span class="line"><span class="comment"> * 2- 如果返回的是Promise,那么p2状态以及值与返回的状态，值相同。</span></span><br><span class="line"><span class="comment"> * 3- 如果出现异常，那么p2状态为失败，值为异常信息。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">onResolved</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="comment">// value.then(v=&gt;&#123;</span></span><br><span class="line"><span class="comment">// // 将返回的Promise实例设置为成功，值为v</span></span><br><span class="line"><span class="comment">// resolve(v);</span></span><br><span class="line"><span class="comment">// &#125;,s=&gt;&#123;</span></span><br><span class="line"><span class="comment">// // 将返回的Promise实例设置为失败，值为s</span></span><br><span class="line"><span class="comment">// reject(s);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简化：</span></span><br><span class="line">value.<span class="title function_">then</span>(resolve,reject)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 异步调用</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是失败回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// value是否为Promise实例</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="comment">// 将返回Promise设置为与value相同的结果</span></span><br><span class="line">value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 返回成功promise,值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 返回失败promise,值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// throw &quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// resolve(100)</span></span><br><span class="line">        <span class="comment">// reject(200)</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&quot;异常2&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// return 1;</span></span><br><span class="line">    <span class="comment">// console.log(&quot;成功回调&quot;,value);</span></span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// resolve(100);</span></span><br><span class="line">        <span class="comment">// reject(2)</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&quot;异常3&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// return 1;</span></span><br><span class="line">    <span class="comment">// console.log(&quot;失败回调&quot;,reason);</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><h4 id="15-11-then函数返回的Promise实例状态以及值-优化封装函数-common"><a href="#15-11-then函数返回的Promise实例状态以及值-优化封装函数-common" class="headerlink" title="15.11   then函数返回的Promise实例状态以及值-优化封装函数_common"></a>15.11   then函数返回的Promise实例状态以及值-优化封装函数_common</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line">value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(1);</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// throw &quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// return new Promise((resolve,reject)=&gt;&#123;</span></span><br><span class="line">    <span class="comment">// // resolve(100)</span></span><br><span class="line">    <span class="comment">// // reject(200)</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常2&quot;</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">    <span class="comment">// return 1;</span></span><br><span class="line">    <span class="comment">// console.log(&quot;成功回调&quot;,value);</span></span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// return new Promise((resolve,reject)=&gt;&#123;</span></span><br><span class="line">    <span class="comment">// // resolve(100);</span></span><br><span class="line">    <span class="comment">// // reject(2)</span></span><br><span class="line">    <span class="comment">// throw &quot;异常3&quot;</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">    <span class="comment">// return 1;</span></span><br><span class="line">    <span class="comment">// console.log(&quot;失败回调&quot;,reason);</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><h4 id="15-12-增加成功与失败回调函数的默认值"><a href="#15-12-增加成功与失败回调函数的默认值" class="headerlink" title="15.12  增加成功与失败回调函数的默认值"></a>15.12  增加成功与失败回调函数的默认值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 1- then如果省略成功回调，默认成功回调为 value=&gt;value;</span></span><br><span class="line"><span class="comment"> * 2- then如果省略失败回调，默认失败回调为 reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即调用函数的好处：可以避免对外部的变量造成污染。</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line">value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// reject(2);</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = p1.<span class="title function_">then</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><h4 id="15-14-执行器函数常用于处理异步行为"><a href="#15-14-执行器函数常用于处理异步行为" class="headerlink" title="15.14   执行器函数常用于处理异步行为"></a>15.14   执行器函数常用于处理异步行为</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = &#123;&#125;;</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="property">onResolved</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">onResolved</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="property">onRejected</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">onRejected</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = &#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">100</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="15-15-可以指定多个成功或失败的回调"><a href="#15-15-可以指定多个成功或失败的回调" class="headerlink" title="15.15  可以指定多个成功或失败的回调"></a>15.15  可以指定多个成功或失败的回调</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以指定多个成功或失败的回调</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">100</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功1&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败1&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功2&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败2&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功3&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败3&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功4&quot;</span>,value);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败4&quot;</span>,reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="15-16-catch"><a href="#15-16-catch" class="headerlink" title="15.16  catch"></a>15.16  catch</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以指定多个成功或失败的回调</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">100</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// p1.then(undefined,reason=&gt;&#123;</span></span><br><span class="line"><span class="comment">// console.log(reason);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// catch的返回值是Promise实例,实例的属性与值取决于回调函数的返回值</span></span><br><span class="line"><span class="comment">// 返回值为非Promise实例，那么得到的状态为成功，值为返回值</span></span><br><span class="line"><span class="comment">// 返回值为Promise实例，那么得到的结果与返回的结果相同。</span></span><br><span class="line"><span class="comment">// 有异常，那么得到的状态为失败，值为异常信息。</span></span><br><span class="line"><span class="keyword">const</span> p2 = p1.<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(reason);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// throw &quot;异常&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br></pre></td></tr></table></figure><h4 id="15-17-链式调用支持"><a href="#15-17-链式调用支持" class="headerlink" title="15.17  链式调用支持"></a>15.17  链式调用支持</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="15-18-异常穿透支持"><a href="#15-18-异常穿透支持" class="headerlink" title="15.18   异常穿透支持"></a>15.18   异常穿透支持</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;异常&quot;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>,reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="15-19-中断Promise链"><a href="#15-19-中断Promise链" class="headerlink" title="15.19   中断Promise链"></a>15.19   中断Promise链</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 2</span></span><br><span class="line">    <span class="comment">// 在回调函数中返回一个`pendding`状态的promise对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">()=&gt;</span>&#123;&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// undefined</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="15-20-resolve"><a href="#15-20-resolve" class="headerlink" title="15.20  resolve"></a>15.20  resolve</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">resolve</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value;<span class="comment">// 如果是Promise实例直接返回</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 如果不是Promise实例，那么返回的状态为成功，值为value</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const p1 = Promise.resolve(1);</span></span><br><span class="line"><span class="comment">// console.log(p1);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const p1 = Promise.resolve(new Promise((resolve,reject)=&gt;&#123;</span></span><br><span class="line"><span class="comment">// resolve(2);</span></span><br><span class="line"><span class="comment">// &#125;));</span></span><br><span class="line"><span class="comment">// console.log(p1);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// const p1 = Promise.resolve(new Promise((resolve,reject)=&gt;&#123;</span></span><br><span class="line"><span class="comment">// reject(2);</span></span><br><span class="line"><span class="comment">// &#125;));</span></span><br><span class="line"><span class="comment">// console.log(p1);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p =<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(p);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1===p);</span><br></pre></td></tr></table></figure><h4 id="15-21-reject"><a href="#15-21-reject" class="headerlink" title="15.21  reject"></a>15.21  reject</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span></span>)&#123;</span><br><span class="line"><span class="comment">// executor是执行器函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line"><span class="comment">// 记录成功与失败回调函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// 定义实例属性state,初始值为pending</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line"><span class="comment">// 定义实例属性result,初始值为undefined</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 定义resolve函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为成功(fulfilled)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line"><span class="comment">// 成功值为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义reject函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value=&gt;&#123;</span><br><span class="line"><span class="comment">// 当状态已经被更改过，不允许再次更改</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="comment">// 将状态更改为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"><span class="comment">// 将result设置为value</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve,_reject);</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="title function_">_reject</span>(err);<span class="comment">// 状态更改为失败，值为异常信息</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>,&#123;</span><br><span class="line"><span class="comment">// onResolved:成功回调</span></span><br><span class="line"><span class="comment">// onRejected:失败回调</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved,onRejected</span>)&#123;</span><br><span class="line"><span class="comment">// 如果成功回调不是函数，那么增加成功回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onResolved = <span class="function"><span class="params">value</span>=&gt;</span>value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果失败回调不是函数，那么增加失败回调默认值</span></span><br><span class="line"><span class="keyword">if</span>(!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>))&#123;</span><br><span class="line">onRejected = <span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> reason;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span>(<span class="params">callback</span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// value是成功回调的返回值</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断value是不是通过Promise实例化出来的（判断value是否为Promise实例）</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 不是Promise实例，将返回的Promise状态设置为成功，值为value</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (err)&#123;</span><br><span class="line"><span class="comment">// 有异常，将返回Promise的状态更改为失败，值为err</span></span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 状态成功调用onResolved</span></span><br><span class="line"><span class="comment">// p1的状态为成功</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onResolved);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>)&#123;</span><br><span class="line">_common.<span class="title function_">call</span>(<span class="variable language_">this</span>,onRejected);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// pending</span></span><br><span class="line"><span class="comment">// 如果状态为pending,那么保存成功与失败回调</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onResolved),</span><br><span class="line"><span class="attr">onRejected</span>:_common.<span class="title function_">bind</span>(<span class="variable language_">this</span>,onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">resolve</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value;<span class="comment">// 如果是Promise实例直接返回</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 如果不是Promise实例，那么返回的状态为成功，值为value</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">reject</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">reject</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">&#125;));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p3 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">2</span>);</span><br><span class="line">&#125;));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br></pre></td></tr></table></figure><h4 id="15-22-完成all"><a href="#15-22-完成all" class="headerlink" title="15.22 完成all"></a>15.22 完成all</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span></span>) &#123;</span><br><span class="line"><span class="comment">// 接收执行器函数(executor)，执行器函数会同步执行（立即执行）。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;<span class="comment">// 初始状态</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;<span class="comment">// 初始值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// _resolve函数将状态更新为成功，成功值为接收的value</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value =&gt; &#123;</span><br><span class="line"><span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;<span class="comment">// 状态更新为成功</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新成功值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// _reject函数将状态更新为失败，失败值为接收的value</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value =&gt; &#123;</span><br><span class="line"><span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;<span class="comment">// 状态更新为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新失败值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve, _reject);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line"><span class="comment">// 如果有异常，将状态更新为失败，失败的值为异常信息</span></span><br><span class="line"><span class="title function_">_reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将第二个参数（对象）合并至Promise.prototype对象中。</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line"><span class="comment">// 1- 接收成功与失败回调函数</span></span><br><span class="line"><span class="comment">// 2- 返回的是一个Promise实例</span></span><br><span class="line"><span class="comment">// 3- onResolved成功回调，默认值为value=&gt;value;</span></span><br><span class="line"><span class="comment">// 4- onRejected失败回调，默认值为reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved, onRejected</span>) &#123;</span><br><span class="line"><span class="comment">// onResolved成功回调，默认值为value=&gt;value;</span></span><br><span class="line"><span class="keyword">if</span> (!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onResolved = <span class="function"><span class="params">value</span> =&gt;</span> value;</span><br><span class="line"><span class="comment">//onRejected失败回调，默认值为reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line"><span class="keyword">if</span> (!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onRejected = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">throw</span> reason</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// callback是成功或失败回调</span></span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// value是成功回调返回结果</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断是否为Promise实例</span></span><br><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) &#123;</span><br><span class="line">value.<span class="title function_">then</span>(resolve, reject);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// 非Promise实例</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断状态为成功，调用成功回调</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onResolved);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onRejected);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onResolved),</span><br><span class="line"><span class="attr">onRejected</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">resolve</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 判断接收的参数是否为Promise实例，如果是直接返回</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 如果不是，创建一个新的Promise,状态为成功，值为value;</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">reject</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 返回失败的Promise,失败值为接收的value</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">reject</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1- 接收的是数组，返回的是Promise</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="property">all</span> = <span class="keyword">function</span>(<span class="params">promiseArr</span>)&#123;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> successArr = <span class="keyword">new</span> <span class="title class_">Array</span>(promiseArr.<span class="property">length</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">promiseArr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,i</span>)=&gt;</span>&#123;</span><br><span class="line">value.<span class="title function_">then</span>(<span class="function"><span class="params">v</span>=&gt;</span>&#123;</span><br><span class="line">index++;</span><br><span class="line">successArr[i] = v;</span><br><span class="line"><span class="keyword">if</span>(index === promiseArr.<span class="property">length</span>)&#123;</span><br><span class="line"><span class="title function_">resolve</span>(successArr);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,<span class="function"><span class="params">s</span>=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 返回Promise的状态设置失败</span></span><br><span class="line"><span class="title function_">reject</span>(s);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">100</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">200</span>)</span><br><span class="line">    &#125;,<span class="number">50</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">300</span>)</span><br><span class="line">    &#125;,<span class="number">200</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p4 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">400</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// all接收的数组中的元素是Promise实例。</span></span><br><span class="line"><span class="comment">// 元素中的Promise实例都成功，p的状态为成功，值为数组，数组的元素为成功值</span></span><br><span class="line"><span class="comment">// 元素中有一个失败，那么p的状态为失败，值为失败值</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1,p2,p3,p4]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br></pre></td></tr></table></figure><h4 id="15-23-完成race"><a href="#15-23-完成race" class="headerlink" title="15.23 完成race"></a>15.23 完成race</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 接收执行器函数(executor)，执行器函数会同步执行（立即执行）。</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;<span class="comment">// 初始状态</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;<span class="comment">// 初始值</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line">        <span class="comment">// _resolve函数将状态更新为成功，成功值为接收的value</span></span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">_resolve</span> = value =&gt; &#123;</span><br><span class="line">            <span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;<span class="comment">// 状态更新为成功</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新成功值</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">                item.<span class="title function_">onResolved</span>();</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// _reject函数将状态更新为失败，失败值为接收的value</span></span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">_reject</span> = value =&gt; &#123;</span><br><span class="line">            <span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;<span class="comment">// 状态更新为失败</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新失败值</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">                item.<span class="title function_">onRejected</span>();</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="title function_">executor</span>(_resolve, _reject);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="comment">// 如果有异常，将状态更新为失败，失败的值为异常信息</span></span><br><span class="line">            <span class="title function_">_reject</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将第二个参数（对象）合并至Promise.prototype对象中。</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">        <span class="comment">// 1- 接收成功与失败回调函数</span></span><br><span class="line">        <span class="comment">// 2- 返回的是一个Promise实例</span></span><br><span class="line">        <span class="comment">// 3- onResolved成功回调，默认值为value=&gt;value;</span></span><br><span class="line">        <span class="comment">// 4- onRejected失败回调，默认值为reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line">        <span class="title function_">then</span>(<span class="params">onResolved, onRejected</span>) &#123;</span><br><span class="line">            <span class="comment">// onResolved成功回调，默认值为value=&gt;value;</span></span><br><span class="line">            <span class="keyword">if</span> (!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onResolved = <span class="function"><span class="params">value</span> =&gt;</span> value;</span><br><span class="line">            <span class="comment">//onRejected失败回调，默认值为reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line">            <span class="keyword">if</span> (!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onRejected = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> reason</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// callback是成功或失败回调</span></span><br><span class="line">                <span class="keyword">const</span> _common = <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            <span class="comment">// value是成功回调返回结果</span></span><br><span class="line">                            <span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line">                            <span class="comment">// 判断是否为Promise实例</span></span><br><span class="line">                            <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) &#123;</span><br><span class="line">                                value.<span class="title function_">then</span>(resolve, reject);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="comment">// 非Promise实例</span></span><br><span class="line">                                <span class="title function_">resolve</span>(value);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">                            <span class="title function_">reject</span>(err);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 判断状态为成功，调用成功回调</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onResolved);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onRejected);</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">                        <span class="attr">onResolved</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onResolved),</span><br><span class="line">                        <span class="attr">onRejected</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onRejected)</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">resolve</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="comment">// 判断接收的参数是否为Promise实例，如果是直接返回</span></span><br><span class="line">        <span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// 如果不是，创建一个新的Promise,状态为成功，值为value;</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="title function_">resolve</span>(value);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">reject</span> = <span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="comment">// 返回失败的Promise,失败值为接收的value</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="title function_">reject</span>(value);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 1- 接收的是数组，返回的是Promise</span></span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">all</span> = <span class="keyword">function</span>(<span class="params">promiseArr</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> successArr = <span class="keyword">new</span> <span class="title class_">Array</span>(promiseArr.<span class="property">length</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            promiseArr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,i</span>)=&gt;</span>&#123;</span><br><span class="line">                value.<span class="title function_">then</span>(<span class="function"><span class="params">v</span>=&gt;</span>&#123;</span><br><span class="line">                    index++;</span><br><span class="line">                    successArr[i] = v;</span><br><span class="line">                    <span class="keyword">if</span>(index === promiseArr.<span class="property">length</span>)&#123;</span><br><span class="line">                        <span class="title function_">resolve</span>(successArr);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,<span class="function"><span class="params">s</span>=&gt;</span>&#123;</span><br><span class="line">                    <span class="comment">// 返回Promise的状态设置失败</span></span><br><span class="line">                    <span class="title function_">reject</span>(s);</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">race</span> = <span class="keyword">function</span>(<span class="params">promiseArr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            promiseArr.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="comment">// value.then(v=&gt;&#123;</span></span><br><span class="line">                <span class="comment">// resolve(v);</span></span><br><span class="line">                <span class="comment">// &#125;,s=&gt;&#123;</span></span><br><span class="line">                <span class="comment">// reject(s);</span></span><br><span class="line">                <span class="comment">// &#125;)</span></span><br><span class="line">                value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">100</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">200</span>)</span><br><span class="line">    &#125;,<span class="number">50</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">300</span>)</span><br><span class="line">    &#125;,<span class="number">200</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p4 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">400</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// race:返回的是Promise实例，谁先执行完就与谁的状态以及值相同。</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1,p2,p3,p4]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br></pre></td></tr></table></figure><h4 id="15-24-class版本实现Promise"><a href="#15-24-class版本实现Promise" class="headerlink" title="15.24 class版本实现Promise"></a>15.24 class版本实现Promise</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span></span>) &#123;</span><br><span class="line"><span class="comment">// 1-将之前构造函数体内的语句放置到constructor函数中</span></span><br><span class="line"><span class="comment">// 2-将之前prototype的属性直接放置到Promise中</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Promise</span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="title function_">resolve</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 判断接收的参数是否为Promise实例，如果是直接返回</span></span><br><span class="line"><span class="keyword">if</span>(value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 如果不是，创建一个新的Promise,状态为成功，值为value;</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="title function_">reject</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="comment">// 返回失败的Promise,失败值为接收的value</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="title function_">reject</span>(value);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="title function_">all</span>(<span class="params">promiseArr</span>)&#123;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> successArr = <span class="keyword">new</span> <span class="title class_">Array</span>(promiseArr.<span class="property">length</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">promiseArr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,i</span>)=&gt;</span>&#123;</span><br><span class="line">value.<span class="title function_">then</span>(<span class="function"><span class="params">v</span>=&gt;</span>&#123;</span><br><span class="line">index++;</span><br><span class="line">successArr[i] = v;</span><br><span class="line"><span class="keyword">if</span>(index === promiseArr.<span class="property">length</span>)&#123;</span><br><span class="line"><span class="title function_">resolve</span>(successArr);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,<span class="function"><span class="params">s</span>=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 返回Promise的状态设置失败</span></span><br><span class="line"><span class="title function_">reject</span>(s);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="title function_">race</span>(<span class="params">promiseArr</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">promiseArr.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// value.then(v=&gt;&#123;</span></span><br><span class="line"><span class="comment">// resolve(v);</span></span><br><span class="line"><span class="comment">// &#125;,s=&gt;&#123;</span></span><br><span class="line"><span class="comment">// reject(s);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line">value.<span class="title function_">then</span>(resolve,reject);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">executor</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;pending&quot;</span>;<span class="comment">// 初始状态</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">undefined</span>;<span class="comment">// 初始值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span> = [];</span><br><span class="line"><span class="comment">// _resolve函数将状态更新为成功，成功值为接收的value</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_resolve</span> = value =&gt; &#123;</span><br><span class="line"><span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;fulfilled&quot;</span>;<span class="comment">// 状态更新为成功</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新成功值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onResolved</span>();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// _reject函数将状态更新为失败，失败值为接收的value</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">_reject</span> = value =&gt; &#123;</span><br><span class="line"><span class="comment">// 如果状态已经更改，直接跳出函数体</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;rejected&quot;</span>;<span class="comment">// 状态更新为失败</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">result</span> = value;<span class="comment">// 更新失败值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">item.<span class="title function_">onRejected</span>();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="title function_">executor</span>(_resolve, _reject);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line"><span class="comment">// 如果有异常，将状态更新为失败，失败的值为异常信息</span></span><br><span class="line"><span class="title function_">_reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">then</span>(<span class="params">onResolved, onRejected</span>) &#123;</span><br><span class="line"><span class="comment">// onResolved成功回调，默认值为value=&gt;value;</span></span><br><span class="line"><span class="keyword">if</span> (!(onResolved <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onResolved = <span class="function"><span class="params">value</span> =&gt;</span> value;</span><br><span class="line"><span class="comment">//onRejected失败回调，默认值为reason=&gt;&#123;throw reason&#125;;</span></span><br><span class="line"><span class="keyword">if</span> (!(onRejected <span class="keyword">instanceof</span> <span class="title class_">Function</span>)) onRejected = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">throw</span> reason</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// callback是成功或失败回调</span></span><br><span class="line"><span class="keyword">const</span> _common = <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// value是成功回调返回结果</span></span><br><span class="line"><span class="keyword">const</span> value = <span class="title function_">callback</span>(<span class="variable language_">this</span>.<span class="property">result</span>);</span><br><span class="line"><span class="comment">// 判断是否为Promise实例</span></span><br><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) &#123;</span><br><span class="line">value.<span class="title function_">then</span>(resolve, reject);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// 非Promise实例</span></span><br><span class="line"><span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line"><span class="title function_">reject</span>(err);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断状态为成功，调用成功回调</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;fulfilled&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onResolved);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span> === <span class="string">&quot;rejected&quot;</span>) _common.<span class="title function_">call</span>(<span class="variable language_">this</span>, onRejected);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">callbackFn</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">onResolved</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onResolved),</span><br><span class="line"><span class="attr">onRejected</span>: _common.<span class="title function_">bind</span>(<span class="variable language_">this</span>, onRejected)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(onRejected)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>,onRejected);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">Promise</span> = <span class="title class_">Promise</span>;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">100</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">200</span>)</span><br><span class="line">    &#125;,<span class="number">50</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">300</span>)</span><br><span class="line">    &#125;,<span class="number">200</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> p4 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">400</span>)</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// race:返回的是Promise实例，谁先执行完就与谁的状态以及值相同。</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1,p2,p3,p4]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> promise </category>
          
      </categories>
      
      
        <tags>
            
            <tag> promise </tag>
            
            <tag> 详细版 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>事件委派</title>
      <link href="/posts/8bd7ace4.html"/>
      <url>/posts/8bd7ace4.html</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>​    事件委派（Event Delegation）是一种 JavaScript 事件处理的优化技巧，它通过将事件处理程序绑定到父元素而不是每个子元素来降低事件处理的复杂性和提高性能。这个技巧的核心思想是利用事件冒泡机制，将事件捕获和处理的责任委托给父元素，然后根据事件的目标来确定如何处理事件。</p><p><strong>个人理解</strong></p><p>个人对于事件委派的理解，事件委派就是把事件加到父元素或者父容器上面，点击子元素或者子容器的时候，会触发事件冒泡，通过事件冒泡，来处理原本委派在父元素或者父容器上面的事件。</p><h2 id="事件委派的常见使用"><a href="#事件委派的常见使用" class="headerlink" title="事件委派的常见使用"></a>事件委派的常见使用</h2><ol><li><p><strong>列表或表格的行点击：</strong> 当你有一个动态生成的列表或表格时，你可以将点击事件处理程序添加到容器元素上，然后通过事件委派来处理每行的点击事件。这样，无论你添加了多少行，都可以轻松地管理它们的点击事件。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;myList&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myList&#x27;</span>);</span><br><span class="line">myList.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">tagName</span> === <span class="string">&#x27;LI&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;You clicked on &#x27;</span> + event.<span class="property">target</span>.<span class="property">textContent</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>导航菜单：</strong> 在网站的导航菜单中，你可以将点击事件处理程序添加到菜单容器上，并使用事件委派来处理不同菜单项的点击事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">&quot;navMenu&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Services<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  &lt;!-- 更多菜单项... --&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> navMenu = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;navMenu&#x27;</span>);</span><br><span class="line">navMenu.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">tagName</span> === <span class="string">&#x27;A&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理菜单项的点击事件</span></span><br><span class="line">    event.<span class="title function_">preventDefault</span>(); <span class="comment">// 阻止链接的默认行为</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>动态生成的元素：</strong> 如果你使用 JavaScript 动态生成页面元素，事件委派非常有用。无论何时添加新元素，它们都可以立即继承父元素上的事件处理程序。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">  &lt;!-- 动态生成的按钮 --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>);</span><br><span class="line">container.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">className</span> === <span class="string">&#x27;dynamic-button&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理动态生成按钮的点击事件</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态生成按钮</span></span><br><span class="line"><span class="keyword">var</span> button = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">button.<span class="property">textContent</span> = <span class="string">&#x27;Click Me&#x27;</span>;</span><br><span class="line">button.<span class="property">className</span> = <span class="string">&#x27;dynamic-button&#x27;</span>;</span><br><span class="line">container.<span class="title function_">appendChild</span>(button);</span><br></pre></td></tr></table></figure></li><li><p><strong>表单元素：</strong> 对于表单中的多个输入字段，你可以将事件处理程序添加到表单元素上，然后使用事件委派来处理各种输入字段的事件，例如输入验证或提交操作。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=<span class="string">&quot;myForm&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Password&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myForm = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myForm&#x27;</span>);</span><br><span class="line">myForm.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  event.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="comment">// 处理表单提交事件，验证表单字段并执行提交操作</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>事件对象</title>
      <link href="/posts/131e447c.html"/>
      <url>/posts/131e447c.html</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>事件对象是JavaScript中与事件相关的特殊对象，它包含有关事件的详细信息，例如事件类型、触发元素、鼠标位置等。事件对象通常在事件触发时由浏览器自动生成，并作为参数传递给事件处理函数。</p><h3 id="个人对这个概念的理解"><a href="#个人对这个概念的理解" class="headerlink" title="个人对这个概念的理解"></a>个人对这个概念的理解</h3><p>当您在网页上点击按钮、移动鼠标、敲击键盘或执行其他交互操作时，浏览器会创建一个特殊的对象，这就是<strong>事件对象</strong>。这个对象包含有关发生的事件的所有信息。</p><p>事件对象就像一本小册子，里面记录了事件的一切。它告诉您发生的是什么类型的事件（例如，点击、鼠标移动、键盘按下等），事件发生在哪个元素上，以及事件的一些其他细节，比如鼠标的位置或按下的键。</p><p>举个例子，当您点击一个按钮时，浏览器会创建一个事件对象，这个对象会告诉您：“嘿，有人点击了这个按钮，按钮的名字是‘OK’，发生在页面的顶部，鼠标在按钮的坐标是（100, 50）”。</p><h2 id="事件对象的属性和方法"><a href="#事件对象的属性和方法" class="headerlink" title="事件对象的属性和方法"></a>事件对象的属性和方法</h2><ol><li><strong><code>type</code>属性</strong>：表示事件的类型，例如”click”、”keydown”等。</li><li><strong><code>target</code>属性</strong>：表示触发事件的元素，即事件的目标元素。</li><li><strong><code>currentTarget</code>属性</strong>：表示当前正在执行事件处理程序的元素，通常是绑定了事件处理程序的元素。</li><li><strong><code>eventPhase</code>属性</strong>：表示事件的当前阶段，可能是捕获阶段、目标阶段或冒泡阶段。</li><li><strong><code>preventDefault()</code>方法</strong>：用于取消事件的默认行为。例如，在链接上点击时，可以使用它来阻止浏览器跳转到链接的URL。</li><li><strong><code>stopPropagation()</code>方法</strong>：用于停止事件在DOM树中的传播，阻止事件进一步冒泡或捕获。</li><li><strong><code>stopImmediatePropagation()</code>方法</strong>：与<code>stopPropagation()</code>类似，但还可以阻止相同元素上其他事件处理程序的执行。</li><li><strong><code>bubbles</code>属性</strong>：表示事件是否冒泡。如果为<code>true</code>，则事件会在触发元素后向上传播到DOM树。</li><li><strong><code>clientX</code>和<code>clientY</code>属性</strong>：表示事件发生时鼠标指针的水平和垂直位置。</li><li><strong><code>keyCode</code>属性</strong>：对于键盘事件，表示按下的键的键码。</li></ol><h2 id="事件对象的用法"><a href="#事件对象的用法" class="headerlink" title="事件对象的用法"></a>事件对象的用法</h2><ol><li><p><strong>访问事件类型：</strong> 你可以使用事件对象的 <code>type</code> 属性来确定事件的类型。例如，如果你想知道用户点击了哪个按钮，你可以检查事件对象的 <code>type</code> 属性是否等于 “click”。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">type</span> === <span class="string">&#x27;click&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理点击事件</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>阻止默认行为：</strong> 使用事件对象的 <code>preventDefault()</code> 方法可以阻止事件的默认行为。例如，你可以在链接的点击事件处理程序中使用它来阻止链接跳转到新页面。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  event.<span class="title function_">preventDefault</span>(); <span class="comment">// 阻止链接的默认行为</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>取消事件冒泡：</strong> 通过调用事件对象的 <code>stopPropagation()</code> 方法，你可以阻止事件冒泡，即事件不会向上层元素传播。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  event.<span class="title function_">stopPropagation</span>(); <span class="comment">// 阻止事件冒泡</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>获取目标元素：</strong> 事件对象的 <code>target</code> 属性指向触发事件的元素。你可以使用它来访问或操作触发事件的元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> clickedElement = event.<span class="property">target</span>;</span><br><span class="line">  <span class="comment">// 使用 clickedElement 进行操作</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>鼠标位置：</strong> 如果事件与鼠标有关，你可以使用事件对象的 <code>clientX</code> 和 <code>clientY</code> 属性获取鼠标在视口中的坐标位置。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> mouseX = event.<span class="property">clientX</span>;</span><br><span class="line">  <span class="keyword">var</span> mouseY = event.<span class="property">clientY</span>;</span><br><span class="line">  <span class="comment">// 处理鼠标移动事件</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>键盘事件：</strong> 如果事件与键盘有关，你可以使用事件对象的 <code>keyCode</code> 或 <code>key</code> 属性来获取按下的键的信息。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keydown&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> keyCode = event.<span class="property">keyCode</span>;</span><br><span class="line">  <span class="keyword">var</span> key = event.<span class="property">key</span>;</span><br><span class="line">  <span class="comment">// 处理键盘事件</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>作用域和作用域链</title>
      <link href="/posts/d146bed3.html"/>
      <url>/posts/d146bed3.html</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><ol><li><p><strong>作用域（Scope）</strong>：</p><p>作用域是定义变量和函数的可见性和生命周期的规则集合。在JavaScript中，有两种主要类型的作用域：</p><ul><li><strong>全局作用域（Global Scope）</strong>：全局作用域是在整个JavaScript程序中可访问的最外层作用域。在浏览器中，全局作用域通常是指<code>window</code>对象。全局作用域中定义的变量和函数可以在整个程序中访问。</li><li><strong>局部作用域（Local Scope）</strong>：局部作用域是在函数内部定义的作用域，它仅在函数内部可访问。这意味着在函数外部无法访问函数内部的变量，但在函数内部可以访问外部作用域（包括全局作用域）的变量。</li></ul></li><li><p><strong>作用域链（Scope Chain）</strong>：</p><p>作用域链是一种用于查找变量和函数的机制，它是由嵌套的作用域构成的链条。当在某个作用域中引用一个变量或函数时，JavaScript引擎会首先在当前作用域中查找，如果找不到，就会沿着作用域链向外层作用域查找，直到找到匹配的变量或函数或达到全局作用域为止。</p><p>这个过程确保了内部作用域可以访问外部作用域的变量，但外部作用域无法访问内部作用域的变量。这种嵌套的作用域链使得变量名可以在不同的作用域中重复使用而不会发生冲突。</p></li></ol><h2 id="作用域的分类"><a href="#作用域的分类" class="headerlink" title="作用域的分类"></a>作用域的分类</h2><ol><li><p><strong>全局作用域</strong>：</p><p>在全局作用域中声明的变量可以在整个程序中访问。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> globalVar = <span class="string">&quot;I&#x27;m global&quot;</span>; <span class="comment">// 全局作用域</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">globalFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(globalVar); <span class="comment">// 可以在函数中访问全局变量</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">globalFunction</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalVar); <span class="comment">// 可以在全局范围外访问全局变量</span></span><br></pre></td></tr></table></figure></li><li><p><strong>函数作用域</strong>：</p><p>在函数作用域中声明的变量只能在函数内部访问。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">functionScopeExample</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> localVar = <span class="string">&quot;I&#x27;m local&quot;</span>; <span class="comment">// 函数作用域内的变量</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(localVar); <span class="comment">// 可以在函数内部访问局部变量</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">functionScopeExample</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(localVar); <span class="comment">// 会引发错误，局部变量在函数外不可见</span></span><br></pre></td></tr></table></figure></li><li><p><strong>块级作用域</strong>：</p><p>使用<code>let</code>或<code>const</code>可以创建块级作用域。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">blockScopeExample</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> blockVar = <span class="string">&quot;I&#x27;m in a block&quot;</span>; <span class="comment">// 块级作用域内的变量</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(blockVar); <span class="comment">// 可以在块内部访问块级变量</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(blockVar); <span class="comment">// 会引发错误，块级变量在块外不可见</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">blockScopeExample</span>();</span><br></pre></td></tr></table></figure></li><li><p><strong>闭包作用域</strong>：</p><p>闭包允许内部函数访问外部函数的作用域。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outerFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> outerVar = <span class="string">&quot;I&#x27;m outer&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">innerFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(outerVar); <span class="comment">// 内部函数可以访问外部函数的作用域</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> innerFunction;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> closure = <span class="title function_">outerFunction</span>();</span><br><span class="line"><span class="title function_">closure</span>(); <span class="comment">// 调用闭包函数，它仍然可以访问outerVar</span></span><br></pre></td></tr></table></figure></li><li><p><strong>模块作用域</strong>：</p><p>在模块中，变量和函数默认是私有的，除非明确导出。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// module.js</span></span><br><span class="line"><span class="keyword">var</span> moduleVar = <span class="string">&quot;I&#x27;m in a module&quot;</span>; <span class="comment">// 模块作用域内的变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">moduleFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(moduleVar); <span class="comment">// 可以在模块内部访问模块变量</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; moduleVar, moduleFunction &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; moduleVar, moduleFunction &#125; <span class="keyword">from</span> <span class="string">&#x27;./module.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(moduleVar); <span class="comment">// 可以在主程序中访问导出的模块变量</span></span><br><span class="line"><span class="title function_">moduleFunction</span>(); <span class="comment">// 可以在主程序中调用导出的模块函数</span></span><br></pre></td></tr></table></figure></li></ol><p>​    </p><h2 id="对于作用域链的个人理解"><a href="#对于作用域链的个人理解" class="headerlink" title="对于作用域链的个人理解"></a>对于作用域链的个人理解</h2><p>​    作用域链遵循就近原则（也称为词法作用域），这意味着在查找变量或函数时，JavaScript引擎首先在当前作用域内查找，如果找到匹配的变量或函数，就会停止搜索并使用该变量或函数。只有当在当前作用域找不到时，JavaScript引擎才会沿着作用域链向外层作用域查找，直到找到匹配的变量或函数，或者达到全局作用域为止。</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>函数&amp;&amp;高阶函数</title>
      <link href="/posts/a8458977.html"/>
      <url>/posts/a8458977.html</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a><strong>概念</strong></h2><p><code>函数的概念</code>：可执行代码块，可以用来存储变量、作为参数传递给其他函数</p><p><code>高阶函数的概念</code>:接收一个或多个函数作为参数，返回值也是函数，也就是一个返回函数的函数</p><h2 id="对于函数和高阶函数其他的理解"><a href="#对于函数和高阶函数其他的理解" class="headerlink" title="对于函数和高阶函数其他的理解"></a><strong>对于函数和高阶函数其他的理解</strong></h2><p><code>函数就像工具：</code></p><ul><li>函数就像你工具箱里的一把锤子或螺丝刀，用于执行特定的任务。你可以把一些东西放进去（就像函数的参数），然后它会给你一个结果（就像函数的返回值）。</li><li>例如，你可以编写一个函数来把两个数字相加，就像使用一把加法器一样。你输入两个数字，函数返回它们的和。</li></ul><p><code>高阶函数就像更强大的工具：</code></p><ul><li>高阶函数就像你的工具箱里的多功能工具，它可以接受不同的附件或其他工具，或者甚至可以制造出新的工具。</li><li>例如，你可以创建一个高阶函数，它可以接受一个函数作为参数，并使用它来执行某些任务。这就像你的多功能工具可以接受不同的头部附件来完成不同的工作一样。</li></ul><h2 id="高阶函数和闭包的一些简单的区别"><a href="#高阶函数和闭包的一些简单的区别" class="headerlink" title="高阶函数和闭包的一些简单的区别"></a><strong>高阶函数和闭包的一些简单的区别</strong></h2><p><strong>高阶函数</strong>：就像是一个”函数的朋友”，它能够接受其他函数作为礼物，并且可以送出函数作为礼物。这意味着它可以让你将函数当做工具来操作，就像玩具工具箱一样。高阶函数常常用来处理一堆操作相似的任务，就像一次性处理一组玩具。</p><p><strong>闭包</strong>：闭包就像是一个”函数记忆者”，它记得一些事情，即使别人都忘记了。这些事情通常是关于数据或变量的，它可以隐藏并保护这些数据，只有它自己能够访问。闭包通常用于创建私密的存储空间，就像一个小保险柜，只有你知道密码。</p><p>所以，高阶函数主要关注函数作为操作工具，而闭包主要关注函数的记忆和数据隐私。</p><h3 id="函数的一些分类"><a href="#函数的一些分类" class="headerlink" title="函数的一些分类"></a><strong>函数的一些分类</strong></h3><ul><li><p>常规函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> a + b; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>匿名函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiply = <span class="keyword">function</span> (<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>箭头函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//两个参数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">divide</span> = (<span class="params">x, y</span>) =&gt; x / y;</span><br><span class="line"><span class="comment">//一个参数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">a</span>) =&gt; a+<span class="number">9</span>;</span><br><span class="line"><span class="comment">//无参</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">x</span> = (<span class="params"></span>)=&gt;&#123;&#125;;</span><br></pre></td></tr></table></figure></li><li><p>高阶函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">operate</span>(<span class="params">a, b, operation</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">operation</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">operate</span>(<span class="number">5</span>, <span class="number">3</span>, <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y);</span><br></pre></td></tr></table></figure></li></ul><ul><li>闭包</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> ++count;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="高阶函数的一些实例"><a href="#高阶函数的一些实例" class="headerlink" title="高阶函数的一些实例"></a>高阶函数的一些实例</h2><h3 id="1-map函数"><a href="#1-map函数" class="headerlink" title="1. map函数"></a>1. <code>map</code>函数</h3><p><code>map</code>函数用于将数组中的每个元素映射到一个新的数组，通常用于转换数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> doubled = numbers.<span class="title function_">map</span>(</span><br><span class="line">    <span class="function">(<span class="params">num</span>) =&gt;</span> num * <span class="number">2</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">// doubled 现在是 [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure><p>实际开发中，你可以使用<code>map</code>来将数据从一种形式转换为另一种形式，例如将数据库查询结果映射为前端UI组件所需的格式。</p><h3 id="2-filter函数"><a href="#2-filter函数" class="headerlink" title="2. filter函数"></a>2. <code>filter</code>函数</h3><p><code>filter</code>函数用于从数组中筛选出满足条件的元素，通常用于数据过滤。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> evenNumbers = numbers.<span class="title function_">filter</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>);</span><br><span class="line"><span class="comment">// evenNumbers 现在是 [2, 4]</span></span><br></pre></td></tr></table></figure><p>在实际开发中，你可以使用<code>filter</code>来过滤数据，例如从用户列表中筛选出活跃用户或根据条件过滤商品列表。</p><h3 id="3-reduce函数"><a href="#3-reduce函数" class="headerlink" title="3. reduce函数"></a>3. <code>reduce</code>函数</h3><p><code>reduce</code>函数用于累积数组中的元素，通常用于聚合数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sum = numbers.<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, num</span>) =&gt;</span> acc + num, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// sum 现在是 15</span></span><br></pre></td></tr></table></figure><p>在实际开发中，你可以使用<code>reduce</code>来计算数组中的总和、平均值、最大值等聚合操作。</p><h3 id="4-forEach函数"><a href="#4-forEach函数" class="headerlink" title="4. forEach函数"></a>4. <code>forEach</code>函数</h3><p><code>forEach</code>函数用于遍历数组的每个元素，通常用于执行副作用（例如，打印日志或修改全局状态）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numbers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 依次输出 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure><p>在实际开发中，你可以使用<code>forEach</code>来执行需要对每个元素进行操作的任务，例如在UI中更新元素或发送HTTP请求。</p><h3 id="5-find和findIndex函数"><a href="#5-find和findIndex函数" class="headerlink" title="5. find和findIndex函数"></a>5. <code>find</code>和<code>findIndex</code>函数</h3><p><code>find</code>函数用于查找数组中满足条件的第一个元素，而<code>findIndex</code>函数用于查找数组中满足条件的第一个元素的索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> users = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;Bob&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;Charlie&quot;</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = users.<span class="title function_">find</span>(<span class="function">(<span class="params">u</span>) =&gt;</span> u.<span class="property">id</span> === <span class="number">2</span>);</span><br><span class="line"><span class="comment">// user 现在是 &#123; id: 2, name: &quot;Bob&quot; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> index = users.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">u</span>) =&gt;</span> u.<span class="property">id</span> === <span class="number">2</span>);</span><br><span class="line"><span class="comment">// index 现在是 1</span></span><br></pre></td></tr></table></figure><h2 id="高阶函数的一些复杂操作"><a href="#高阶函数的一些复杂操作" class="headerlink" title="高阶函数的一些复杂操作"></a>高阶函数的一些复杂操作</h2><p><strong>数组操作</strong>：高阶函数经常与数组操作方法（如<code>map</code>、<code>filter</code>、<code>reduce</code>）一起使用，以便对数据进行处理和转换。例如，你可以使用 <code>map</code> 来对数组中的每个元素应用一个函数，并使用 <code>filter</code> 来筛选出满足条件的元素，然后使用 <code>reduce</code> 来聚合数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> doubledAndFilteredSum = numbers</span><br><span class="line">  .<span class="title function_">map</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> num * <span class="number">2</span>)</span><br><span class="line">  .<span class="title function_">filter</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> num % <span class="number">4</span> === <span class="number">0</span>)</span><br><span class="line">  .<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, num</span>) =&gt;</span> acc + num, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><strong>事件处理</strong>：在前端开发中，高阶函数常常与事件处理函数一起使用。例如，你可以将一个高阶函数作为事件监听器，用来处理多个不同的事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Clicked at (<span class="subst">$&#123;event.clientX&#125;</span>, <span class="subst">$&#123;event.clientY&#125;</span>)`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, handleClick);</span><br></pre></td></tr></table></figure><p><strong>Promise和异步操作</strong>：在处理异步操作时，高阶函数非常有用。你可以创建一个函数，该函数返回一个Promise，然后使用<code>then</code>方法来处理Promise的解决值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个高阶函数，用于获取远程数据并返回一个Promise</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fetchData</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="comment">// 使用fetch API发起GET请求，返回一个Promise</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fetch</span>(url)</span><br><span class="line">    <span class="comment">// 解析响应为JSON，也返回一个Promise</span></span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用fetchData函数，传递远程API的URL</span></span><br><span class="line"><span class="title function_">fetchData</span>(<span class="string">&quot;https://api.example.com/data&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 当Promise解决时，处理响应的数据</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 捕获任何可能的错误或拒绝的Promise</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p><strong>路由和中间件</strong>：在服务器端开发中，高阶函数通常用于路由处理和中间件。你可以编写一个高阶函数，用来处理请求和响应，然后将它们传递给下一个处理程序。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loggerMiddleware</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Received request for: <span class="subst">$&#123;req.url&#125;</span>`</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(loggerMiddleware);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>原型链</title>
      <link href="/posts/bf8cf30.html"/>
      <url>/posts/bf8cf30.html</url>
      
        <content type="html"><![CDATA[<p><strong>一个简单的原型链的实例</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">greet</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name, grade</span>) &#123;</span><br><span class="line">    <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置Student.prototype的原型为Person.prototype</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Student</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">study</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is studying.`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">student.<span class="title function_">study</span>();</span><br></pre></td></tr></table></figure><p><strong>设置子类原型对象实现继承的两种方式</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Child</span>;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br></pre></td></tr></table></figure><p>建议使用第一种，第二种容易产生bug</p><p><strong>注意点和潜在的问题</strong></p><p>（1）<strong>构造函数的属性和方法不应在原型上定义：</strong> 如果在构造函数内部定义属性和方法，而不是在原型上，那么这些属性和方法将不会被子类继承。只有在原型上定义的属性和方法才能被继承。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;Parent&#x27;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHello</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello from <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">age</span> = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> child = <span class="keyword">new</span> <span class="title class_">Child</span>();</span><br><span class="line">child.<span class="title function_">sayHello</span>(); <span class="comment">// 输出 &quot;Hello from Parent&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="property">age</span>); <span class="comment">// 输出 30</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，<code>sayHello</code> 是在构造函数内部定义的，而不是在原型上，所以它不会被子类 <code>Child</code> 继承。</p><p>（2）<strong>避免使用构造函数创建原型对象：</strong> 不建议使用 <code>Child.prototype = new Parent();</code> 这种方式，因为它可能会引发一些问题，特别是当父类构造函数需要参数时。更好的做法是使用 <code>Object.create</code> 创建原型对象，如 <code>Child.prototype = Object.create(Parent.prototype);</code>。</p><p>（3）<strong>修复子类的 constructor 属性：</strong> 在使用原型链继承时，通常会导致子类的 <code>constructor</code> 属性指向父类。为了修复这个问题，你应该手动将子类的 <code>constructor</code> 设置为正确的构造函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Child</span>;</span><br></pre></td></tr></table></figure><p>（4）<strong>避免在原型上修改引用类型的属性：</strong> 如果在原型上修改了一个引用类型（如数组或对象）的属性，这个修改会影响到所有继承自原型的对象，这可能会导致意外的行为。最好只在实例上修改引用类型的属性，以避免共享问题。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code<span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">colors</span> = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> child1 = <span class="keyword">new</span> <span class="title class_">Child</span>();</span><br><span class="line"><span class="keyword">const</span> child2 = <span class="keyword">new</span> <span class="title class_">Child</span>();</span><br><span class="line"></span><br><span class="line">child1.<span class="property">colors</span>.<span class="title function_">push</span>(<span class="string">&#x27;yellow&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child1.<span class="property">colors</span>); <span class="comment">// 输出 [&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;yellow&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child2.<span class="property">colors</span>); <span class="comment">// 输出 [&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;yellow&#x27;]</span></span><br></pre></td></tr></table></figure><p>（5）<strong>考虑使用其他继承模式：</strong> 原型链继承有其局限性，特别是在处理复杂继承关系和防止共享状态时。在某些情况下，可能更适合使用其他继承模式，如组合继承、寄生组合继承或类继承（ES6 中的 <code>class</code> 关键字）。</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>对象和数组的解构</title>
      <link href="/posts/b19a1b91.html"/>
      <url>/posts/b19a1b91.html</url>
      
        <content type="html"><![CDATA[<h2 id="解构的概念"><a href="#解构的概念" class="headerlink" title="解构的概念"></a>解构的概念</h2><p>JavaScript中的解构是一种从复杂数据结构中提取值并赋值给变量的技巧。这使得我们可以轻松地访问和使用数据结构的特定部分，而不必手动逐个提取它们。<br><strong>简单的理解：</strong></p><p>想象一下你有一个包裹着很多礼物的盒子，每个礼物都有不同的名称。现在你想把这些礼物一个个取出来，但你不想破坏盒子。解构就像使用一种神奇的方式，可以将这些礼物一个个取出并放到不同的袋子中，而盒子仍然完好无损。</p><h2 id="解构的语法"><a href="#解构的语法" class="headerlink" title="解构的语法"></a>解构的语法</h2><ul><li><p><code>&#123;&#125;</code> 来提取对象中的属性</p></li><li><p>方括号 <code>[]</code> 来提取数组中的元素</p></li><li><p>等号 <code>=</code> 将提取的值赋给新变量</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个包含个人信息的对象</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&#x27;John&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;Doe&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用解构提取对象属性并赋值给变量</span></span><br><span class="line"><span class="keyword">const</span> &#123; firstName, lastName, age &#125; = person;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName); <span class="comment">// 输出 &#x27;John&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lastName);  <span class="comment">// 输出 &#x27;Doe&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);   </span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个包含数字的数组</span></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用解构提取数组元素并赋值给变量a、b、c</span></span><br><span class="line"><span class="keyword">const</span> [a, b, , c] = numbers;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 输出 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 输出 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 输出 4</span></span><br></pre></td></tr></table></figure><h2 id="不同情况下的解构"><a href="#不同情况下的解构" class="headerlink" title="不同情况下的解构"></a>不同情况下的解构</h2><ol><li><p><strong>对象解构</strong>：</p><ul><li><strong>从函数参数中提取属性</strong>：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个名为printPersonDetails的函数，该函数接受一个包含firstName和lastName属性的对象作为参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printPersonDetails</span>(<span class="params">&#123; firstName, lastName &#125;</span>) &#123;</span><br><span class="line">  <span class="comment">// 使用console.log打印firstName的值</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`First Name: <span class="subst">$&#123;firstName&#125;</span>`</span>);</span><br><span class="line">  <span class="comment">// 使用console.log打印lastName的值</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Last Name: <span class="subst">$&#123;lastName&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个包含firstName和lastName属性的person对象，用于存储个人信息</span></span><br><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">firstName</span>: <span class="string">&#x27;John&#x27;</span>, <span class="attr">lastName</span>: <span class="string">&#x27;Doe&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用printPersonDetails函数并传递person对象作为参数</span></span><br><span class="line"><span class="title function_">printPersonDetails</span>(person);</span><br></pre></td></tr></table></figure><ul><li><p><strong>从API响应提取数据</strong>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> apiResponse = &#123; <span class="attr">data</span>: &#123; <span class="attr">user</span>: <span class="string">&#x27;Alice&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; user, age &#125; = apiResponse.<span class="property">data</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>数组解构</strong>：</p><ul><li><p><strong>交换变量的值</strong>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line">[a, b] = [b, a];</span><br></pre></td></tr></table></figure></li><li><p><strong>获取数组元素</strong>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> [firstColor, secondColor] = colors;<span class="comment">//其中的firstColor只是一个参数，用a或者b代替也是一样的</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>函数返回多个值</strong>：</p><p>使用对象或数组解构可以轻松返回多个值。</p><ul><li><p><strong>返回多个值的函数</strong>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getPersonDetails</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">firstName</span>: <span class="string">&#x27;John&#x27;</span>, <span class="attr">lastName</span>: <span class="string">&#x27;Doe&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; firstName, lastName, age &#125; = <span class="title function_">getPersonDetails</span>();</span><br></pre></td></tr></table></figure></li><li><p><strong>返回多个值的函数</strong>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRGBColor</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [r, g, b] = <span class="title function_">getRGBColor</span>();</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>函数参数默认值</strong>：</p><p>您可以在函数参数中使用解构为参数设置默认值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">&#123; name = <span class="string">&#x27;Guest&#x27;</span>, age = <span class="number">0</span> &#125;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>! You are <span class="subst">$&#123;age&#125;</span> years old.`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">greet</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;); <span class="comment">// 输出 &quot;Hello, Alice! You are 30 years old.&quot;</span></span><br><span class="line"><span class="title function_">greet</span>(&#123;&#125;); <span class="comment">// 输出 &quot;Hello, Guest! You are 0 years old.&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>深层解构</strong>：</p><p>您可以使用嵌套解构访问嵌套对象或数组中的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>, <span class="attr">info</span>: &#123; <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">city</span>: <span class="string">&#x27;New York&#x27;</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; name, <span class="attr">info</span>: &#123; age, city &#125; &#125; = person;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>对象的序列化</title>
      <link href="/posts/37034df3.html"/>
      <url>/posts/37034df3.html</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>对象的序列化是将对象转换为一种可传输或可存储的格式，以便在需要时可以重新还原为原始对象。</p><h3 id="个人对这个概念的理解："><a href="#个人对这个概念的理解：" class="headerlink" title="个人对这个概念的理解："></a><strong>个人对这个概念的理解</strong>：</h3><p><strong>对象的序列化</strong>就像将一个对象变成一个字符串一样，就好像你把一堆积木拼好后，拍下一张照片，把照片存起来一样。这个字符串可以轻松地被传输给其他地方，就像你可以把照片发送给你的朋友一样。</p><p>然后，<strong>反序列化</strong>就像你的朋友收到了你的照片，可以根据照片上的信息重新组装出相同的积木。就像他们可以看到照片上有哪些积木，然后用同样的积木重新构建出来。</p><h2 id="对象序列化的步骤："><a href="#对象序列化的步骤：" class="headerlink" title="对象序列化的步骤："></a><strong>对象序列化的步骤</strong>：</h2><ol><li><p><strong>创建对象</strong>：首先，您需要创建一个JavaScript对象，该对象可以包含各种属性和值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> student = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">courses</span>: [<span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;History&#x27;</span>, <span class="string">&#x27;English&#x27;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p><strong>序列化对象</strong>：将JavaScript对象序列化为字符串或其他格式。最常见的是将对象转换为JSON字符串，可以使用<code>JSON.stringify()</code>方法来执行此操作。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> serializedStudent = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(student);</span><br></pre></td></tr></table></figure></li><li><p><strong>传输或存储数据</strong>：将序列化后的字符串传输到网络上的其他系统，存储在本地存储中，或以其他方式传递和存储数据。</p></li><li><p><strong>反序列化数据</strong>：当需要使用数据时，可以将序列化的字符串反序列化为原始JavaScript对象。通常，使用<code>JSON.parse()</code>方法来执行此操作。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> receivedData = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;Bob&quot;,&quot;age&quot;:22,&quot;courses&quot;:[&quot;Physics&quot;,&quot;Chemistry&quot;]&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> deserializedStudent = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(receivedData);</span><br></pre></td></tr></table></figure><p><code>deserializedStudent</code> 现在包含了反序列化后的 JavaScript 对象，我们可以像访问常规对象一样使用它：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deserializedStudent.<span class="property">name</span>);     <span class="comment">// 输出 &#x27;Bob&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deserializedStudent.<span class="property">age</span>);      <span class="comment">// 输出 22</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deserializedStudent.<span class="property">courses</span>);  <span class="comment">// 输出 [&#x27;Physics&#x27;, &#x27;Chemistry&#x27;]</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>序列化是将原本是数组或者对象的里面的数据转化为json格式的数据（<code>JSON.stringify()</code>方法）</p><p>反序列化，就是将JSON里面的数据，转换为数组（<code>JSON.parse()</code>方法）</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>闭包</title>
      <link href="/posts/f9636392.html"/>
      <url>/posts/f9636392.html</url>
      
        <content type="html"><![CDATA[<p><strong>闭包的概念</strong></p><p> 当一个内部函数（嵌套函数）引用了其外部函数的变量，即使外部函数已经执行完毕，这个内部函数仍然可以访问这些外部变量。这种函数和其相关的作用域组合就是闭包。</p><p><code>个人对于概念的简单理解：</code></p><hr><p>想象一下你有一个盒子，里面装着一些东西。这个盒子就是一个函数，而里面的东西就是函数内部的变量。现在，你把这个盒子交给了别人，但是你希望里面的东西不被随便拿走，只有在你允许的情况下才能使用。</p><p>举个实际的例子，假设你有一个计数器，你希望其他人可以增加或减少这个计数器的值，但不能直接访问或修改它。你可以使用闭包来创建一个函数，这个函数包含计数器变量，并返回一些可以操作计数器的方法。这样，其他人只能通过这些方法来改变计数器的值，而无法直接访问它。</p><p>总之，闭包就像一个保险柜，可以安全地存放你的数据和功能，只有在你允许的情况下才能使用。这种方式使你的代码更加安全和可控。</p><hr><p><strong>闭包的一些实例</strong></p><p>1.计数器</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">decrement</span>(<span class="params"></span>) &#123;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123; increment, decrement &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> counter = <span class="title function_">createCounter</span>();</span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 输出 1</span></span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 输出 2</span></span><br><span class="line">counter.<span class="title function_">decrement</span>(); <span class="comment">// 输出 1</span></span><br></pre></td></tr></table></figure><p>2.私有变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPerson</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">getAge</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">increaseAge</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            age++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="title function_">createPerson</span>(<span class="string">&#x27;Alice&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">getName</span>()); <span class="comment">// 输出 &#x27;Alice&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">getAge</span>()); <span class="comment">// 输出 0</span></span><br><span class="line">person.<span class="title function_">increaseAge</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">getAge</span>()); <span class="comment">// 输出 1</span></span><br></pre></td></tr></table></figure><p>3.模块化编程</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myModule = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> privateData = <span class="string">&#x27;I am private&#x27;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getPrivateData</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> privateData;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setPrivateData</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        privateData = value;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">get</span>: getPrivateData,</span><br><span class="line">        <span class="attr">set</span>: setPrivateData</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myModule.<span class="title function_">get</span>()); <span class="comment">// 输出 &#x27;I am private&#x27;</span></span><br><span class="line">myModule.<span class="title function_">set</span>(<span class="string">&#x27;New data&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myModule.<span class="title function_">get</span>()); <span class="comment">// 输出 &#x27;New data&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>闭包的生命周期</strong></p><pre><code>1.  闭包在外部函数调用时产生，外部函数每次调用都会产生一个全新的闭包（举一个简单的例子便于理解，闭包就像一个资源库，外部函数就相当于这个资源库的钥匙，但是每把钥匙对应一个全新的拷贝资源库`（闭包只能调用，只能让你使用里面的方法，你不可以直接修改里面的方法）`)1.  在内部函数丢失时销毁(内部函数被垃圾回收了，闭包才会消失)</code></pre><p><strong>使用闭包的一个注意事项</strong></p><p>​    闭包主要用来隐藏一些不希望被外部访问的内容（使用闭包要需要占用一定的内存空间）</p><p>​    相较于类来说，闭包比较浪费内存空间（类可以使用原型而闭包不能）</p><p>​            需要执行次数较少时，使用闭包</p><p>​            需要大量创建实例时，使用类</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3精简版</title>
      <link href="/posts/8efb004d.html"/>
      <url>/posts/8efb004d.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-vue3"><a href="#1-vue3" class="headerlink" title="1.vue3"></a>1.vue3</h1><h2 id="1-1-vue3认识"><a href="#1-1-vue3认识" class="headerlink" title="1.1 vue3认识"></a>1.1 vue3认识</h2><p>vue3提供了更好的性能，更小的捆绑包体积，更好的TypeScript集成，用于处理大规模用例的新的API</p><p>(1)vue3比vue2更快</p><p>(2)vue3加入typescript的支持</p><p>(3)vue3没有beforecreate，created ，用setup取代</p><p>(4)vue3的组合式API和vue2的选项式API同时存在</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;&#125;</span><br><span class="line">    <span class="attr">computed</span>:&#123;&#125;</span><br><span class="line"><span class="attr">watch</span>:&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------------------</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 响应式状态</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 用来修改状态、触发更新的函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      count.<span class="property">value</span>++</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 生命周期钩子</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`计数器初始值为 <span class="subst">$&#123;count.value&#125;</span>。`</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>（5）代码更利于维护  vue2—》vue3</p><h2 id="1-2-搭建脚手架工程"><a href="#1-2-搭建脚手架工程" class="headerlink" title="1.2 搭建脚手架工程"></a>1.2 搭建脚手架工程</h2><p>如果以前安装过的 先卸载脚手架</p><p>npm uninstall vue-cli -g</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><p>安装好之后，通过</p><p>vue -V 查看版本</p><p>构建项目</p><p>vue create 项目名 回车</p><p>cd 项目名</p><p>npm run serve 运行项目即可</p><p><img src="../image/Vue3精简版/image-20231022223638891.png" alt="image-20231022223638891"></p><p>浏览器访问:</p><p><img src="../image/Vue3精简版/image-20231022223723312.png" alt="image-20231022223723312"></p><p>文件夹认识</p><p><img src="../image/Vue3精简版/image-20231022223748412.png" alt="image-20231022223748412"></p><h2 id="1-3-vue3的setup函数"><a href="#1-3-vue3的setup函数" class="headerlink" title="1.3 vue3的setup函数"></a>1.3 vue3的setup函数</h2><p>setup函数：</p><p>(1)setup函数是组合式API的入口</p><p>(2)setup函数是启动之后自动运行的函数</p><p>修改HelloWorld.vue里面内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    1222222</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="title function_">setup</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setup运行了&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3精简版/image-20231022223819025.png" alt="image-20231022223819025"></p><p>(3)定义的变量和常量，方法 都放到setup函数里面去,最后都要return出去，才能在视图层中使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123; msg &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="title function_">setup</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setup运行了&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">let</span> msg = <span class="string">&#x27;测试1111&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">let</span> arr = [<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;oooooooooo&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">return</span> &#123;msg,arr,test&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-4-ref函数"><a href="#1-4-ref函数" class="headerlink" title="1.4 ref函数"></a>1.4 ref函数</h2><p>使用示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="title function_">ref</span>(<span class="string">&#x27;xxx&#x27;</span>)</span><br></pre></td></tr></table></figure><p>作用：通过ref包裹的数据，成为<strong>响应式的数据</strong>,可以通过 <code>.value</code> 属性获取或修改值。</p><p>说明：</p><p>当ref里面的值发生变化，视图里面更着变化</p><p>ref可以操作<strong>基本类型</strong>，也可以操作复杂类型，比如数组 对象</p><p>操作代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123; msg &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//字符串</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> msg = <span class="title function_">ref</span>(<span class="string">&#x27;测试1111&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//数组</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> arr = <span class="title function_">ref</span>([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> obj = <span class="title function_">ref</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        msg.<span class="property">value</span> = <span class="string">&#x27;hello ts3&#x27;</span> <span class="comment">//这个value是vue3通过proxy生成一个代理对象，然后通过value取值的</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        arr.<span class="property">value</span>[<span class="number">0</span>] = <span class="string">&#x27;10&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        obj.<span class="property">value</span>.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>建议ref操作基本类型 比如 数字 还有 字符串,操作复杂类型 通过reactive</strong></p><h2 id="1-5-reactive函数"><a href="#1-5-reactive函数" class="headerlink" title="1.5 reactive函数"></a>1.5 reactive函数</h2><h3 id="1-5-1-reactive使用"><a href="#1-5-1-reactive使用" class="headerlink" title="1.5.1 reactive使用"></a>1.5.1 reactive使用</h3><p>reactive函数 也是返回一个响应式对象,reactive操作复杂的数据，比如数组和对象. 他返回响应式对象Proxy</p><p>注意: 定义基本普通类型，不能使用reactive,如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"> <span class="comment">//字符串</span></span><br><span class="line"><span class="keyword">let</span> msg = <span class="title function_">reactive</span>(<span class="string">&#x27;测试1111&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3精简版/image-20231022223848849.png" alt="image-20231022223848849"></p><p>测试对象和数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//数组</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> arr = <span class="title function_">reactive</span>([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> obj = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        arr[<span class="number">0</span>] = <span class="string">&#x27;10&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        obj.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><p>reactive可以操作<strong>更深层的对象</strong>,操作对象都建议使用reactive操作</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.pros.a.arr[0]  &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//数组</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> arr = <span class="title function_">reactive</span>([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> obj = <span class="title function_">reactive</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         &#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">age</span>:<span class="number">18</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">pros</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">a</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">arr</span>:[<span class="string">&#x27;我是深层次的数据&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         &#125;&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        arr[<span class="number">0</span>] = <span class="string">&#x27;10&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        obj.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        obj.<span class="property">pros</span>.<span class="property">a</span>.<span class="property">arr</span>[<span class="number">0</span>] = <span class="string">&#x27;数据变化了&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-5-2-ref和reactive区别"><a href="#1-5-2-ref和reactive区别" class="headerlink" title="1.5.2 ref和reactive区别"></a>1.5.2 ref和reactive区别</h3><p>ref 是可以操作基本数据类型和数组，对象类型，<strong>reactive只能操作数组 对象 这种复杂类型</strong>。</p><p>reactive可以操作深层次对象，ref也可以定义数组和对象，ref会自动通过reactive转为<strong>代理proxy对象</strong></p><p>ref操作数据需要.value，reactive不需要。</p><h2 id="1-6-toRef函数"><a href="#1-6-toRef函数" class="headerlink" title="1.6 toRef函数"></a>1.6 toRef函数</h2><p>toRef：它也可以创建一个响应式的数据</p><p>ref的是一种<strong>数据拷贝</strong>,修改响应式数据是<strong>不会影响原始数据</strong></p><p>toRef是本质是引用，和原始数据交换，修改响应式数据会<strong>影响原始数据</strong>.</p><p>例子:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>ref里面的值:&#123;&#123; num1 &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>toRef里面的值:&#123;&#123; obj.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;ref,toRef&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> num = <span class="number">0</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> num1 = <span class="title function_">ref</span>(num)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> obj = &#123;<span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//第一个参数是对象或者数组，第二参数是对象里面的属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> refv=  <span class="title function_">toRef</span>(obj,<span class="string">&#x27;name&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         num1.<span class="property">value</span> ++</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ref元数据值:&#x27;</span>+num) <span class="comment">//不会修改元数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         refv.<span class="property">value</span> = <span class="string">&#x27;zs&#x27;</span> <span class="comment">//会修改元数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toRef元数据值:&#x27;</span>+obj.<span class="property">name</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-7-toRefs函数"><a href="#1-7-toRefs函数" class="headerlink" title="1.7 toRefs函数"></a>1.7 toRefs函数</h2><p><strong>可以批量设置多个数据为响应式数据</strong></p><p><strong>toRefs还可以与其他响应式函数交互,更加方便处理视图层数据</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>---------reactive-------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; obj.age &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>---------toRefs-------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;reactive,toRefs&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> obj = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//toRefs结合reactive使用 </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123;name,age&#125; =<span class="title function_">toRefs</span>(<span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-8-计算属性"><a href="#1-8-计算属性" class="headerlink" title="1.8 计算属性"></a>1.8 计算属性</h2><p>computed计算属性，和vue2变化不大，都是用来监听数据的变化</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; result &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;ref,computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> str1 = <span class="title function_">ref</span>(<span class="string">&#x27;hello&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> str2 = <span class="title function_">ref</span>(<span class="string">&#x27;world&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> result = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123; </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> str1.<span class="property">value</span> + <span class="string">&#x27;-&#x27;</span> +str2.<span class="property">value</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p> computed 的 getter 和 setter</p><p>当 computed 有 getter 和 setter 时，<strong>需要传入一个对象而不是一个函数作为 computed 的参数</strong>，然后在 computed 中实现 get 和 set 两个属性方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">v-model</span>=<span class="string">&quot;result&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;ref,computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> str1 = <span class="title function_">ref</span>(<span class="number">10</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> str2 = <span class="title function_">ref</span>(<span class="number">2</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> result = <span class="title function_">computed</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> str1.<span class="property">value</span> + str2.<span class="property">value</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-9-watch监听器"><a href="#1-9-watch监听器" class="headerlink" title="1.9 watch监听器"></a>1.9 watch监听器</h2><p>用来监听数据的变化</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;watch&#125; <span class="keyword">from</span> vue</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>示例代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">v-model</span>=<span class="string">&quot;p&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">import</span> &#123;ref,watch&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> p = <span class="title function_">ref</span>(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">watch</span>(p,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal,oldVal)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-10-watchEffect"><a href="#1-10-watchEffect" class="headerlink" title="1.10 watchEffect"></a>1.10 watchEffect</h2><p>watchEffect监听的效果，在组件初始化的时候，会执行</p><p>watch可以监听新值和老值，而watchEffect拿不到</p><p><strong>watchEffect不需要监听属性,在里面可以获取</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-text</span>=<span class="string">&#x27;num&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;countFun&quot;</span>&gt;</span>叠加num<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&#x27;stopAll&#x27;</span>&gt;</span>停止监听<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123; ref, watchEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> num = <span class="title function_">ref</span>(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="comment">//监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="keyword">let</span> wfn =<span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---执行监听&#x27;</span>, num.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//停掉监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> <span class="title function_">stopAll</span> = (<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">wfn</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="keyword">let</span> <span class="title function_">countFun</span>= (<span class="params"></span>)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    num.<span class="property">value</span> ++</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="1-11-vue3的生命周期"><a href="#1-11-vue3的生命周期" class="headerlink" title="1.11 vue3的生命周期"></a>1.11 vue3的生命周期</h2><p>`Vue3的组合式API提供了一套新的生命周期钩子，与Vue2中的选项式生命周期钩子有着对应关系。在Composition API中，组合式生命周期钩子有：</p><p>onBeforeMount：对应Vue2中的beforeMount钩子，Vue实例挂载之前调用。</p><p>onMounted：对应Vue2中的mounted钩子，Vue实例挂载完成后调用。</p><p>onBeforeUpdate：对应Vue2中的beforeUpdate钩子，数据更新时调用，但在DOM更新前。</p><p>onUpdated：对应Vue2中的updated钩子，数据更新后在DOM更新后调用。</p><p>onBeforeUnmount：对应Vue2中的beforeDestroy钩子，Vue实例销毁前调用。</p><p>onUnmounted：对应Vue2中的destroyed钩子，Vue实例销毁后调用。</p><p>生命周期4个主要事件</p><blockquote><p>创建—在组件创建时候执行</p><p>挂载-DOM被挂载时执行</p><p>更新-当响应数据被修改时候执行</p><p>销毁-在元素被销毁之前立即执行</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">在<span class="title class_">HelloWorld</span>.<span class="property">vue</span>代码</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-text</span>=<span class="string">&#x27;num&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;countFun&quot;</span>&gt;</span>叠加num<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123; ref, onBeforeMount,onMounted,onBeforeUpdate,onUpdated,onBeforeUnmount,onUnmounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> num = <span class="title function_">ref</span>(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> <span class="title function_">countFun</span> = (<span class="params"></span>)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     num.<span class="property">value</span> ++ </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onBeforeMount</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onBeforeMount&#x27;</span>,<span class="string">&#x27;在挂载开始之前调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//数据请求放到这里面</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onMounted&#x27;</span>,<span class="string">&#x27;在挂载时调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onBeforeUpdate</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onBeforeUpdate&#x27;</span>,<span class="string">&#x27;在更新之前调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onUpdated</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onUpdated&#x27;</span>,<span class="string">&#x27;在更新调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onBeforeUnmount</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onBeforeUnmount&#x27;</span>,<span class="string">&#x27;在销毁前调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">onUnmounted</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onUnmounted&#x27;</span>,<span class="string">&#x27;在销毁时候调用&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>销毁测试: 在App.vue页面 设置隐藏</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>/&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> &gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">HelloWorld</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">setup</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">let</span> isShow = <span class="title function_">ref</span>(<span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="keyword">return</span> &#123;isShow&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-12-组件传值"><a href="#1-12-组件传值" class="headerlink" title="1.12 组件传值"></a>1.12 组件传值</h2><h3 id="1-12-1-父传子"><a href="#1-12-1-父传子" class="headerlink" title="1.12.1 父传子"></a>1.12.1 父传子</h3><p>父组件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span><br><span class="line"><span class="title function_">provide</span>(<span class="string">&#x27;p1&#x27;</span>,p1) <span class="comment">//传</span></span><br></pre></td></tr></table></figure><p>子组件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title function_">inject</span>(<span class="string">&#x27;p1&#x27;</span>)</span><br></pre></td></tr></table></figure><p>完整代码:</p><p>App.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是父组件:&#123;&#123;p1 &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">HelloWorld</span> /&gt;</span></span></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; provide, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> p1 = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">provide</span>(<span class="string">&quot;p1&quot;</span>,p1) <span class="comment">//传</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>HelloWorld.vue子组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是子组件:&#123;&#123; obj &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="keyword">let</span> obj = <span class="title function_">inject</span>(<span class="string">&#x27;p1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>结果:</p><p><img src="../image/Vue3精简版/image-20231022223943126.png" alt="image-20231022223943126"></p><h3 id="1-12-2-子传父"><a href="#1-12-2-子传父" class="headerlink" title="1.12.2 子传父"></a>1.12.2 子传父</h3><p>通过defineEmits</p><p>子组件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是子组件:&#123;&#123; obj &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toParent&quot;</span>&gt;</span>点击我传到父组件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123; inject,defineEmits &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="keyword">let</span> obj = <span class="title function_">inject</span>(<span class="string">&#x27;p1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="comment">//接受回调函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="keyword">let</span> emit = <span class="title function_">defineEmits</span>([<span class="string">&#x27;toParent&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="comment">//使用回调函数传值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="keyword">const</span> <span class="title function_">toParent</span>=(<span class="params"></span>)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="title function_">emit</span>(<span class="string">&#x27;toParent&#x27;</span>,<span class="string">&#x27;我是子数据&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>父组件:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是父组件:&#123;&#123;p1 &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">HelloWorld</span> @<span class="attr">to-parent</span>=<span class="string">&quot;getSon&quot;</span>/&gt;</span></span></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; provide, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> p1 = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">provide</span>(<span class="string">&quot;p1&quot;</span>,p1) <span class="comment">//传</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">getSon</span> = (<span class="params">sonValue</span>)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;父组件获取子组件的Value:&quot;</span>+sonValue)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><hr><hr><h1 id="1-Element-Plus认识"><a href="#1-Element-Plus认识" class="headerlink" title="1.Element Plus认识"></a>1.Element Plus认识</h1><p>基于 Vue 3，面向设计师和开发者的组件库,提供很多组件，可以在项目中使用</p><p>官网地址:</p><p><a href="https://element-plus.org/zh-CN/">https://element-plus.org/zh-CN/</a></p><h1 id="2-搭建vue3-ts脚手架"><a href="#2-搭建vue3-ts脚手架" class="headerlink" title="2.搭建vue3+ts脚手架"></a>2.搭建vue3+ts脚手架</h1><p>（1）创建项目文件夹 ，比如 vue3_02</p><p>   (2) vue create 项目名  </p><p>  (3) 选择最后 手动安装</p><p><img src="../image/Vue3精简版/image-20231022224559557.png" alt="image-20231022224559557"></p><p>(4) 选择对应的组件</p><p><img src="../image/Vue3精简版/image-20231022224615896.png" alt="image-20231022224615896"></p><p>光标到对应行，然后按<strong>空格即可选中</strong>需要的配置</p><p><img src="../image/Vue3精简版/image-20231022224638413.png" alt="image-20231022224638413"></p><p>选中之后 回车:</p><p><img src="../image/Vue3精简版/image-20231022224702774.png" alt="image-20231022224702774"></p><p><strong>注意：下面的lint 先默认选择第一个 回车 选择 Lint on save</strong></p><p><img src="../image/Vue3精简版/image-20231022224717647.png" alt="image-20231022224717647"></p><p>配置好的目录结构:</p><p><img src="../image/Vue3精简版/image-20231022224735335.png" alt="image-20231022224735335"></p><p>启动访问的效果:</p><p><img src="../image/Vue3精简版/image-20231022224750494.png" alt="image-20231022224750494"></p><h1 id="3-ElementPlus安装和配置"><a href="#3-ElementPlus安装和配置" class="headerlink" title="3.ElementPlus安装和配置"></a>3.ElementPlus安装和配置</h1><h2 id="3-1-安装elementplus"><a href="#3-1-安装elementplus" class="headerlink" title="3.1 安装elementplus"></a>3.1 安装elementplus</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><h2 id="3-2-配置elementplus"><a href="#3-2-配置elementplus" class="headerlink" title="3.2  配置elementplus"></a>3.2  配置elementplus</h2><p>在main.ts里面配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br></pre></td></tr></table></figure><p>完整代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"> .<span class="title function_">use</span>(store)</span><br><span class="line"> .<span class="title function_">use</span>(router)</span><br><span class="line"> .<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br><span class="line"> .<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>修改HelloWorld.vue里面的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>浏览器访问:</p><p><img src="../image/Vue3精简版/image-20231022224814165.png" alt="image-20231022224814165"></p><h1 id="4-ElementPlus组件使用"><a href="#4-ElementPlus组件使用" class="headerlink" title="4.ElementPlus组件使用"></a>4.ElementPlus组件使用</h1><h2 id="4-1-Button按钮组件"><a href="#4-1-Button按钮组件" class="headerlink" title="4.1 Button按钮组件"></a>4.1 Button按钮组件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">   </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span>&gt;</span>Plain<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">plain</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">plain</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">plain</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">plain</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">round</span>&gt;</span>Round<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">round</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">round</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">round</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">round</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">round</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Search&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Check&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Message&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Star&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Check</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Delete</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Edit</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Message</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Search</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Star</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022224840700.png" alt="image-20231022224840700"></p><h2 id="4-2-布局layout"><a href="#4-2-布局layout" class="headerlink" title="4.2 布局layout"></a>4.2 布局layout</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;24&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-dark&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;8&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;8&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;8&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-content ep-bg-purple-light&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-row</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-row</span><span class="selector-pseudo">:last-child</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-col</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.grid-content</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">min-height</span>: <span class="number">36px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">background-color</span>: antiquewhite;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.ep-bg-purple</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">background-color</span>: black;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.ep-bg-purple-light</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">background-color</span>: aquamarine;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="../image/Vue3精简版/image-20231022224904644.png" alt="image-20231022224904644"></p><h2 id="4-3-Container-布局容器"><a href="#4-3-Container-布局容器" class="headerlink" title="4.3 Container 布局容器"></a>4.3 Container 布局容器</h2><p>用于布局的容器组件，方便快速搭建页面的基本结构：</p><p><code>&lt;el-container&gt;</code>：外层容器。 当子元素中包含 <code>&lt;el-header&gt;</code> 或 <code>&lt;el-footer&gt;</code> 时，全部子元素会垂直上下排列， 否则会水平左右排列。</p><p><code>&lt;el-header&gt;</code>：顶栏容器。</p><p><code>&lt;el-aside&gt;</code>：侧边栏容器。</p><p><code>&lt;el-main&gt;</code>：主要区域容器。</p><p><code>&lt;el-footer&gt;</code>：底栏容器。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-header</span>&gt;</span>Header<span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-container</span> <span class="attr">style</span>=<span class="string">&quot;height: 500px;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span> &gt;</span>Aside<span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-main</span>&gt;</span>Main<span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span>Footer<span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-header</span>, <span class="selector-class">.el-footer</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#B3C0D1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#333</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">60px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-aside</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#D3DCE6</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#333</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">200px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-main</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#E9EEF3</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#333</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">160px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-tag">body</span> &gt; <span class="selector-class">.el-container</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-container</span><span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>) <span class="selector-class">.el-aside</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-container</span><span class="selector-pseudo">:nth-child</span>(<span class="number">6</span>) <span class="selector-class">.el-aside</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">260px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-container</span><span class="selector-pseudo">:nth-child</span>(<span class="number">7</span>) <span class="selector-class">.el-aside</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">320px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="4-4-Icon-图标"><a href="#4-4-Icon-图标" class="headerlink" title="4.4 Icon 图标"></a>4.4 Icon 图标</h2><p>main.ts引入所有图标</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">ElementPlusIconsVue</span> <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [key, component] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="title class_">ElementPlusIconsVue</span>)) &#123;</span><br><span class="line">  app.<span class="title function_">component</span>(key, component)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> app.<span class="title function_">use</span>(store)</span><br><span class="line"> .<span class="title function_">use</span>(router)</span><br><span class="line"> .<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br><span class="line"> .<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">:size</span>=<span class="string">&quot;30&quot;</span> <span class="attr">:color</span>=<span class="string">&quot;color&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Edit</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> color = <span class="title function_">ref</span>(<span class="string">&#x27;#ff0011&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  </span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="../image/Vue3精简版/image-20231022224941344.png" alt="image-20231022224941344"></p><p>参考页面:</p><p><a href="https://element-plus.org/zh-CN/component/icon.html">https://element-plus.org/zh-CN/component/icon.html</a></p><h2 id="4-5-link链接"><a href="#4-5-link链接" class="headerlink" title="4.5 link链接"></a>4.5 link链接</h2><p>用法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">href</span>=<span class="string">&quot;https://element-plus.org&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>default<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span>&gt;</span>去下划线链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">disabled</span>&gt;</span>禁用链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>warning<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>danger<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>info<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-link</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-link</span> <span class="selector-class">.el-icon--right</span><span class="selector-class">.el-icon</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">vertical-align</span>: text-bottom;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225025240.png" alt="image-20231022225025240"></p><h2 id="4-6-Text文本"><a href="#4-6-Text文本" class="headerlink" title="4.6 Text文本"></a>4.6 Text文本</h2><h3 id="4-6-1-基本文本使用"><a href="#4-6-1-基本文本使用" class="headerlink" title="4.6.1 基本文本使用"></a>4.6.1 基本文本使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span> </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">class</span>=<span class="string">&quot;mx-1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 10px;&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  </span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225050771.png" alt="image-20231022225050771"></p><h3 id="4-6-2-文本省略"><a href="#4-6-2-文本省略" class="headerlink" title="4.6.2 文本省略"></a>4.6.2 文本省略</h3><p>通过 <code>truncated</code> 属性，在文本超过视图或最大宽度设置时展示省略符。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-text</span> <span class="attr">truncated</span>&gt;</span>Squeezed by parent element111111111111111111<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225110544.png" alt="image-20231022225110544"></p><h3 id="4-6-3-覆盖"><a href="#4-6-3-覆盖" class="headerlink" title="4.6.3 覆盖"></a>4.6.3 覆盖</h3><p>使用属性 <code>tag</code> 覆盖元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-space direction=<span class="string">&quot;vertical&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span>&gt;</span>span<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;p&quot;</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;b&quot;</span>&gt;</span>Bold<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;i&quot;</span>&gt;</span>Italic<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      This is</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;sub&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span>subscript<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      This is</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;sup&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span>superscript<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;ins&quot;</span>&gt;</span>Inserted<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;del&quot;</span>&gt;</span>Deleted<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-text</span> <span class="attr">tag</span>=<span class="string">&quot;mark&quot;</span>&gt;</span>Marked<span class="tag">&lt;/<span class="name">el-text</span>&gt;</span></span></span><br><span class="line">  &lt;/el-space&gt;</span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="../image/Vue3精简版/image-20231022225134437.png" alt="image-20231022225134437"></p><h2 id="4-7-form表单组件"><a href="#4-7-form表单组件" class="headerlink" title="4.7 form表单组件"></a>4.7 form表单组件</h2><h3 id="4-7-1-常用表单组件"><a href="#4-7-1-常用表单组件" class="headerlink" title="4.7.1 常用表单组件"></a>4.7.1 常用表单组件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;120px&quot;</span> &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Activity name&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Activity zone&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;form.region&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;please select your zone&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;Zone one&quot;</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;Zone two&quot;</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Activity time&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;11&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-date-picker</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">v-model</span>=<span class="string">&quot;form.date1&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;date&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">placeholder</span>=<span class="string">&quot;Pick a date&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-center&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text-gray-500&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;11&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-time-picker</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">v-model</span>=<span class="string">&quot;form.date2&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">placeholder</span>=<span class="string">&quot;Pick a time&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Instant delivery&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;form.delivery&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Activity type&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">&quot;form.type&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;Online activities&quot;</span> <span class="attr">name</span>=<span class="string">&quot;type&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;Promotion activities&quot;</span> <span class="attr">name</span>=<span class="string">&quot;type&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;Offline activities&quot;</span> <span class="attr">name</span>=<span class="string">&quot;type&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;Simple brand exposure&quot;</span> <span class="attr">name</span>=<span class="string">&quot;type&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Resources&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-radio-group</span> <span class="attr">v-model</span>=<span class="string">&quot;form.resource&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">label</span>=<span class="string">&quot;Sponsor&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">label</span>=<span class="string">&quot;Venue&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-radio-group</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;Activity form&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.desc&quot;</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>Create<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// do not use same name with ref</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> form = <span class="title function_">reactive</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">region</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">date1</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">date2</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">delivery</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">type</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">resource</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">desc</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">onSubmit</span> = (<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;submit!&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-7-2-input数组输入框"><a href="#4-7-2-input数组输入框" class="headerlink" title="4.7.2 input数组输入框"></a>4.7.2 input数组输入框</h3><p>要使用它，只需要在 <code>&lt;el-input-number&gt;</code> 元素中使用 <code>v-model</code> 绑定变量即可，变量的初始值即为默认值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-input-number</span> <span class="attr">v-model</span>=<span class="string">&quot;num&quot;</span> <span class="attr">:min</span>=<span class="string">&quot;1&quot;</span> <span class="attr">:max</span>=<span class="string">&quot;10&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;handleChange&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> num = <span class="title function_">ref</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">handleChange</span> = (<span class="params">value: number</span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225530731.png" alt="image-20231022225530731"></p><h2 id="4-10-导航组件"><a href="#4-10-导航组件" class="headerlink" title="4.10 导航组件"></a>4.10 导航组件</h2><p>菜单,使用还是比较多的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-menu</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:default-active</span>=<span class="string">&quot;activeIndex&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">class</span>=<span class="string">&quot;el-menu-demo&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">mode</span>=<span class="string">&quot;horizontal&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    @<span class="attr">select</span>=<span class="string">&quot;handleSelect&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Processing Center<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>Workspace<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-1&quot;</span>&gt;</span>item one<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-2&quot;</span>&gt;</span>item two<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-3&quot;</span>&gt;</span>item three<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;2-4&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>item four<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-1&quot;</span>&gt;</span>item one<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-2&quot;</span>&gt;</span>item two<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-3&quot;</span>&gt;</span>item three<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;3&quot;</span> <span class="attr">disabled</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;4&quot;</span>&gt;</span>Orders<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;h-6&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-menu</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:default-active</span>=<span class="string">&quot;activeIndex2&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">class</span>=<span class="string">&quot;el-menu-demo&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">mode</span>=<span class="string">&quot;horizontal&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">background-color</span>=<span class="string">&quot;#545c64&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">text-color</span>=<span class="string">&quot;#fff&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">active-text-color</span>=<span class="string">&quot;#ffd04b&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    @<span class="attr">select</span>=<span class="string">&quot;handleSelect&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Processing Center<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>Workspace<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-1&quot;</span>&gt;</span>item one<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-2&quot;</span>&gt;</span>item two<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-3&quot;</span>&gt;</span>item three<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;2-4&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>item four<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-1&quot;</span>&gt;</span>item one<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-2&quot;</span>&gt;</span>item two<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-4-3&quot;</span>&gt;</span>item three<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;3&quot;</span> <span class="attr">disabled</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;4&quot;</span>&gt;</span>Orders<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> activeIndex = <span class="title function_">ref</span>(<span class="string">&#x27;1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> activeIndex2 = <span class="title function_">ref</span>(<span class="string">&#x27;1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">handleSelect</span> = (<span class="params">key: string, keyPath: string[]</span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, keyPath)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225602366.png" alt="image-20231022225602366"></p><h2 id="4-11-Tabs-标签页"><a href="#4-11-Tabs-标签页" class="headerlink" title="4.11 Tabs 标签页"></a>4.11 Tabs 标签页</h2><p>abs 组件提供了选项卡功能， 默认选中第一个标签页，你也可以通过 <code>value</code> 属性来指定当前选中的标签页。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-tabs</span> <span class="attr">v-model</span>=<span class="string">&quot;activeName&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-tabs&quot;</span> @<span class="attr">tab-click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;User&quot;</span> <span class="attr">name</span>=<span class="string">&quot;first&quot;</span>&gt;</span>User<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;Config&quot;</span> <span class="attr">name</span>=<span class="string">&quot;second&quot;</span>&gt;</span>Config<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;Role&quot;</span> <span class="attr">name</span>=<span class="string">&quot;third&quot;</span>&gt;</span>Role<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;Task&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fourth&quot;</span>&gt;</span>Task<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-tabs</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> type &#123; <span class="title class_">TabsPaneContext</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> activeName = <span class="title function_">ref</span>(<span class="string">&#x27;first&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">tab: TabsPaneContext, event: Event</span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(tab, event)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.demo-tabs</span> &gt; <span class="selector-class">.el-tabs__content</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">32px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">color</span>: <span class="number">#6b778c</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">font-size</span>: <span class="number">32px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3精简版/image-20231022225622590.png" alt="image-20231022225622590"></p><h2 id="4-12-反馈组件"><a href="#4-12-反馈组件" class="headerlink" title="4.12 反馈组件"></a>4.12 反馈组件</h2><h3 id="4-12-1-dialog对话框"><a href="#4-12-1-dialog对话框" class="headerlink" title="4.12.1 dialog对话框"></a>4.12.1 dialog对话框</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">text</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = true&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    click to open the Dialog</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-dialog</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">title</span>=<span class="string">&quot;Tips&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:before-close</span>=<span class="string">&quot;handleClose&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>This is a message<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          Confirm</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; <span class="title class_">ElMessageBox</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> dialogVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> <span class="title function_">handleClose</span> = (<span class="params">done: () =&gt; <span class="keyword">void</span></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;Are you sure to close this dialog?&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">done</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// catch error</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.dialog-footer</span> <span class="selector-tag">button</span><span class="selector-pseudo">:first</span>-child &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225643373.png" alt="image-20231022225643373"></p><h2 id="4-13-表格组件"><a href="#4-13-表格组件" class="headerlink" title="4.13 表格组件"></a>4.13 表格组件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-table</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">border</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">label</span>=<span class="string">&quot;日期&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">label</span>=<span class="string">&quot;地址&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> tableData = <span class="title function_">reactive</span>([&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">date</span>: <span class="string">&#x27;2024-05-02&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1518 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">date</span>: <span class="string">&#x27;2024-05-04&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1517 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">date</span>: <span class="string">&#x27;2024-05-01&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1519 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">date</span>: <span class="string">&#x27;2024-05-03&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1516 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果:</p><p><img src="../image/Vue3精简版/image-20231022225716076.png" alt="image-20231022225716076"></p><hr><hr><hr><h1 id="1-nodejs和express后端服务"><a href="#1-nodejs和express后端服务" class="headerlink" title="1.nodejs和express后端服务"></a>1.nodejs和express后端服务</h1><h2 id="1-1-创建项目名"><a href="#1-1-创建项目名" class="headerlink" title="1.1 创建项目名"></a>1.1 创建项目名</h2><p>(1)在指定目录创建一个文件夹比如vue3_03</p><h2 id="1-2-安装express-generator"><a href="#1-2-安装express-generator" class="headerlink" title="1.2 安装express-generator"></a>1.2 安装express-generator</h2><p>（2）安装express-generator -g（快速生成express框架的结构）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-generator -g</span><br></pre></td></tr></table></figure><h2 id="1-3-创建express项目工程"><a href="#1-3-创建express项目工程" class="headerlink" title="1.3 创建express项目工程"></a>1.3 创建express项目工程</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">express -e 项目名</span><br><span class="line">比如 express -e backp</span><br><span class="line"></span><br><span class="line">cd backp</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-4-项目热启动nodemon"><a href="#1-4-项目热启动nodemon" class="headerlink" title="1.4 项目热启动nodemon"></a>1.4 项目热启动nodemon</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install nodemon -g</span><br></pre></td></tr></table></figure><p>修改package.json里面 </p><p><img src="../image/Vue3精简版/image-20231022230031618.png" alt="image-20231022230031618"></p><h2 id="1-5-启动项目"><a href="#1-5-启动项目" class="headerlink" title="1.5 启动项目"></a>1.5 启动项目</h2><p>npm start</p><p><img src="../image/Vue3精简版/image-20231022230050433.png" alt="image-20231022230050433"></p><h2 id="1-6-启动mongodb服务"><a href="#1-6-启动mongodb服务" class="headerlink" title="1.6 启动mongodb服务"></a>1.6 启动mongodb服务</h2><p><img src="../image/Vue3精简版/image-20231022230115445.png" alt="image-20231022230115445"></p><p>  通过navicat连接mongodb 创建一个数据库</p><p>  创建集合</p><p> 插入数据</p><p><img src="../image/Vue3精简版/image-20231022230130605.png" alt="image-20231022230130605"></p><h2 id="1-7-node连接mongodb"><a href="#1-7-node连接mongodb" class="headerlink" title="1.7 node连接mongodb"></a>1.7 node连接mongodb</h2><p>安装一些 mongoose</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  mongoose@<span class="number">6.8</span><span class="number">.0</span></span><br></pre></td></tr></table></figure><p>创建文件夹db/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入mongoose</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>)</span><br><span class="line"><span class="comment">//禁用严格查询</span></span><br><span class="line">mongoose.<span class="title function_">set</span>(<span class="string">&quot;strictQuery&quot;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">链接成功回调</span>&#125; success </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">链接失败回调</span>&#125; error </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">success,error</span>)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> error !== <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">      error = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;链接失败&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//链接数据库</span></span><br><span class="line">mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://127.0.0.1:27017/abc&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置回调</span></span><br><span class="line">mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;open&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="title function_">success</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="title function_">error</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">mongoose.<span class="property">connection</span>.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;链接关闭&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在启动bin/www 下面链接数据库</p><p><img src="../image/Vue3精简版/image-20231022230150756.png" alt="image-20231022230150756"></p><p>新创建一个models文件夹，然后在下面创建一个UserModel.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>)</span><br><span class="line"></span><br><span class="line"> <span class="comment">//创建文档结构对象,设置集合中 文档的属性和属性值类型</span></span><br><span class="line"> <span class="keyword">let</span> userSchema = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">                    <span class="attr">name</span>:<span class="title class_">String</span>,</span><br><span class="line">                    <span class="attr">age</span>:<span class="title class_">Number</span>,</span><br><span class="line">                    <span class="attr">email</span>:<span class="title class_">String</span>,</span><br><span class="line">                    <span class="attr">tel</span>:<span class="title class_">String</span></span><br><span class="line">              </span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//创建模型对象--这个对象可以完成 增删改查操作 第一个参数是集合名称</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">UserModel</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;users&#x27;</span>,userSchema)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">UserModel</span></span><br></pre></td></tr></table></figure><p>在路由文件里面引入 routers/users.js引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserModel</span> = <span class="built_in">require</span>(<span class="string">&#x27;./../models/UserModel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* GET users listing. */</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>,   <span class="keyword">function</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="title class_">UserModel</span>.<span class="title function_">find</span>(<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//判断</span></span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取失败&#x27;</span>)</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出data</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125;)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;respond with a resource&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>启动项目测试:</p><p>npm start</p><h1 id="2-vue3-ts-elementplus前端服务"><a href="#2-vue3-ts-elementplus前端服务" class="headerlink" title="2.vue3+ts+elementplus前端服务"></a>2.vue3+ts+elementplus前端服务</h1><h2 id="2-1-创建项目文件夹"><a href="#2-1-创建项目文件夹" class="headerlink" title="2.1 创建项目文件夹"></a>2.1 创建项目文件夹</h2><p>​     比如 vue3_03/frontp</p><h2 id="2-2-vue-create-项目名"><a href="#2-2-vue-create-项目名" class="headerlink" title="2.2 vue create 项目名"></a>2.2 vue create 项目名</h2><p>​     vue create 项目名  </p><p>选择最后 手动安装</p><p><img src="../image/Vue3精简版/image-20231022230230235.png" alt="image-20231022230230235"></p><h2 id="2-3-选择对应的组件"><a href="#2-3-选择对应的组件" class="headerlink" title="2.3 选择对应的组件"></a>2.3 选择对应的组件</h2><p><img src="../image/Vue3精简版/image-20231022230248539.png" alt="image-20231022230248539"></p><p>光标到对应行，然后按<strong>空格即可选中</strong>需要的配置</p><p><img src="../image/Vue3精简版/image-20231022230317038.png" alt="image-20231022230317038"></p><p>选中之后 回车:</p><p><img src="../image/Vue3精简版/image-20231022230336369.png" alt="image-20231022230336369"></p><p><img src="../image/Vue3精简版/image-20231022230350197.png" alt="image-20231022230350197"></p><p>配置好的目录结构:</p><p><img src="../image/Vue3精简版/image-20231022230414534.png" alt="image-20231022230414534"></p><p>启动访问的效果:</p><p><img src="../image/Vue3精简版/image-20231022230429888.png" alt="image-20231022230429888"></p><h2 id="2-4-安装elmentplus"><a href="#2-4-安装elmentplus" class="headerlink" title="2.4 安装elmentplus"></a>2.4 安装elmentplus</h2><p>npm install element-plus —save</p><p>在main.ts里面配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br></pre></td></tr></table></figure><p>完整代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"> .<span class="title function_">use</span>(store)</span><br><span class="line"> .<span class="title function_">use</span>(router)</span><br><span class="line"> .<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br><span class="line"> .<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>修改HelloWorld.vue里面的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>浏览器访问:</p><p><img src="../image/Vue3精简版/image-20231022230447929.png" alt="image-20231022230447929"></p><h2 id="2-5-引入table组件"><a href="#2-5-引入table组件" class="headerlink" title="2.5 引入table组件"></a>2.5 引入table组件</h2><p>在HelloWorld里面引入table组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-table</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;日期&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;地址&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> tableData =  <span class="title function_">reactive</span>([&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">date</span>: <span class="string">&#x27;2024-05-02&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1518 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">date</span>: <span class="string">&#x27;2024-05-04&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1517 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">date</span>: <span class="string">&#x27;2024-05-01&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1519 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">date</span>: <span class="string">&#x27;2024-05-03&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">address</span>: <span class="string">&#x27;上海市普陀区金沙江路 1516 弄&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="title class_">Add</span> <span class="string">&quot;scoped&quot;</span> attribute to limit <span class="variable constant_">CSS</span> to <span class="variable language_">this</span> component only --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">h3</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">ul</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">list-style-type</span>: none;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">li</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: inline-block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">a</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">color</span>: <span class="number">#42b983</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="3-前后端联调"><a href="#3-前后端联调" class="headerlink" title="3 前后端联调"></a>3 前后端联调</h1><h2 id="3-1-前端axios"><a href="#3-1-前端axios" class="headerlink" title="3.1 前端axios"></a>3.1 前端axios</h2><p>安装axios</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios</span><br></pre></td></tr></table></figure><p>引入axios，创建axios实例</p><p>请求拦截</p><p>响应拦截</p><p>暴露实例</p><p>在src创建api文件夹，在创建request.ts</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">const</span> api = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&quot;Content-type&quot;</span>: <span class="string">&#x27;application/json;charset:utf-8&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">//请求拦截</span></span><br><span class="line">api.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">        config.<span class="property">headers</span>.<span class="property">token</span> = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>) || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//响应拦截</span></span><br><span class="line">api.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">res: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = res.<span class="property">data</span>.<span class="property">msg</span> || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> result = res.<span class="property">data</span>.<span class="property">data</span> || &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> (msg === <span class="string">&#x27;success&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">data</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> api;</span><br></pre></td></tr></table></figure><p>在HelloWorld.vue引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-table</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:data</span>=<span class="string">&quot;tableData.usersData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   </span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;tel&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;电话号码&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">prop</span>=<span class="string">&quot;age&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">label</span>=<span class="string">&quot;年龄&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;reactive,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&#x27;@/api/request&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> tableData =  <span class="title function_">reactive</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">usersData</span>:[],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">total</span>:<span class="number">100</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span>  <span class="title function_">getUserData</span>= <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">try</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">let</span> <span class="attr">result</span>:[] = <span class="keyword">await</span> <span class="title function_">api</span>(&#123; <span class="attr">url</span>:<span class="string">&#x27;/users&#x27;</span>, <span class="attr">method</span>:<span class="string">&#x27;get&#x27;</span>&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            tableData.<span class="property">usersData</span> = result</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;<span class="keyword">catch</span>(<span class="attr">err</span>:any)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125; &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">onMounted</span>( <span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">getUserData</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-2-后端解决跨域"><a href="#3-2-后端解决跨域" class="headerlink" title="3.2 后端解决跨域"></a>3.2 后端解决跨域</h2><p>在app.js里面引入:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置跨域请求</span></span><br><span class="line">app.<span class="title function_">all</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>, <span class="string">&quot;PUT,POST,GET,DELETE,OPTIONS&quot;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&quot;X-Powered-By&quot;</span>, <span class="string">&#x27; 3.2.1&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在users.js查询返回数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserModel</span> = <span class="built_in">require</span>(<span class="string">&#x27;./../models/UserModel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* GET users listing. */</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>,   <span class="keyword">function</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="title class_">UserModel</span>.<span class="title function_">find</span>(<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//判断</span></span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取失败&#x27;</span>)</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出data</span></span><br><span class="line"></span><br><span class="line">    res.<span class="title function_">json</span>(&#123;<span class="attr">msg</span>:<span class="string">&#x27;success&#x27;</span>,<span class="attr">data</span>:data&#125;);</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最终效果:</p><p><img src="../image/Vue3精简版/image-20231022230523392.png" alt="image-20231022230523392"></p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚手架 </tag>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
            <tag> 精简版 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3详细版</title>
      <link href="/posts/6fa67ee1.html"/>
      <url>/posts/6fa67ee1.html</url>
      
        <content type="html"><![CDATA[<p>简介</p><blockquote><p>vue3简介 <a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></p></blockquote><p><img src="../image/Vue3详细版/image-20231021211549414.png" alt="image-20231021211549414"></p><h2 id="使用vue-cli创建工程"><a href="#使用vue-cli创建工程" class="headerlink" title="使用vue-cli创建工程"></a>使用vue-cli创建工程</h2><blockquote><p>官方文档：<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">## 或者使用</span></span><br><span class="line">vue -V</span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装或者升级你的@vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"></span><br><span class="line"><span class="comment">## 创建</span></span><br><span class="line">vue create vue3_test</span><br><span class="line"></span><br><span class="line"><span class="comment"># 勾选vue3, 选择npm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 启动</span></span><br><span class="line"><span class="built_in">cd</span> vue3_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p>显示<code>Successfully created project vue3_test.</code>说明安装成功了<br><img src="../image/Vue3详细版/image-20231021211632189.png" alt="image-20231021211632189"></p><p>启动脚手架<br><img src="../image/Vue3详细版/image-20231021211655884.png" alt="image-20231021211655884"></p><p>页面效果<br><img src="../image/Vue3详细版/image-20231021211712363.png" alt="image-20231021211712363"></p><h2 id="使用vite创建工程"><a href="#使用vite创建工程" class="headerlink" title="使用vite创建工程"></a>使用vite创建工程</h2><blockquote><p>官方文档：<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a><br>vite官网：<a href="https://vitejs.cn">https://vitejs.cn</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建工程</span></span><br><span class="line"><span class="comment">## npm init vite-app vue3_test_vite</span></span><br><span class="line">npm init vite-app &lt;project-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">## 进入工程目录</span></span><br><span class="line"><span class="comment">## cd vue3_test_vite</span></span><br><span class="line"><span class="built_in">cd</span> &lt;project-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装依赖</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment">## 运行</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>页面效果:<br><img src="../image/Vue3详细版/image-20231021211748044.png" alt="image-20231021211748044"></p><h2 id="分析工程结构"><a href="#分析工程结构" class="headerlink" title="分析工程结构"></a>分析工程结构</h2><p>这里主要分析的工程是由npm创建的工程, 而不是vite创建出来的工程</p><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入的不再是Vue构造函数了, 引入的是一个名为createApp的工厂函数</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建应用实例对象--app(类似于之前Vue2中的vm, 但app比vm更&quot;轻&quot;)</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="comment">// 挂载</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;app&#x27;</span>, app);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个定时器, 一秒之后就卸载app, 页面也就不展示了</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    app.<span class="title function_">unmount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* const vm = new Vue(&#123;</span></span><br><span class="line"><span class="comment">    render: h =&gt; h(App)</span></span><br><span class="line"><span class="comment">&#125;)</span></span><br><span class="line"><span class="comment">vm.$mount(&#x27;#app&#x27;) */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">  &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其余的项目结构跟vue2的工程类似</p><h2 id="安装开发者工具"><a href="#安装开发者工具" class="headerlink" title="安装开发者工具"></a>安装开发者工具</h2><p>建议不要同时开启两个vue.js devtools开发工具, 控制台会提示开启一个, 虽然说两个工具都会亮, 这很神奇<br><img src="../image/Vue3详细版/image-20231021211848873.png" alt="image-20231021211848873"></p><blockquote><p>Chrome 网上商店安装地址 <a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd/related?hl=zh-CN">https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd/related?hl=zh-CN</a></p></blockquote><h2 id="初识setup"><a href="#初识setup" class="headerlink" title="初识setup"></a>初识setup</h2><h4 id="setup返回对象"><a href="#setup返回对象" class="headerlink" title="setup返回对象"></a>setup返回对象</h4><p>setup的简单使用<br>return 可以返回一个对象</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021211915134.png" alt="image-20231021211915134"></p><h4 id="setup返回函数"><a href="#setup返回函数" class="headerlink" title="setup返回函数"></a>setup返回函数</h4><p>return 也可以返回一个函数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;h&#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    /* return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello</span><br><span class="line">    &#125; */</span><br><span class="line"></span><br><span class="line">    // 返回一个函数(渲染函数)</span><br><span class="line">    return () =&gt; h(&#x27;h1&#x27;, &#x27;尚硅谷&#x27;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021211933734.png" alt="image-20231021211933734"></p><h4 id="vue3中使用data-method"><a href="#vue3中使用data-method" class="headerlink" title="vue3中使用data, method"></a>vue3中使用data, method</h4><p>在vue3中同样的可以使用data, method</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;性别: &#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话(Vue3所配置的——sayHello)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;sayWelcome&quot;&gt;说话(Vue2所配置的——sayWelcome)&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;h&#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      sex: &#x27;男&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayWelcome() &#123;</span><br><span class="line">      alert(&#x27;欢迎来到尚硅谷学习&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个函数(渲染函数)</span><br><span class="line">    // return () =&gt; h(&#x27;h1&#x27;, &#x27;尚硅谷&#x27;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021212001506.png" alt="image-20231021212001506"></p><h4 id="vue2与vue3互相调用"><a href="#vue2与vue3互相调用" class="headerlink" title="vue2与vue3互相调用"></a>vue2与vue3互相调用</h4><p>甚至可以在vue2的方法中调用vue3的setup的属性和方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;性别: &#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话(Vue3所配置的——sayHello)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;sayWelcome&quot;&gt;说话(Vue2所配置的——sayWelcome)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test1&quot;&gt;测试一下在Vue2的配置中去读取Vue3中的数据、方法&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;h&#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      sex: &#x27;男&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayWelcome() &#123;</span><br><span class="line">      alert(&#x27;欢迎来到尚硅谷学习&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    test1() &#123;</span><br><span class="line">      console.log(this.sex);</span><br><span class="line">      console.log(this.name);</span><br><span class="line">      console.log(this.age);</span><br><span class="line">      this.sayHello()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个函数(渲染函数)</span><br><span class="line">    // return () =&gt; h(&#x27;h1&#x27;, &#x27;尚硅谷&#x27;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021212023192.png" alt="image-20231021212023192"></p><p>但是在Vue3中不能调用Vue2的属性和方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;性别: &#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话(Vue3所配置的——sayHello)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;sayWelcome&quot;&gt;说话(Vue2所配置的——sayWelcome)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test1&quot;&gt;测试一下在Vue2的配置中去读取Vue3中的数据、方法&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test2&quot;&gt;测试一下在Vue3的setup配置中去读取Vue2中的数据、方法&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;h&#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      sex: &#x27;男&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayWelcome() &#123;</span><br><span class="line">      alert(&#x27;欢迎来到尚硅谷学习&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    test1() &#123;</span><br><span class="line">      console.log(this.sex);</span><br><span class="line">      console.log(this.name);</span><br><span class="line">      console.log(this.age);</span><br><span class="line">      this.sayHello()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function test2() &#123;</span><br><span class="line">      console.log(name);</span><br><span class="line">      console.log(age);</span><br><span class="line">      console.log(sayHello);</span><br><span class="line">      console.log(this.sex);</span><br><span class="line">      console.log(this.sayWelcome);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello,</span><br><span class="line">      test2</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个函数(渲染函数)</span><br><span class="line">    // return () =&gt; h(&#x27;h1&#x27;, &#x27;尚硅谷&#x27;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021212054441.png" alt="image-20231021212054441"></p><blockquote><p>总结: Vue2的配置和Vue3的配置不要混用</p></blockquote><p>当Vue3和Vue2中都存在同一个属性时, 会优先使用Vue3的属性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;性别: &#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;a: &#123;&#123;a&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;sayHello&quot;&gt;说话(Vue3所配置的——sayHello)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;sayWelcome&quot;&gt;说话(Vue2所配置的——sayWelcome)&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test1&quot;&gt;测试一下在Vue2的配置中去读取Vue3中的数据、方法&lt;/button&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test2&quot;&gt;测试一下在Vue3的setup配置中去读取Vue2中的数据、方法&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;h&#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      sex: &#x27;男&#x27;,</span><br><span class="line">      a: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayWelcome() &#123;</span><br><span class="line">      alert(&#x27;欢迎来到尚硅谷学习&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    test1() &#123;</span><br><span class="line">      console.log(this.sex);</span><br><span class="line">      console.log(this.name);</span><br><span class="line">      console.log(this.age);</span><br><span class="line">      this.sayHello()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 此处只是测试一个setup, 暂时不考虑响应式的问题</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line">    let a = 200</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function sayHello() &#123;</span><br><span class="line">      alert(`我叫$&#123;name&#125;, 我$&#123;age&#125;岁了, 你好啊! `)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function test2() &#123;</span><br><span class="line">      console.log(name);</span><br><span class="line">      console.log(age);</span><br><span class="line">      console.log(sayHello);</span><br><span class="line">      console.log(this.sex);</span><br><span class="line">      console.log(this.sayWelcome);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age, </span><br><span class="line">      sayHello,</span><br><span class="line">      test2,</span><br><span class="line">      a</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个函数(渲染函数)</span><br><span class="line">    // return () =&gt; h(&#x27;h1&#x27;, &#x27;尚硅谷&#x27;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021212112638.png" alt="image-20231021212112638"></p><p>setup不能是一个async函数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">async setup() &#123;...&#125;</span><br></pre></td></tr></table></figure><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol><li>理解：Vue3.0中一个新的配置项，值为一个函数。</li><li>setup是所有<strong style="color:#DD5145">Composition API（组合API）</strong><i style="color:gray;font-weight:bold">“ 表演的舞台 ”</i>。</li><li>组件中所用到的：数据、方法等等，均要配置在setup中。</li><li>setup函数的两种返回值：<ol><li>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）</li><li><span style="color:#aad">若返回一个渲染函数：则可以自定义渲染内容。（了解）</span></li></ol></li><li>注意点：<ol><li>尽量不要与Vue2.x配置混用<ul><li>Vue2.x配置（data、methos、computed…）中<strong style="color:#DD5145">可以访问到</strong>setup中的属性、方法。</li><li>但在setup中<strong style="color:#DD5145">不能访问到</strong>Vue2.x配置（data、methos、computed…）。</li><li>如果有重名, setup优先。</li></ul></li><li>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）</li></ol></li></ol><h2 id="ref函数"><a href="#ref函数" class="headerlink" title="ref函数"></a>ref函数</h2><h4 id="响应式数据-基本类型的数据"><a href="#响应式数据-基本类型的数据" class="headerlink" title="响应式数据 - 基本类型的数据"></a>响应式数据 - 基本类型的数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;张三&#x27;</span><br><span class="line">    let age = 18</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      name = &#x27;李四&#x27;</span><br><span class="line">      age = 48</span><br><span class="line">      console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>此时点击按钮, 控制台输出了修改后的数据, 但是页面并没有发生变化<br><img src="../image/Vue3详细版/image-20231021212135787.png" alt="image-20231021212135787"></p><p>此时的数据并不是响应式的, 得使用ref函数将数据包裹起来才算是响应式的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      // name = &#x27;李四&#x27;</span><br><span class="line">      // age = 48</span><br><span class="line">      console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021212200599.png" alt="image-20231021212200599"></p><p>可以发现控制台输出的内容是一个对象, 并不是一个字符串, 也不是一个数字, 说明不能直接修改这个值<br>应该修改<code>ref对象</code>的value值来修改数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      name.value = &#x27;李四&#x27;</span><br><span class="line">      age.value = 48</span><br><span class="line">      console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>此时点击按钮, 页面数据修改了<br><img src="../image/Vue3详细版/image-20231021212236651.png" alt="image-20231021212236651"></p><h4 id="响应式数据-对象"><a href="#响应式数据-对象" class="headerlink" title="响应式数据 - 对象"></a>响应式数据 - 对象</h4><p>RefImpl 相当于两个单词的缩写 reference implement 引用 实现<br>可以读作 <code>引用实现的实例对象</code> 但是这样读太长了, 直接读作<code>引用对象</code> 或者读 <code>ref对象</code></p><p>ref处理基本数据类型用的是get() set() defineProperty()<br>但是处理对象类型的数据, 用的是ES6中的Proxy<br><img src="../image/Vue3详细版/image-20231021212321928.png" alt="image-20231021212321928"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line">    let job = ref(&#123;</span><br><span class="line">      type: &#x27;前端工程师&#x27;,</span><br><span class="line">      salary: &#x27;30K&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      // name.value = &#x27;李四&#x27;</span><br><span class="line">      // age.value = 48</span><br><span class="line">      console.log(&#x27;job.value&#x27;, job.value);</span><br><span class="line">      job.value.type = &#x27;UI设计师&#x27;</span><br><span class="line">      job.value.salary = &#x27;60K&#x27;</span><br><span class="line">      // console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>页面效果 , 数据修改了<br><img src="../image/Vue3详细版/image-20231021212341597.png" alt="image-20231021212341597"></p><h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><ul><li>作用: 定义一个响应式的数据</li><li>语法: <code>const xxx = ref(initValue)</code> <ul><li>创建一个包含响应式数据的<strong style="color:#DD5145">引用对象（reference对象，简称ref对象）</strong>。</li><li>JS中操作数据： <code>xxx.value</code></li><li>模板中读取数据: 不需要.value，直接：<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li></ul></li><li>备注：<ul><li>接收的数据可以是：基本类型、也可以是对象类型。</li><li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>完成的。</li><li>对象类型的数据：内部 <i style="color:gray;font-weight:bold">“ 求助 ”</i> 了Vue3.0中的一个新函数—— <code>reactive</code>函数。</li></ul></li></ul><blockquote><p>refImpl =&gt; reactive =&gt; Proxy</p></blockquote><h2 id="reactive函数"><a href="#reactive函数" class="headerlink" title="reactive函数"></a>reactive函数</h2><h4 id="取值"><a href="#取值" class="headerlink" title="取值"></a>取值</h4><p>使用了reactive之后, 对象取值就不再需要.value了, 可以直接修改对象的值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line">    let job = reactive(&#123;</span><br><span class="line">      type: &#x27;前端工程师&#x27;,</span><br><span class="line">      salary: &#x27;30K&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      name.value = &#x27;李四&#x27;</span><br><span class="line">      age.value = 48</span><br><span class="line">      console.log(&#x27;job&#x27;, job);</span><br><span class="line">      job.type = &#x27;UI设计师&#x27;</span><br><span class="line">      job.salary = &#x27;60K&#x27;</span><br><span class="line">      // console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>点击按钮, 页面修改<br><img src="../image/Vue3详细版/image-20231021212401817.png" alt="image-20231021212401817"></p><blockquote><p>说明proxy下的属性都是响应式的</p></blockquote><h4 id="对象深层次取值"><a href="#对象深层次取值" class="headerlink" title="对象深层次取值"></a>对象深层次取值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;测试的数据c: &#123;&#123;job.a.b.c&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line">    let job = reactive(&#123;</span><br><span class="line">      type: &#x27;前端工程师&#x27;,</span><br><span class="line">      salary: &#x27;30K&#x27;,</span><br><span class="line">      a: &#123;</span><br><span class="line">        b: &#123;</span><br><span class="line">          c: 666</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      name.value = &#x27;李四&#x27;</span><br><span class="line">      age.value = 48</span><br><span class="line">      console.log(&#x27;job&#x27;, job);</span><br><span class="line">      job.type = &#x27;UI设计师&#x27;</span><br><span class="line">      job.salary = &#x27;60K&#x27;</span><br><span class="line">      job.a.b.c = 999</span><br><span class="line">      // console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>点击按钮, 深层次的数据也发生了变化<br><img src="../image/Vue3详细版/image-20231021212439718.png" alt="image-20231021212439718"></p><blockquote><p>说明reactive处理对象类型是深层次的</p></blockquote><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>数组同样也采用reactive包裹着, 可以直接通过索引值进行修改</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;爱好: &#123;&#123;hobby&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;测试的数据c: &#123;&#123;job.a.b.c&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = ref(&#x27;张三&#x27;)</span><br><span class="line">    let age = ref(18)</span><br><span class="line">    let job = reactive(&#123;</span><br><span class="line">      type: &#x27;前端工程师&#x27;,</span><br><span class="line">      salary: &#x27;30K&#x27;,</span><br><span class="line">      a: &#123;</span><br><span class="line">        b: &#123;</span><br><span class="line">          c: 666</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    let hobby = reactive([&#x27;抽烟&#x27;, &#x27;喝酒&#x27;, &#x27;烫头&#x27;])</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      name.value = &#x27;李四&#x27;</span><br><span class="line">      age.value = 48</span><br><span class="line">      // console.log(&#x27;job&#x27;, job);</span><br><span class="line">      job.type = &#x27;UI设计师&#x27;</span><br><span class="line">      job.salary = &#x27;60K&#x27;</span><br><span class="line">      job.a.b.c = 999</span><br><span class="line">      hobby[0] = &#x27;学习&#x27;</span><br><span class="line">      // console.log(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      name, </span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      hobby,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021212504266.png" alt="image-20231021212504266"></p><h4 id="优化掉ref"><a href="#优化掉ref" class="headerlink" title="优化掉ref"></a>优化掉ref</h4><p>当使用一旦使用了ref, 想修改值就得<code>.value</code>, 这就显得有点麻烦了<br>可以将所有的数据直接全部放到一个对象中, 然后将这个对象塞到reactive中, 这样就可以避免了<code>.value</code>的麻烦了, 但都又多了一个<code>对象.</code>, 这比<code>.value</code>更语义化了一些QAQ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;person.job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;person.job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;爱好: &#123;&#123;person.hobby&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;测试的数据c: &#123;&#123;person.job.a.b.c&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let person = reactive(&#123;</span><br><span class="line">      name: &#x27;张三&#x27;,</span><br><span class="line">      age: 18,</span><br><span class="line">      job: &#123;</span><br><span class="line">        type: &#x27;前端工程师&#x27;,</span><br><span class="line">        salary: &#x27;30K&#x27;,</span><br><span class="line">        a: &#123;</span><br><span class="line">          b: &#123;</span><br><span class="line">            c: 666</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      hobby: [&#x27;抽烟&#x27;, &#x27;喝酒&#x27;, &#x27;烫头&#x27;]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      person.name = &#x27;李四&#x27;</span><br><span class="line">      person.age = 48</span><br><span class="line">      person.job.type = &#x27;UI设计师&#x27;</span><br><span class="line">      person.job.salary = &#x27;60K&#x27;</span><br><span class="line">      person.job.a.b.c = 999</span><br><span class="line">      person.hobby[0] = &#x27;学习&#x27;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      person,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>点击按钮, 数据发生变化<br><img src="../image/Vue3详细版/image-20231021212531558.png" alt="image-20231021212531558"></p><h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h4><ul><li>作用: 定义一个<strong style="color:#DD5145">对象类型</strong>的响应式数据（基本类型不要用它，要用<code>ref</code>函数）</li><li>语法：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个<strong style="color:#DD5145">代理对象（Proxy的实例对象，简称proxy对象）</strong></li><li>reactive定义的响应式数据是“深层次的”。</li><li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li></ul><h2 id="回顾Vue2的响应式原理"><a href="#回顾Vue2的响应式原理" class="headerlink" title="回顾Vue2的响应式原理"></a>回顾Vue2的响应式原理</h2><h4 id="创建vue2脚手架"><a href="#创建vue2脚手架" class="headerlink" title="创建vue2脚手架"></a>创建vue2脚手架</h4><p>创建vue2脚手架</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue2_test_demo</span><br></pre></td></tr></table></figure><h4 id="Vue2中属性的添加和删除"><a href="#Vue2中属性的添加和删除" class="headerlink" title="Vue2中属性的添加和删除"></a>Vue2中属性的添加和删除</h4><p>使用vue2进行属性的添加和删除需要借助<code>this.$set</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;我是Vue2写的效果&lt;/h1&gt;</span><br><span class="line">    &lt;h2 v-show=&quot;person.name&quot;&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-show=&quot;person.sex&quot;&gt;性别: &#123;&#123;person.sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;爱好: &#123;&#123;person.hobby&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;addSex&quot;&gt;添加一个sex属性&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;deleteName&quot;&gt;删除name属性&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;updateHobby&quot;&gt;修改第一个爱好的名字&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      person: &#123;</span><br><span class="line">        name: &#x27;张三&#x27;,</span><br><span class="line">        age: 18,</span><br><span class="line">        hobby: [&#x27;学习&#x27;, &#x27;吃饭&#x27;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addSex() &#123;</span><br><span class="line">      // 这种方式进行属性的添加, vue2是监听不到的</span><br><span class="line">      // console.log(this.person.sex); // undefined</span><br><span class="line">      // this.person.sex = &#x27;男&#x27;</span><br><span class="line">      // console.log(this.person.sex); // 男</span><br><span class="line"></span><br><span class="line">      this.$set(this.person, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line">      // Vue.set(this.person, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    deleteName() &#123;</span><br><span class="line">      // console.log(this.person.name); // 张三</span><br><span class="line">      // delete this.person.name</span><br><span class="line">      // console.log(this.person.name); // undefined</span><br><span class="line"></span><br><span class="line">      // this.$delete(this.person, &#x27;name&#x27;)</span><br><span class="line">      Vue.delete(this.person, &#x27;name&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    updateHobby() &#123;</span><br><span class="line">      // this.person.hobby[0] = &#x27;逛街&#x27;  // 这种不行</span><br><span class="line">      // this.$set(this.person.hobby, 0, &#x27;逛街&#x27;)</span><br><span class="line">      this.person.hobby.splice(0, 1, &#x27;逛街&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h4><ul><li><p>实现原理：</p><ul><li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p></li><li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;&#125;, </span><br><span class="line">    set () &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>存在问题：</p><ul><li>新增属性、删除属性, 界面不会更新。</li><li>直接通过下标修改数组, 界面不会自动更新。</li></ul></li></ul><h2 id="Vue3响应式原理-Proxy"><a href="#Vue3响应式原理-Proxy" class="headerlink" title="Vue3响应式原理_Proxy"></a>Vue3响应式原理_Proxy</h2><h4 id="Vue3中属性的添加和删除"><a href="#Vue3中属性的添加和删除" class="headerlink" title="Vue3中属性的添加和删除"></a>Vue3中属性的添加和删除</h4><p>但是在vue3进行属性的添加和删除, 则可以直接进行修改, 而不再需要借助<code>this.$set</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2 v-show=&quot;person.name&quot;&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-show=&quot;person.sex&quot;&gt;性别: &#123;&#123;person.sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h3&gt;工作种类: &#123;&#123;person.job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;工作薪水: &#123;&#123;person.job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;爱好: &#123;&#123;person.hobby&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;测试的数据c: &#123;&#123;person.job.a.b.c&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;addSex&quot;&gt;添加一个sex属性&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;deleteName&quot;&gt;删除一个name属性&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let person = reactive(&#123;</span><br><span class="line">      name: &#x27;张三&#x27;,</span><br><span class="line">      age: 18,</span><br><span class="line">      job: &#123;</span><br><span class="line">        type: &#x27;前端工程师&#x27;,</span><br><span class="line">        salary: &#x27;30K&#x27;,</span><br><span class="line">        a: &#123;</span><br><span class="line">          b: &#123;</span><br><span class="line">            c: 666</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      hobby: [&#x27;抽烟&#x27;, &#x27;喝酒&#x27;, &#x27;烫头&#x27;]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    function changeInfo() &#123;</span><br><span class="line">      person.name = &#x27;李四&#x27;</span><br><span class="line">      person.age = 48</span><br><span class="line">      person.job.type = &#x27;UI设计师&#x27;</span><br><span class="line">      person.job.salary = &#x27;60K&#x27;</span><br><span class="line">      person.job.a.b.c = 999</span><br><span class="line">      person.hobby[0] = &#x27;学习&#x27;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 在Vue3中可以直接对象的添加和删除, 并且也是添加和删除的数据也是响应式的</span><br><span class="line">    function addSex() &#123;</span><br><span class="line">      person.sex = &#x27;男&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    function deleteName() &#123;</span><br><span class="line">      delete person.name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 返回一个对象常用</span><br><span class="line">    return &#123;</span><br><span class="line">      person,</span><br><span class="line">      addSex,</span><br><span class="line">      deleteName,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="模拟Vue2中实现响应式"><a href="#模拟Vue2中实现响应式" class="headerlink" title="模拟Vue2中实现响应式"></a>模拟Vue2中实现响应式</h4><p>在Vue2中, 删除一个属性捕获不到, 添加一个属性也捕获不到<br><img src="../image/Vue3详细版/image-20231021212647983.png" alt="image-20231021212647983"></p><p>尽管p中的name删除了, 但是person中仍然存在name<br><img src="../image/Vue3详细版/image-20231021212706865.png" alt="image-20231021212706865"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>05_Vue3的响应式原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 源数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> person = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 模拟Vue2中实现响应式</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> p = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(p, <span class="string">&#x27;name&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">configurable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>) &#123; <span class="comment">// 有人读取name时调用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> person.<span class="property">name</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">value</span>) &#123; <span class="comment">// 有人修改name时调用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人修改了name属性, 我发现了, 我要去更新界面! &#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                person.<span class="property">name</span> = value</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(p, <span class="string">&#x27;age&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>) &#123; <span class="comment">// 有人读取age时调用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> person.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">value</span>) &#123; <span class="comment">// 有人修改age时调用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人修改了age属性, 我发现了, 我要去更新界面! &#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                person.<span class="property">age</span> = value</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果折叠代码之后, 接着敲代码会自动展开可以添加一个 <code>region</code> 和 <code>endregion</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//#region </span><br><span class="line">/* let p = &#123;&#125;...</span><br><span class="line">//#endregion</span><br></pre></td></tr></table></figure><h4 id="模拟Vue3中实现响应式"><a href="#模拟Vue3中实现响应式" class="headerlink" title="模拟Vue3中实现响应式"></a>模拟Vue3中实现响应式</h4><p>window.Proxy<br>p可以叫做是代理数据, 也可以叫做是代理对象, person叫源数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 源数据</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// p可以叫做是代理数据, 也可以叫做是代理对象, person叫源数据</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(person, &#123;&#125;)</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021212741148.png" alt="image-20231021212741148"></p><p>添加属性<br><img src="../image/Vue3详细版/image-20231021212755672.png" alt="image-20231021212755672"></p><p>删除属性, 这样的删除不是响应式的</p><p><img src="../image/Vue3详细版/image-20231021212824396.png" alt="image-20231021212824396"></p><p>采用deleteProperty</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deleteProperty(target, propName) &#123;</span><br><span class="line">  console.log(`有人删除了p身上的$&#123;propName&#125;属性，我要去更新界面了！`)</span><br><span class="line">  return delete target[propName]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>删除属性, 这样的删除才是响应式的<br><img src="../image/Vue3详细版/image-20231021212853492.png" alt="image-20231021212853492"></p><p>修改数据<br><img src="../image/Vue3详细版/image-20231021212908548.png" alt="image-20231021212908548"></p><p>查询数据<br><img src="../image/Vue3详细版/image-20231021212920468.png" alt="image-20231021212920468"></p><h2 id="Vue3响应式原理-Reflect"><a href="#Vue3响应式原理-Reflect" class="headerlink" title="Vue3响应式原理_Reflect"></a>Vue3响应式原理_Reflect</h2><h4 id="引入Reflect"><a href="#引入Reflect" class="headerlink" title="引入Reflect"></a>引入Reflect</h4><p>定义一个数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure><p>获取数据中的a<br><img src="../image/Vue3详细版/image-20231021212953336.png" alt="image-20231021212953336"></p><p>当然也可以使用<code>window.Reflect</code><br>对数据的增删改查<br><img src="../image/Vue3详细版/image-20231021213014549.png" alt="image-20231021213014549"></p><p>当使用Object设置了相同的c属性, 页面控制台将会报错</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;@@@&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213033380.png" alt="image-20231021213033380"></p><p>使用Reflect设置了相同的c属性, 页面控制台不会报错, 并且会执行后续的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;@@@&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213050428.png" alt="image-20231021213050428"></p><p>Reflect是存在返回值的, true表示这个操作是成功执行了的, false表示是没有执行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">const</span> x1 = <span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x2 = <span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x2);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;@@@&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213245710.png" alt="image-20231021213245710"></p><p>Reflect存在的目的是为了简化Object的trycatch操作</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213306385.png" alt="image-20231021213306385"></p><p>针对Reflect如果代码出现了问题就可以不用trycatch, 直接用返回值加上if判断就是的了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x1 = <span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x2 = <span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x2) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;某某某操作成功了&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;某某某操作失败了&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213329329.png" alt=""></p><p>使用Reflect模拟Vue3中实现响应式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>05_Vue3的响应式原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 源数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> person = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 模拟Vue2中实现响应式</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//#region </span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* let p = &#123;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        Object.defineProperty(p, &#x27;name&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            configurable:true,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            get() &#123; // 有人读取name时调用</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                return person.name</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            set(value) &#123; // 有人修改name时调用</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                console.log(&#x27;有人修改了name属性, 我发现了, 我要去更新界面! &#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                person.name = value</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        Object.defineProperty(p, &#x27;age&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            get() &#123; // 有人读取age时调用</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                return person.age</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            set(value) &#123; // 有人修改age时调用</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                console.log(&#x27;有人修改了age属性, 我发现了, 我要去更新界面! &#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                person.age = value</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;) */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//#endregion</span></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 模拟Vue3中实现响应式</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(person, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params">target, propName</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有人读取了p身上的<span class="subst">$&#123;propName&#125;</span>属性`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, propName)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">target, propName, value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有人读取了p身上的<span class="subst">$&#123;propName&#125;</span>属性, 我要去更新界面了! `</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, propName, value)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">deleteProperty</span>(<span class="params">target, propName</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有人删除了p身上的<span class="subst">$&#123;propName&#125;</span>属性，我要去更新界面了！`</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, propName)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 通过Object.defineProperty去操作</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* try &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            Object.defineProperty(obj, &#x27;c&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    return 3</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            Object.defineProperty(obj, &#x27;c&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    return 4</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125; catch (error) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            console.log(error);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125; */</span></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 通过Reflect.defineProperty去操作</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* const x1 = Reflect.defineProperty(obj, &#x27;c&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                return 3</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(x1);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        const x2 = Reflect.defineProperty(obj, &#x27;c&#x27;, &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                return 4</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(x2);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        if (x2) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            console.log(&#x27;某某某操作成功了&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125; else &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            console.log(&#x27;某某某操作失败了&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125; */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;@@@&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>测试一下添加属性<br><img src="../image/Vue3详细版/image-20231021213401282.png" alt=""></p><h4 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h4><ul><li><p>实现原理: </p><ul><li><p>通过Proxy（代理）:  拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</p></li><li><p>通过Reflect（反射）:  对源对象的属性进行操作。</p></li><li><p>MDN文档中描述的Proxy与Reflect：</p><ul><li><p>Proxy：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p></li><li><p>Reflect：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line"><span class="comment">// 拦截读取属性值</span></span><br><span class="line">    get (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截设置属性值或添加新属性</span></span><br><span class="line">    set (target, prop, value) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截删除属性</span></span><br><span class="line">    deleteProperty (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">proxy.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span>   </span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="reactive对比ref"><a href="#reactive对比ref" class="headerlink" title="reactive对比ref"></a>reactive对比ref</h2><p>把vue3中的reactive当成vue2的data来用, 里面放基本数据类型<br>就不用ref来定义基本的数据类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">    <span class="attr">person</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">student</span>: &#123;&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h4><ul><li>从定义数据角度对比：<ul><li>ref用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li><li>reactive用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li><li>备注：ref也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li></ul></li><li>从原理角度对比：<ul><li>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li><li>reactive通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li></ul></li><li>从使用角度对比：<ul><li>ref定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li><li>reactive定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li></ul></li></ul><h2 id="setup的两个注意点"><a href="#setup的两个注意点" class="headerlink" title="setup的两个注意点"></a>setup的两个注意点</h2><h4 id="attrs"><a href="#attrs" class="headerlink" title="attrs"></a>attrs</h4><p>在vue2脚手架编写代码<br><img src="../image/Vue3详细版/image-20231021213425353.png" alt=""></p><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;我是Vue2写的效果&lt;/h1&gt;</span><br><span class="line">    &lt;Demo msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Demo.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2&gt;我是Demo组件&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    props: [&#x27;msg&#x27;, &#x27;school&#x27;],</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        console.log(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.demo &#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>当子组件props接收了父组件传来的值, 将会在vc中直接体现<br><img src="../image/Vue3详细版/image-20231021213451480.png" alt=""></p><p>如果将props换成只接收msg, 那么不会在vc中直接体现, 而是在<code>$attrs</code>中出现<br>这也就是如果props没有接收父组件传来的值, 就会由<code>$attrs</code>兜底接收</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;msg&#x27;],</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213510858.png" alt=""></p><h4 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h4><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;我是Vue2写的效果&lt;/h1&gt;</span><br><span class="line">    &lt;Demo msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot;&gt;</span><br><span class="line">      &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">    &lt;/Demo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>子组件插槽</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2&gt;我是Demo组件&lt;/h2&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213531537.png" alt=""></p><p>具名插槽<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;我是Vue2写的效果&lt;/h1&gt;</span><br><span class="line">    &lt;Demo msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot;&gt;</span><br><span class="line">      &lt;template slot=&quot;test1&quot;&gt;</span><br><span class="line">        &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template slot=&quot;test2&quot;&gt;</span><br><span class="line">        &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Demo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2&gt;我是Demo组件&lt;/h2&gt;</span><br><span class="line">    &lt;slot name=&quot;test1&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;slot name=&quot;test2&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h4 id="setup执行的时机"><a href="#setup执行的时机" class="headerlink" title="setup执行的时机"></a>setup执行的时机</h4><p>setup比beforeCreate更先执行, setup中不能使用this</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        console.log(&#x27;---beforeCreate---&#x27;, this);</span><br><span class="line">    &#125;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        console.log(&#x27;---setup---&#x27;, this);</span><br><span class="line">        //数据</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213554477.png" alt=""></p><h4 id="setup的第一个参数props"><a href="#setup的第一个参数props" class="headerlink" title="setup的第一个参数props"></a>setup的第一个参数props</h4><p>父组件传值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>子组件接收</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>: [<span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;school&#x27;</span>],</span><br><span class="line"><span class="title function_">setup</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---setup---&#x27;</span>, props);</span><br><span class="line">    <span class="comment">//数据</span></span><br><span class="line">    <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回一个对象(常用)</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        person</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>setup中第一个参数props, 就是props接收到的值<br>props接收一个值, setup中的props输出的就一个值<br><img src="../image/Vue3详细版/image-20231021213610439.png" alt="image-20231021213610439"></p><h4 id="setup的第二个参数context"><a href="#setup的第二个参数context" class="headerlink" title="setup的第二个参数context"></a>setup的第二个参数context</h4><p>第二个参数context, 包含了attrs, emit, slots</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props, context</span>) &#123;</span><br><span class="line">    <span class="comment">// console.log(&#x27;---setup---&#x27;, props);</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---setup---&#x27;</span>, context);</span><br><span class="line">    <span class="comment">//数据</span></span><br><span class="line">    <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回一个对象(常用)</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        person</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213624900.png" alt=""></p><h4 id="context-attrs"><a href="#context-attrs" class="headerlink" title="context - attrs"></a>context - attrs</h4><p>将props注释掉, 可以发现子组件没有接收的值都出现在了<code>attrs</code>中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// props: [&#x27;msg&#x27;, &#x27;school&#x27;],</span></span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213640934.png" alt=""></p><h4 id="context-emit"><a href="#context-emit" class="headerlink" title="context - emit"></a>context - emit</h4><p>父组件的自定义事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo @hello=&quot;showHelloMsg&quot; msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    function showHelloMsg() &#123;</span><br><span class="line">      alert(`你好啊, 你触发了hello事件, 我收到的参数是: $&#123;value&#125;! `)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return &#123;</span><br><span class="line">      showHelloMsg</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件触发父组件事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 触发父组件的自定义事件 --&gt;</span><br><span class="line">  &lt;button @click=&quot;test&quot;&gt;测试触发一下父组件的Hello事件&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    /* beforeCreate() &#123;</span><br><span class="line">        console.log(&#x27;---beforeCreate---&#x27;, this);</span><br><span class="line">    &#125;, */</span><br><span class="line">    props: [&#x27;msg&#x27;, &#x27;school&#x27;],</span><br><span class="line">    emits: [&#x27;hello&#x27;],</span><br><span class="line">    setup(props, context) &#123;</span><br><span class="line">        // console.log(&#x27;---setup---&#x27;, props);</span><br><span class="line">        console.log(&#x27;---setup---&#x27;, context);</span><br><span class="line">        //数据</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 方法</span><br><span class="line">        function test() &#123;</span><br><span class="line">            context.emit(&#x27;hello&#x27;, 666)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person,</span><br><span class="line">            test</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213657932.png" alt=""></p><blockquote><p>在vue3中, 子组件需要绑定父组件的自定义的hello事件, 不然控制台会出现警告<br>emits: [‘hello’]</p></blockquote><h4 id="context-slots"><a href="#context-slots" class="headerlink" title="context - slots"></a>context - slots</h4><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo @hello=&quot;showHelloMsg&quot; msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot;&gt;</span><br><span class="line">    &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">  &lt;/Demo&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test&quot;&gt;测试触发一下父组件的Hello事件&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213714757.png" alt=""></p><p><img src="../image/Vue3详细版/image-20231021213749184.png" alt="image-20231021213749184"></p><p>具名插槽<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo @hello=&quot;showHelloMsg&quot; msg=&quot;你好啊&quot; school=&quot;尚硅谷&quot;&gt;</span><br><span class="line">    &lt;!-- &lt;template slot=&quot;qwe&quot;&gt;</span><br><span class="line">      &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt; --&gt;</span><br><span class="line">    &lt;template v-slot:qwe&gt;</span><br><span class="line">      &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-slot:asd&gt;</span><br><span class="line">      &lt;span&gt;尚硅谷&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/Demo&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;slot name=&quot;qwe&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;slot name=&quot;asd&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;test&quot;&gt;测试触发一下父组件的Hello事件&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    /* beforeCreate() &#123;</span><br><span class="line">        console.log(&#x27;---beforeCreate---&#x27;, this);</span><br><span class="line">    &#125;, */</span><br><span class="line">    props: [&#x27;msg&#x27;, &#x27;school&#x27;],</span><br><span class="line">    emits: [&#x27;hello&#x27;],</span><br><span class="line">    setup(props, context) &#123;</span><br><span class="line">        // console.log(&#x27;---setup---&#x27;, props);</span><br><span class="line">        // console.log(&#x27;---setup---&#x27;, context);</span><br><span class="line">        // console.log(&#x27;---setup---&#x27;, context.attrs);  // 相当于Vue2中的$attrs</span><br><span class="line">        // console.log(&#x27;---setup---&#x27;, context.emit);   // 触发自定义事件的</span><br><span class="line">        console.log(&#x27;---setup---&#x27;, context.slots);</span><br><span class="line">        //数据</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 方法</span><br><span class="line">        function test() &#123;</span><br><span class="line">            context.emit(&#x27;hello&#x27;, 666)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person,</span><br><span class="line">            test</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213818852.png" alt="image-20231021213818852"></p><h4 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h4><ul><li><p>setup执行的时机</p><ul><li>在beforeCreate之前执行一次，this是undefined。</li></ul></li><li><p>setup的参数</p><ul><li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。</li><li>context：上下文对象<ul><li>attrs: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于 <code>this.$attrs</code>。</li><li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li><li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li></ul></li></ul></li></ul><h2 id="computed计算属性"><a href="#computed计算属性" class="headerlink" title="computed计算属性"></a>computed计算属性</h2><p>虽然在vue3可以用vue2的写法, 但是非常不建议</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;一个人的信息: &lt;/h1&gt;</span><br><span class="line">  姓: &lt;input type=&quot;text&quot; v-model=&quot;person.firstName&quot;&gt;&lt;br&gt;</span><br><span class="line">  名: &lt;input type=&quot;text&quot; v-model=&quot;person.lastName&quot;&gt;&lt;br&gt;</span><br><span class="line">  &lt;span&gt;全名: &#123;&#123;person.fullName&#125;&#125;&lt;/span&gt;&lt;br&gt;</span><br><span class="line">  全名: &lt;input type=&quot;text&quot; v-model=&quot;person.fullName&quot;&gt;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, computed&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    // 虽然在vue3可以用vue2的写法, 但是非常不建议</span><br><span class="line">    /* computed: &#123;</span><br><span class="line">        fullName() &#123;</span><br><span class="line">            return this.person.firstName + &#x27;-&#x27; + this.person.lastName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, */</span><br><span class="line">    setup() &#123;</span><br><span class="line">        //数据</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            firstName: &#x27;张&#x27;,</span><br><span class="line">            lastName: &#x27;三&#x27;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        /* person.fullName = computed(() =&gt; &#123;</span><br><span class="line">             return person.firstName + &#x27;-&#x27; + person.lastName </span><br><span class="line">        &#125;) */</span><br><span class="line"></span><br><span class="line">        person.fullName = computed(&#123;</span><br><span class="line">            get() &#123;</span><br><span class="line">                return person.firstName + &#x27;-&#x27; + person.lastName </span><br><span class="line">            &#125;,</span><br><span class="line">            set(value) &#123;</span><br><span class="line">                const nameArr = value.split(&#x27;-&#x27;)</span><br><span class="line">                person.firstName = nameArr[0]</span><br><span class="line">                person.lastName = nameArr[1]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021213912763.png" alt=""></p><h4 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h4>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//计算属性——简写</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//计算属性——完整</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">            person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="watch监视"><a href="#watch监视" class="headerlink" title="watch监视"></a>watch监视</h2><h4 id="watch监视ref定义的数据"><a href="#watch监视ref定义的数据" class="headerlink" title="watch监视ref定义的数据"></a>watch监视ref定义的数据</h4><p>vue2的监视<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        // 简写</span><br><span class="line">        /* sum(newValue, oldValue) &#123;</span><br><span class="line">            console.log(&#x27;sum值变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125; */</span><br><span class="line">        sum: &#123;</span><br><span class="line">            // 立刻执行一次</span><br><span class="line">            immediate: true,</span><br><span class="line">            deep: true,</span><br><span class="line">            handler(newValue, oldValue) &#123;</span><br><span class="line">                console.log(&#x27;sum值变化了&#x27;, newValue, oldValue);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>vue3的监视<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">    &lt;h2&gt;当前的信息为：&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button @click=&quot;msg+=&#x27;!&#x27;&quot;&gt;修改信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, watch&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let msg = ref(&#x27;你好啊&#x27;)</span><br><span class="line"></span><br><span class="line">        // 监视</span><br><span class="line">        // 情况一: 监视ref所定义的一个响应式数据</span><br><span class="line">        /* watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line"></span><br><span class="line">        // 情况二: 监视ref所定义的多个响应式数据</span><br><span class="line">        /* watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;)</span><br><span class="line">        watch(msg, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;msg变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line">        watch([sum, msg], (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum或msg变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;immediate: true&#125;)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            msg</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>可以发现当使用了第三个参数<code>&#123;immediate: true&#125;</code>, 会在页面加载完成之后就立即进行监视<br><img src="../image/Vue3详细版/image-20231021213950843.png" alt="image-20231021213950843"></p><h4 id="watch监视reactive定义的数据"><a href="#watch监视reactive定义的数据" class="headerlink" title="watch监视reactive定义的数据"></a>watch监视reactive定义的数据</h4><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前的信息为：&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;msg+=&#x27;!&#x27;&quot;&gt;修改信息&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;person.job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;person.name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, watch&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let msg = ref(&#x27;你好啊&#x27;)</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 监视</span><br><span class="line">        // 情况一: 监视ref所定义的一个响应式数据</span><br><span class="line">        /* watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line"></span><br><span class="line">        // 情况二: 监视ref所定义的多个响应式数据</span><br><span class="line">        /* watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;)</span><br><span class="line">        watch(msg, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;msg变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line">        /* watch([sum, msg], (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum或msg变了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;immediate: true&#125;) */</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">            情况三: 监视reactive所定义的一个响应式数据的全部属性</span><br><span class="line">                1. 注意: 此处无法正确的获取oldValue</span><br><span class="line">                2. 注意: 强制开启了深度监视(deep配置无效)</span><br><span class="line">         */</span><br><span class="line">        /* watch(person, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;person变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;deep: false&#125;)   // 此处的deep配置无效 */</span><br><span class="line"></span><br><span class="line">        // 情况四: 监视reactive所定义的一个响应式数据的某个属性</span><br><span class="line">        /* watch(() =&gt; person.age, (newValue, oldValue)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;person的age变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line"></span><br><span class="line">        // 情况五: 监视reactive所定义的一个响应式数据的某些属性</span><br><span class="line">        /* watch([() =&gt; person.age, () =&gt; person.name], (newValue, oldValue)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;person的name或age变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line"></span><br><span class="line">        // 特殊情况</span><br><span class="line">        watch(() =&gt; person.job, (newValue, oldValue)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;person的job变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;deep:true&#125;) // 此处由于监视的是reactive所定义的对象中的某个属性, 所以deep配置有效</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            msg,</span><br><span class="line">            person</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="watch时value的问题"><a href="#watch时value的问题" class="headerlink" title="watch时value的问题"></a>watch时value的问题</h4><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前的信息为：&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;msg+=&#x27;!&#x27;&quot;&gt;修改信息&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;person.job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;person.name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, watch&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let msg = ref(&#x27;你好啊&#x27;)</span><br><span class="line">        let person = ref(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 这里不能写sum.value</span><br><span class="line">        watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum的值变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 此时ref定义的数据求助了reactive定义的数据</span><br><span class="line">        /* watch(person.value, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;person的值变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;) */</span><br><span class="line">        // person不使用.value, 那么就需要开启深度监视</span><br><span class="line">        watch(person, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;person的值变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;deep: true&#125;)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            msg,</span><br><span class="line">            person</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>注意person是ref定义的数据<br>person.value此时ref定义的数据求助了reactive定义的数据<br>person不使用.value, 那么就需要开启深度监视</p><h4 id="总结-8"><a href="#总结-8" class="headerlink" title="总结"></a>总结</h4><ul><li><p>与Vue2.x中watch配置功能一致</p></li><li><p>两个小“坑”：</p><ul><li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）。</li><li>监视reactive定义的响应式数据中某个属性时：deep配置有效。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//情况一：监视ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//情况二：监视多个ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>([sum,msg],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum或msg变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">/* 情况三：监视reactive定义的响应式数据</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">false</span>&#125;) <span class="comment">//此处的deep配置不再奏效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//情况四：监视reactive定义的响应式数据中的某个属性</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">//情况五：监视reactive定义的响应式数据中的某些属性</span></span><br><span class="line"><span class="title function_">watch</span>([<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">()=&gt;</span>person.<span class="property">name</span>],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//特殊情况</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="watchEffect函数"><a href="#watchEffect函数" class="headerlink" title="watchEffect函数"></a>watchEffect函数</h2><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Demo /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前的信息为：&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;msg+=&#x27;!&#x27;&quot;&gt;修改信息&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;person.job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;person.name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, watch, watchEffect&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let msg = ref(&#x27;你好啊&#x27;)</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 监视</span><br><span class="line">        /* watch(sum, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">            console.log(&#x27;sum的值变化了&#x27;, newValue, oldValue);</span><br><span class="line">        &#125;, &#123;immediate: true&#125;) */</span><br><span class="line"></span><br><span class="line">        watchEffect(() =&gt; &#123;</span><br><span class="line">            const x1 = sum.value</span><br><span class="line">            const x2 = person.job.j1.salary</span><br><span class="line">            console.log(&#x27;watchEffect所指定的回调执行了&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            msg,</span><br><span class="line">            person</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>不说监视了谁, 用了谁监视谁<br><img src="../image/Vue3详细版/image-20231021214034649.png" alt="image-20231021214034649"></p><h5 id="总结-9"><a href="#总结-9" class="headerlink" title="总结"></a>总结</h5><ul><li><p>watch的套路是：既要指明监视的属性，也要指明监视的回调。</p></li><li><p>watchEffect的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p></li><li><p>watchEffect有点像computed：</p><ul><li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li><li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">    <span class="keyword">const</span> x2 = person.<span class="property">age</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffect配置的回调执行了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h2 id="Vue3生命周期"><a href="#Vue3生命周期" class="headerlink" title="Vue3生命周期"></a>Vue3生命周期</h2><p>beforeCreate setup name 这些就叫配置项<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我+1&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;onBeforeMount, onMounted, onBeforeUpdate, onUpdated,  onBeforeUnmount, onUnmounted, ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        console.log(&#x27;---setup---&#x27;);</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line"></span><br><span class="line">        // 通过组合式API的形式去使用生命周期钩子</span><br><span class="line">        onBeforeMount(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onBeforeMount---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line">        onMounted(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onMounted---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line">        onBeforeUpdate(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onBeforeUpdate---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line">        onUpdated(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onUpdated---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line">        onBeforeUnmount(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onBeforeUnmount---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line">        onUnmounted(() =&gt; &#123;</span><br><span class="line">            console.log(&#x27;---onUnmounted---&#x27;);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // beforeCreate setup name 这些就叫配置项</span><br><span class="line">    // 通过配置项的形式使用生命周期钩子</span><br><span class="line">    //#region </span><br><span class="line">    /* beforeCreate() &#123;</span><br><span class="line">        console.log(&#x27;---beforeCreate---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">        console.log(&#x27;---created---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeMount() &#123;</span><br><span class="line">        console.log(&#x27;---beforeMount---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        console.log(&#x27;---mounted---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUpdate() &#123;</span><br><span class="line">        console.log(&#x27;---beforeUpdate---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    updated() &#123;</span><br><span class="line">        console.log(&#x27;---updated---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUnmount() &#123;</span><br><span class="line">        console.log(&#x27;---beforeUnmount---&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    unmounted() &#123;</span><br><span class="line">        console.log(&#x27;---unmounted---&#x27;);</span><br><span class="line">    &#125; */</span><br><span class="line">    //#endregion</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="总结-10"><a href="#总结-10" class="headerlink" title="总结"></a>总结</h4><p>Vue2生命周期图示<br><img src="../image/Vue3详细版/image-20231021214105758.png" alt="image-20231021214105758"></p><p>Vue3生命周期图示<br><img src="../image/Vue3详细版/image-20231021214129716.png" alt="image-20231021214129716"></p><p>1</p><ul><li>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名：<ul><li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li><li><code>destroyed</code>改名为 <code>unmounted</code></li></ul></li><li>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩子对应关系如下：<ul><li><code>beforeCreate</code>===&gt;<code>setup()</code></li><li><code>created</code>=======&gt;<code>setup()</code></li><li><code>beforeMount</code> ===&gt;<code>onBeforeMount</code></li><li><code>mounted</code>=======&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>===&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> =======&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code> ==&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> =====&gt;<code>onUnmounted</code></li></ul></li></ul><h2 id="自定义hook"><a href="#自定义hook" class="headerlink" title="自定义hook"></a>自定义hook</h2><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">  &lt;hr&gt;</span><br><span class="line">  &lt;Test /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">import Test from &#x27;./components/Test&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo, Test&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>components/Demo.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我+1&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;当前点击鼠标的坐标为: x: &#123;&#123;point.x&#125;&#125;, y: &#123;&#123;point.y&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import usePoint from &#x27;../hooks/usePoint&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        console.log(&#x27;---setup---&#x27;);</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line"></span><br><span class="line">        let point = usePoint()</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            point</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>components/Test.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h2&gt;当前点击鼠标的坐标为: x: &#123;&#123;point.x&#125;&#125;, y: &#123;&#123;point.y&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import usePoint from &#x27;@/hooks/usePoint&#x27;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;Test&#x27;,</span><br><span class="line">        setup() &#123;</span><br><span class="line">            let point = usePoint()</span><br><span class="line">            return &#123;point&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>hooks/usePoint.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive, onMounted, onUnmounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 实现鼠标&quot;打点&quot;相关的数据</span></span><br><span class="line">    <span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 实现鼠标&quot;打点&quot;相关的方法</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">        point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">pageX</span>, event.<span class="property">pageY</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 实现鼠标&quot;打点&quot;相关的生命周期钩子</span></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面效果:<br><img src="../image/Vue3详细版/image-20231021214201807.png" alt="image-20231021214201807"></p><p>几种暴露js function的方式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">usePoint</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> usePoint</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">usePoint</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三种</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="总结-11"><a href="#总结-11" class="headerlink" title="总结"></a>总结</h4><ul><li><p>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装。</p></li><li><p>类似于vue2.x中的mixin。</p></li><li><p>自定义hook的优势: 复用代码, 让setup中的逻辑更清楚易懂。</p></li></ul><h2 id="toRef与toRefs"><a href="#toRef与toRefs" class="headerlink" title="toRef与toRefs"></a>toRef与toRefs</h2><p>ref是复制了person对象, toRef是引用了person对象<br>修改ref返回的对象, 源对象不会变化<br>但是修改toRef返回的对象, 源对象会随着跟着变化<br>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h4&gt;&#123;&#123;person&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, toRef, toRefs&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // 这个仅仅是 &#x27;张三&#x27; 字符串</span><br><span class="line">        // const name1 = person.name</span><br><span class="line">        // console.log(&#x27;%%%&#x27;, name1);</span><br><span class="line">        </span><br><span class="line">        // // 这个是引用了16行的person对象的name</span><br><span class="line">        // const name2 = toRef(person.name)</span><br><span class="line">        // console.log(&#x27;###&#x27;, name2);</span><br><span class="line"></span><br><span class="line">        const x = toRefs(person)</span><br><span class="line">        console.log(&#x27;***&#x27;, x);</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person,</span><br><span class="line">            // 正确写法</span><br><span class="line">            // name: toRef(person, &#x27;name&#x27;),</span><br><span class="line">            // age: toRef(person, &#x27;age&#x27;),</span><br><span class="line">            // salary: toRef(person.job.j1, &#x27;salary&#x27;)</span><br><span class="line">            </span><br><span class="line">            // 下面这种写法是不对的, 创建了一个新的ref对象, 用的不是16行定义的person对象了</span><br><span class="line">            // 一旦修改了person.name的值, ref的值会变化, 但是16行定义的对象不会发生变化</span><br><span class="line">            // 总结: ref是复制了person对象, toRef是引用了person对象</span><br><span class="line">            // name: ref(person.name),</span><br><span class="line">            // age: ref(person.age),</span><br><span class="line">            // salary: ref(person.job.j1.salary)</span><br><span class="line"></span><br><span class="line">            // toRefs的写法</span><br><span class="line">            // 在一个对象里面通过...去展开另一个对象, 把toRefs()生成的对象, 每一组key value都放在了外面这个对象身上了</span><br><span class="line">            ...toRefs(person)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>person和toRef是同时变化的<br><img src="../image/Vue3详细版/image-20231021214228872.png" alt="image-20231021214228872"></p><h4 id="总结-12"><a href="#总结-12" class="headerlink" title="总结"></a>总结</h4><ul><li>作用：创建一个 ref 对象，其value值指向另一个对象中的某个属性。</li><li>语法：<code>const name = toRef(person,&#39;name&#39;)</code></li><li>应用:   要将响应式对象中的某个属性单独提供给外部使用时。</li></ul><ul><li>扩展：<code>toRefs</code> 与<code>toRef</code>功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></li></ul><h2 id="shallowReactive与shallowRef"><a href="#shallowReactive与shallowRef" class="headerlink" title="shallowReactive与shallowRef"></a>shallowReactive与shallowRef</h2><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h4&gt;&#123;&#123;x.y&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;!-- x有响应式, 但是y没有响应式 --&gt;</span><br><span class="line">    &lt;button @click=&quot;x=&#123;y: 888&#125;&quot;&gt;点我替换x&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;x.y++&quot;&gt;点我x+1&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h4&gt;&#123;&#123;person&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, toRef, toRefs, shallowReactive, shallowRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        // 改成shallowReactive之后薪资改变不了</span><br><span class="line">        // let person = shallowReactive(&#123;   //只考虑第一层数据的响应式</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // ref可以求助于reactive, 但是shallowRef不会去求助于reactive</span><br><span class="line">        let x = shallowRef(&#123;    // 就是一个普通的Object对象, y的值不会被修改</span><br><span class="line">        // let x = ref(&#123;       // Proxy(Object)</span><br><span class="line">            y: 0</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        console.log(x);</span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            person,</span><br><span class="line">            x,</span><br><span class="line">            ...toRefs(person)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="总结-13"><a href="#总结-13" class="headerlink" title="总结"></a>总结</h4><ul><li>shallowReactive：只处理对象最外层属性的响应式（浅响应式）。</li><li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理。</p></li><li><p>什么时候使用?</p><ul><li>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 ===&gt; shallowReactive。</li><li>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 ===&gt; shallowRef。</li></ul></li></ul><h2 id="readonly与shalloReadonly"><a href="#readonly与shalloReadonly" class="headerlink" title="readonly与shalloReadonly"></a>readonly与shalloReadonly</h2><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h4&gt;当前求和:&#123;&#123;sum&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我x++&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, toRefs, readonly, shallowReadonly&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        // person = readonly(person)</span><br><span class="line">        // person = shallowReadonly(person)</span><br><span class="line">        // sum = readonly(sum)</span><br><span class="line">        // sum = shallowReadonly(sum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            ...toRefs( person )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>点击之后修改页面, <code>readonly(person)</code>是深层次的只读<br><img src="../image/Vue3详细版/image-20231021214258826.png" alt="image-20231021214258826"></p><p><code>shallowReadonly(person)</code>是浅层次的只读<br><img src="../image/Vue3详细版/image-20231021214317543.png" alt=""></p><p><code>readonly(sum)</code> 和 <code>shallowReadonly(sum)</code> 都是只读的, sum也没有深层次的数据<br><img src="../image/Vue3详细版/image-20231021214332528.png" alt="image-20231021214332528"></p><h4 id="总结-14"><a href="#总结-14" class="headerlink" title="总结"></a>总结</h4><ul><li>readonly: 让一个响应式数据变为只读的（深只读）。</li><li>shallowReadonly：让一个响应式数据变为只读的（浅只读）。</li><li>应用场景: 不希望数据被修改时。</li></ul><h2 id="toRaw与markRaw"><a href="#toRaw与markRaw" class="headerlink" title="toRaw与markRaw"></a>toRaw与markRaw</h2><p>父组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;isShowDemo = !isShowDemo&quot;&gt;切换隐藏/显示&lt;/button&gt;</span><br><span class="line">  &lt;Demo v-if=&quot;isShowDemo&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import Demo from &#x27;./components/Demo&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Demo&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShowDemo = ref(true)</span><br><span class="line"></span><br><span class="line">    return &#123;isShowDemo&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h4&gt;当前求和:&#123;&#123;sum&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;sum++&quot;&gt;点我x++&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;薪资: &#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">    &lt;h3 v-show=&quot;person.car&quot;&gt;座驾信息: &#123;&#123;person.car&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showRawPerson&quot;&gt;输出最原始的person&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;addCar&quot;&gt;给人添加一台车&lt;/button&gt;</span><br><span class="line">    &lt;button :disabled=&quot;!person.car&quot; @click=&quot;person.car.name+=&#x27;!&#x27;&quot;&gt;换车名&lt;/button&gt;</span><br><span class="line">    &lt;button :disabled=&quot;!person.car&quot;  @click=&quot;changePrice&quot;&gt;换价格&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;reactive, ref, toRefs, toRaw, markRaw&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Demo&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        // 数据</span><br><span class="line">        let sum = ref(0)</span><br><span class="line">        let person = reactive(&#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            job: &#123;</span><br><span class="line">                j1: &#123;</span><br><span class="line">                    salary: 20</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        function showRawPerson() &#123;</span><br><span class="line">            // 此时年龄一直在增长, 但是页面不变</span><br><span class="line">            // p不是响应式, age++了, age值变了, 但页面不会更新</span><br><span class="line">            // person才是响应式的, 想让页面发生变化, 应该修改person</span><br><span class="line">            const p = toRaw(person)</span><br><span class="line">            p.age++</span><br><span class="line">            console.log(p);</span><br><span class="line"></span><br><span class="line">            // toRaw只能处理reactive所定义的响应式数据, 不能处理ref定义的数据</span><br><span class="line">            // const sum = toRaw(sum)</span><br><span class="line">            // console.log(sum);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function addCar() &#123;</span><br><span class="line">            let car = &#123;name: &#x27;奔驰&#x27;, price: 40&#125;</span><br><span class="line">            person.car = markRaw(car)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function changePrice() &#123;</span><br><span class="line">            person.car.price++</span><br><span class="line">            console.log(person.car.price);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 返回一个对象(常用)</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            person,</span><br><span class="line">            ...toRefs( person ),</span><br><span class="line">            showRawPerson,</span><br><span class="line">            addCar,</span><br><span class="line">            changePrice</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>toRaw输出的原始的对象, 而person输出的对象是Proxy代理的对象<br><img src="../image/Vue3详细版/image-20231021214356571.png" alt=""></p><p>ref定义的数据不能使用toRaw(), 会直接报错<br>toRaw只能处理reactive所定义的响应式数据, 不能处理ref定义的数据<br><img src="../image/Vue3详细版/image-20231021214415120.png" alt=""></p><p>使用了<code>markRaw(car)</code>, 尽管价格变了, 但是页面不会发生变化<br><img src="../image/Vue3详细版/image-20231021214429010.png" alt=""></p><h4 id="总结-15"><a href="#总结-15" class="headerlink" title="总结"></a>总结</h4><ul><li>toRaw：<ul><li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul></li><li>markRaw：<ul><li>作用：标记一个对象，使其永远不会再成为响应式对象。</li><li>应用场景:<ol><li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li><li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li></ol></li></ul></li></ul><h2 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h2><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; v-model=&quot;keyWord&quot;&gt;</span><br><span class="line">  &lt;h3&gt;&#123;&#123;keyWord&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 自定义一个ref 名为: myRef</span><br><span class="line">    function myRef(value) &#123;</span><br><span class="line">      return customRef((track, trigger) =&gt; &#123;</span><br><span class="line">        let timer</span><br><span class="line">          return &#123;</span><br><span class="line">            get() &#123;</span><br><span class="line">              console.log(`有人从myRef这个容器中读取数据了, 我把$&#123;value&#125;给他了`);</span><br><span class="line">              track() // 通知Vue追踪value的变化(提前和get商量一下, 让他认为这个value是有用的)</span><br><span class="line">              return value</span><br><span class="line">            &#125;,</span><br><span class="line">            set(newValue) &#123;</span><br><span class="line">              console.log(`有人把myRef这个容器中数据改为了: $&#123;newValue&#125;`);</span><br><span class="line">              clearTimeout(timer)</span><br><span class="line">              timer = setTimeout(() =&gt; &#123;</span><br><span class="line">                value = newValue</span><br><span class="line">                trigger() // 通知Vue去重新解析模板</span><br><span class="line">              &#125;, 1000);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    // let keyWord = ref(&#x27;hello&#x27;) // 使用Vue提供的ref</span><br><span class="line">    let keyWord = myRef(&#x27;hello&#x27;)  // 使用程序员自定义的ref</span><br><span class="line"></span><br><span class="line">    return &#123;keyWord&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><a href="https://juejin.cn/post/6967145574244024357">JS中节流与防抖函数</a><br>节流函数: 先清除定时器, 再开一个新的定时器<br>防抖函数: 实现了输入框输入完成后才会触发函数, 防止在不停输入调用函数, 节省资源的浪费</p><p>当输入框输入内容, h3标签就延迟一秒显示<br><img src="../image/Vue3详细版/image-20231021214457271.png" alt=""></p><h4 id="总结-16"><a href="#总结-16" class="headerlink" title="总结"></a>总结</h4><ul><li><p>作用：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</p></li><li><p>实现防抖效果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;keyword&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;keyword&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref,customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Demo&#x27;,</span><br><span class="line">setup()&#123;</span><br><span class="line">// let keyword = ref(&#x27;hello&#x27;) //使用Vue准备好的内置ref</span><br><span class="line">//自定义一个myRef</span><br><span class="line">function myRef(value,delay)&#123;</span><br><span class="line">let timer</span><br><span class="line">//通过customRef去实现自定义</span><br><span class="line">return customRef((track,trigger)=&gt;&#123;</span><br><span class="line">return&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">track() //告诉Vue这个value值是需要被“追踪”的</span><br><span class="line">return value</span><br><span class="line">&#125;,</span><br><span class="line">set(newValue)&#123;</span><br><span class="line">clearTimeout(timer)</span><br><span class="line">timer = setTimeout(()=&gt;&#123;</span><br><span class="line">value = newValue</span><br><span class="line">trigger() //告诉Vue去更新界面</span><br><span class="line">&#125;,delay)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">let keyword = myRef(&#x27;hello&#x27;,500) //使用程序员自定义的ref</span><br><span class="line">return &#123;</span><br><span class="line">keyword</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="provide与inject"><a href="#provide与inject" class="headerlink" title="provide与inject"></a>provide与inject</h2><p>provide是父组件用来给后代传递数据的<br>inject是后代组件用来接收数据的</p><p>项目结构<br><img src="../image/Vue3详细版/image-20231021214514753.png" alt=""></p><p>父组件<br>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件(祖), &#123;&#123;name&#125;&#125;--&#123;&#123;price&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;Child /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive, toRefs, provide &#125; from &#x27;vue&#x27;</span><br><span class="line">import Child from &#x27;./components/Child.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Child&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let car = reactive(&#123;name: &#x27;奔驰&#x27;, price: &#x27;40W&#x27;&#125;)</span><br><span class="line">    provide(&#x27;car&#x27;, car) // 给自己的后代组件传递数据</span><br><span class="line">    return &#123;...toRefs(car)&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是Child组件(子)&lt;/h3&gt;</span><br><span class="line">    &lt;Son /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;inject&#125; from &#x27;vue&#x27;</span><br><span class="line">import Son from &#x27;./Son.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  components: &#123;Son&#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let car = inject(&#x27;car&#x27;)</span><br><span class="line">    console.log(&#x27;car for Child&#x27;, car);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .child &#123;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>孙组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是Son组件(孙), &#123;&#123;car.name&#125;&#125;--&#123;&#123;car.price&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;inject&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Son&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const car = inject(&#x27;car&#x27;)</span><br><span class="line">    return &#123;car&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .son &#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>页面效果<br><img src="../image/Vue3详细版/image-20231021214551414.png" alt=""></p><h4 id="总结-17"><a href="#总结-17" class="headerlink" title="总结"></a>总结</h4><p><img src="../image/Vue3详细版/image-20231021214647512.png" alt="image-20231021214647512"></p><ul><li><p>作用：实现<strong style="color:#DD5145">祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p></li><li><p>具体写法：</p><ol><li><p>祖组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;奔驰&#x27;</span>,<span class="attr">price</span>:<span class="string">&#x27;40万&#x27;</span>&#125;)</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>,car)</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>后代组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;car&#125;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h2 id="响应式数据的判断"><a href="#响应式数据的判断" class="headerlink" title="响应式数据的判断"></a>响应式数据的判断</h2><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref, reactive, toRefs, readonly, isRef, isReactive, isReadonly, isProxy&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let car = reactive(&#123;name: &#x27;奔驰&#x27;, price: &#x27;40W&#x27;&#125;)</span><br><span class="line">    let sum = ref(0)</span><br><span class="line">    let car2 = readonly(car)</span><br><span class="line"></span><br><span class="line">    console.log(isRef(sum));</span><br><span class="line">    console.log(isReactive(car));</span><br><span class="line">    console.log(isReadonly(car2));</span><br><span class="line">    console.log(isProxy(car));</span><br><span class="line">    console.log(isProxy(car2)); // readonly处理的数据返回的类型依然是Proxy类型</span><br><span class="line">    console.log(isProxy(sum));</span><br><span class="line">    </span><br><span class="line">    return &#123;...toRefs(car)&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>运行结果:<br><img src="../image/Vue3详细版/image-20231021214720704.png" alt=""></p><h4 id="总结-18"><a href="#总结-18" class="headerlink" title="总结"></a>总结</h4><ul><li>isRef: 检查一个值是否为一个 ref 对象</li><li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li><li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li><li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li></ul><h2 id="Composition-API-的优势"><a href="#Composition-API-的优势" class="headerlink" title="Composition API 的优势"></a>Composition API 的优势</h2><h4 id="1-Options-API-存在的问题"><a href="#1-Options-API-存在的问题" class="headerlink" title="1.Options API 存在的问题"></a>1.Options API 存在的问题</h4><p>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改 。</p><img class="inline-img" src="https://www.fuchengya.com/image/Vue3%E8%AF%A6%E7%BB%86%E7%89%88/02.image" style="height:350px"/><img class="inline-img" src="https://www.fuchengya.com/image/Vue3%E8%AF%A6%E7%BB%86%E7%89%88/01.image" style="height:350px"/><h4 id="2-Composition-API-的优势"><a href="#2-Composition-API-的优势" class="headerlink" title="2.Composition API 的优势"></a>2.Composition API 的优势</h4><p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。</p><img class="inline-img" src="https://www.fuchengya.com/image/Vue3%E8%AF%A6%E7%BB%86%E7%89%88/03.image" style="height:285px"/><img class="inline-img" src="https://www.fuchengya.com/image/Vue3%E8%AF%A6%E7%BB%86%E7%89%88/04.image" style="height:285px"/><h2 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h2><p>组件根标签可以不写, 会放到fragment</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><img src="../image/Vue3详细版/image-20231021214846434.png" alt=""></p><h4 id="总结-19"><a href="#总结-19" class="headerlink" title="总结"></a>总结</h4><ul><li>在Vue2中: 组件必须有一个根标签</li><li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li><li>好处: 减少标签层级, 减小内存占用</li></ul><h2 id="teleport"><a href="#teleport" class="headerlink" title="teleport"></a>teleport</h2><p>主要就是用来控制标签的位置的<br>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">    &lt;Child /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Child from &#x27;./components/Child&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;Child&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Child.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是Child组件&lt;/h3&gt;</span><br><span class="line">    &lt;Son /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Son from &#x27;./Son.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  components: &#123;Son&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .child &#123;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Son.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是Son组件&lt;/h3&gt;</span><br><span class="line">    &lt;Dialog&gt;&lt;/Dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Dialog from &#x27;./Dialog.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123; Dialog &#125;,</span><br><span class="line">  name: &#x27;Son&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .son &#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Dialog.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;isShow = true&quot;&gt;点我弹个窗&lt;/button&gt;</span><br><span class="line">    &lt;teleport to=&quot;body&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;mask&quot; v-if=&quot;isShow&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">                &lt;h3&gt;我是一个弹窗&lt;/h3&gt;</span><br><span class="line">                &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">                &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">                &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">                &lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/teleport&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Dialog&#x27;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        let isShow = ref(false)</span><br><span class="line">        return &#123;isShow&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .mask &#123;</span><br><span class="line">        /* 遮罩层CSS */</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 0;bottom: 0;left: 0;right: 0;</span><br><span class="line">        background-color: rgba(0, 0, 0, 0.5);</span><br><span class="line">    &#125;</span><br><span class="line">    .dialog&#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 50%;</span><br><span class="line">        left: 50%;</span><br><span class="line">        transform: translate(-50%, -50%);</span><br><span class="line">        text-align: center;</span><br><span class="line">        width: 300px;</span><br><span class="line">        height: 300px;</span><br><span class="line">        background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>页面效果:<br><img src="../image/Vue3详细版/image-20231021214931210.png" alt=""></p><p>未使用teleport时, dialog的DOM节点在SON组件中, 当嵌套比较深的时候, 这样不太好进行控制样式(比如定位啥的)<br><img src="../image/Vue3详细版/image-20231021214942152.png" alt=""></p><p>使用<code>&lt;teleport to=&quot;body&quot;&gt;</code>时, 此时dialog的位置就是跟body平级的, 可以对body进行定位, 这样去控制定位比较方便<img src="../image/Vue3详细版/image-20231021214955321.png" alt="image-20231021214955321"></p><p>当然<code>teleport</code>的属性<code>to=&quot;body&quot;</code>不一定指向<code>body</code>标签, 也可以用CSS的选择器<br>例如: <code>&lt;teleport to=&quot;#atguigu&quot;&gt;</code></p><h4 id="总结-20"><a href="#总结-20" class="headerlink" title="总结"></a>总结</h4><ul><li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件html结构</strong>移动到指定位置的技术。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;teleport to=&quot;移动位置&quot;&gt;</span><br><span class="line">&lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;</span><br><span class="line">&lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是一个弹窗&lt;/h3&gt;</span><br><span class="line">&lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/teleport&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="Suspense"><a href="#Suspense" class="headerlink" title="Suspense"></a>Suspense</h2><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">    &lt;Suspense&gt;</span><br><span class="line">      &lt;template v-slot:default&gt;</span><br><span class="line">        &lt;Child /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template v-slot:fallback&gt;</span><br><span class="line">        &lt;h3&gt;稍等, 加载中...&lt;/h3&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Suspense&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // import Child from &#x27;./components/Child&#x27;  // 静态引入</span><br><span class="line">  import &#123;defineAsyncComponent&#125; from &#x27;vue&#x27;  // 异步引入(动态引入)</span><br><span class="line">  const Child = defineAsyncComponent(() =&gt; import(&#x27;./components/Child&#x27;))</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;App&#x27;,</span><br><span class="line">    components: &#123;Child&#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Child.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;我是Child组件&lt;/h3&gt;</span><br><span class="line">    &#123;&#123;sum&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  async setup() &#123;</span><br><span class="line">    let sum = ref(0)</span><br><span class="line">    /* return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            resolve(&#123;sum&#125;)</span><br><span class="line">        &#125;, 1000)</span><br><span class="line">    &#125;) */</span><br><span class="line">    let p = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            resolve(&#123;sum&#125;)</span><br><span class="line">        &#125;, 1000)</span><br><span class="line">    &#125;)</span><br><span class="line">    return await p</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .child &#123;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">    padding: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>页面效果就是: 先展示稍等, 之后再展示Child组件<br><img src="../image/Vue3详细版/image-20231021215041209.png" alt=""></p><p><img src="../image/Vue3详细版/image-20231021215052387.png" alt=""></p><p>Vue3中的setup, Promise要跟Suspense一块使用</p><h4 id="总结-21"><a href="#总结-21" class="headerlink" title="总结"></a>总结</h4><ul><li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p></li><li><p>使用步骤：</p><ul><li><p>异步引入组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure></li><li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">&lt;Suspense&gt;</span><br><span class="line">&lt;template v-slot:default&gt;</span><br><span class="line">&lt;Child/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template v-slot:fallback&gt;</span><br><span class="line">&lt;h3&gt;加载中.....&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="全局API的转移"><a href="#全局API的转移" class="headerlink" title="全局API的转移"></a>全局API的转移</h2><ul><li><p>Vue 2.x 有许多全局 API 和配置。</p><ul><li><p>例如：注册全局组件、注册全局指令等。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册全局组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyButton&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//注册全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">inserted</span>: <span class="function"><span class="params">el</span> =&gt;</span> el.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Vue3.0中对这些API做出了调整：</p><ul><li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p><p>| 2.x 全局 API（<code>Vue</code>） | 3.x 实例 API (<code>app</code>)                        |<br>| ————————————- | —————————————————————- |<br>| Vue.config.xxxx           | app.config.xxxx                             |<br>| Vue.config.productionTip  | <strong style="color:#DD5145">移除</strong> |<br>| Vue.component             | app.component                               |<br>| Vue.directive             | app.directive                               |<br>| Vue.mixin                 | app.mixin                                   |<br>| Vue.use                   | app.use                                     |<br>| Vue.prototype             | app.config.globalProperties                 |</p></li></ul></li></ul><h2 id="其他改变"><a href="#其他改变" class="headerlink" title="其他改变"></a>其他改变</h2><ul><li><p>data选项应始终被声明为一个函数。</p></li><li><p>过度类名的更改：</p><ul><li><p>Vue2.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Vue3.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component</span><br><span class="line">  v-on:close=&quot;handleComponentEvent&quot;</span><br><span class="line">  v-on:click=&quot;handleNativeClickEvent&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></li><li><p>子组件中声明自定义事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    emits: [&#x27;close&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p></blockquote></li><li><p>……</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 详细版 </tag>
            
            <tag> 脚手架 </tag>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2脚手架</title>
      <link href="/posts/db5a5ee4.html"/>
      <url>/posts/db5a5ee4.html</url>
      
        <content type="html"><![CDATA[<h2 id="创建脚手架"><a href="#创建脚手架" class="headerlink" title="创建脚手架"></a>创建脚手架</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 如出现下载缓慢请配置 npm 淘宝镜像：</span><br><span class="line">npm config <span class="keyword">set</span> registry https:<span class="operator">/</span><span class="operator">/</span>registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>脚手架官网<a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a><br>具体步骤:<br> 第一步（仅第一次执行）：全局安装@vue/cli。  </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="operator">-</span>g <span class="variable">@vue</span><span class="operator">/</span>cli</span><br></pre></td></tr></table></figure><p> 第二步：切换到你要创建项目的目录，然后使用命令创建项目  </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue <span class="keyword">create</span> xxxx</span><br></pre></td></tr></table></figure><p> 第三步：启动项目  </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p><img src="../image/Vue-cli/image-20231021170618003.png" alt="image-20231021170618003"><br>访问<a href="http://localhost:8080/">http://localhost:8080/</a>, 可以看见脚手架为我们默认创建一个HelloWorld组件<br><img src="../image/Vue-cli/image-20231021170657765.png" alt="image-20231021170657765"></p><p>脚手架文件结构</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">├── node_modules </span><br><span class="line">├── public</span><br><span class="line">│   ├── favicon.<span class="property">ico</span>: 页签图标</span><br><span class="line">│   └── index.<span class="property">html</span>: 主页面</span><br><span class="line">├── src</span><br><span class="line">│   ├── <span class="attr">assets</span>: 存放静态资源</span><br><span class="line">│   │   └── logo.<span class="property">png</span></span><br><span class="line">│   │── <span class="attr">component</span>: 存放组件</span><br><span class="line">│   │   └── <span class="title class_">HelloWorld</span>.<span class="property">vue</span></span><br><span class="line">│   │── <span class="title class_">App</span>.<span class="property">vue</span>: 汇总所有组件</span><br><span class="line">│   │── main.<span class="property">js</span>: 入口文件</span><br><span class="line">├── .<span class="property">gitignore</span>: git版本管制忽略的配置</span><br><span class="line">├── babel.<span class="property">config</span>.<span class="property">js</span>: babel的配置文件</span><br><span class="line">├── package.<span class="property">json</span>: 应用包配置文件 </span><br><span class="line">├── <span class="variable constant_">README</span>.<span class="property">md</span>: 应用描述文件</span><br><span class="line">├── package-lock.<span class="property">json</span>：包版本控制文件</span><br></pre></td></tr></table></figure><h2 id="脚手架运行项目的报错"><a href="#脚手架运行项目的报错" class="headerlink" title="脚手架运行项目的报错"></a>脚手架运行项目的报错</h2><p>xxx should always be multi-word vue/multi-word-component-names报错<br>修改vue.config.js文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">lintOnSave</span>: <span class="literal">false</span> <span class="comment">// 关闭语法检查</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>如果编写了代码, 左侧行数会出现一个红色小箭头, 这是git在记录<br><img src="../image/Vue-cli/image-20231021170747065.png" alt="image-20231021170747065"><br>可以按Ctrl+, 打开设置, 搜索git:Enabled, 关闭Git<br><img src="../image/Vue-cli/image-20231021171200817.png" alt="image-20231021171200817"></p><h2 id="部署自己的项目到脚手架"><a href="#部署自己的项目到脚手架" class="headerlink" title="部署自己的项目到脚手架"></a>部署自己的项目到脚手架</h2><p><img src="../image/Vue-cli/image-20231021171246055.png" alt="image-20231021171246055"><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;showName&quot;&gt;点我显示名称&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    showName() &#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生年龄: &#123;&#123; age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;肉豆蔻&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;School&gt;&lt;/School&gt;</span><br><span class="line">    &lt;Student&gt;&lt;/Student&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student,</span><br><span class="line">    School,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">该文件是整个项目的入口文件</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入App组件, 它是所有组件的父组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭Vue的生产提示</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">关于不同版本的Vue：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1.vue.js与vue.runtime.xxx.js的区别：</span></span><br><span class="line"><span class="comment">(1).vue.js是完整版的Vue，包含：核心功能+模板解析器。</span></span><br><span class="line"><span class="comment">(2).vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.因为vue.runtime.xxx.js没有模板解析器，所以不能使用template配置项，需要使用</span></span><br><span class="line"><span class="comment">render函数接收到的createElement函数去指定具体内容。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="comment">// </span></span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// render(createElement) &#123;</span></span><br><span class="line">  <span class="comment">//   return createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// template: `</span></span><br><span class="line">  <span class="comment">// &lt;h1&gt;你好啊&lt;/h1&gt;</span></span><br><span class="line">  <span class="comment">// `,</span></span><br><span class="line">  <span class="comment">// components: &#123;</span></span><br><span class="line">  <span class="comment">//   app</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>import Vue from ‘vue’中引入的是vue文件夹, 它是由vue文件夹中的module配置项来决定导入的是哪一个vue.js<br>runtime.js相比于vue.js, 精简了模板解析器, 模板解析器也不会在webpack打包的时候被打包进去<br><img src="../image/Vue-cli/image-20231021171313097.png" alt="image-20231021171313097"></p><p>关于不同版本的Vue</p><ol><li>vue.js与vue.runtime.xxx.js的区别：<ol><li>vue.js是完整版的Vue，包含：核心功能 + 模板解析器。</li><li>vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。</li></ol></li><li>因为vue.runtime.xxx.js没有模板解析器，所以不能使用template这个配置项，需要使用render函数接收到的createElement函数去指定具体内容。</li></ol><h2 id="render函数"><a href="#render函数" class="headerlink" title="render函数"></a>render函数</h2><p>使用render渲染函数就可以在runtime.js的环境中解析模板, template在runtime.js的环境中没法解析模板, 因为runtime剔除了模板引擎</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// render: h =&gt; h(App),</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// render(createElement) &#123;</span></span><br><span class="line"><span class="comment">//   return createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// render: function(createElement) &#123;</span></span><br><span class="line"><span class="comment">//   return createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// render:(createElement) =&gt; createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="attr">render</span>:<span class="function"><span class="params">a</span> =&gt;</span> <span class="title function_">a</span>(<span class="string">&#x27;h1&#x27;</span>, <span class="string">&#x27;你好啊&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="修改默认配置-vue-config-js配置文件"><a href="#修改默认配置-vue-config-js配置文件" class="headerlink" title="修改默认配置(vue.config.js配置文件)"></a>修改默认配置(vue.config.js配置文件)</h2><p>vue.config.js<br>在pages选项中配置的entry可以指明main.js作为程序的入口, 当然可以设置成其他的, 一般保持默认既可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">pages</span>: &#123;</span><br><span class="line">    <span class="attr">index</span>: &#123;</span><br><span class="line">      <span class="comment">// 配置入口</span></span><br><span class="line">      <span class="attr">entry</span>: <span class="string">&#x27;src/main.js&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">lintOnSave</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>使用vue inspect &gt; output.js可以查看到Vue脚手架的默认配置。</li><li>使用vue.config.js可以对脚手架进行个性化定制，详情见：<a href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li></ol><h2 id="ref属性"><a href="#ref属性" class="headerlink" title="ref属性"></a>ref属性</h2><ol><li>被用来给元素或子组件注册引用信息（id的替代者）</li><li>应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象（vc）</li><li>使用方式：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a. 打标识：&lt;h1 ref=<span class="string">&quot;xxx&quot;</span>&gt;.....&lt;<span class="regexp">/h1&gt; 或 &lt;School ref=&quot;xxx&quot;&gt;&lt;/</span><span class="title class_">School</span>&gt;</span><br><span class="line">b. 获取：<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span></span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;School&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name:&#x27;尚硅谷&#x27;,</span><br><span class="line">        address:&#x27;北京·昌平&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .school&#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;点我输出上方的DOM元素&lt;/button&gt;</span><br><span class="line">    &lt;School ref=&quot;sch&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //引入School组件</span><br><span class="line">  import School from &#x27;./components/School&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;School&#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        msg:&#x27;欢迎学习Vue！&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      showDOM()&#123;</span><br><span class="line">        console.log(this.$refs.title) //真实DOM元素</span><br><span class="line">        console.log(this.$refs.btn) //真实DOM元素</span><br><span class="line">        console.log(this.$refs.sch) //School组件的实例对象（vc）</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="props配置"><a href="#props配置" class="headerlink" title="props配置"></a>props配置</h2><ol><li>功能：让组件接收外部传过来的数据 </li><li>传递数据：<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code> </li><li>接收数据： <ol><li>第一种方式（只接收）：<code>props:[&#39;name&#39;]</code> </li><li>第二种方式（限制类型）：<code>props:&#123;name:String&#125;</code> </li><li>第三种方式（限制类型、限制必要性、指定默认值）： </li></ol></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="title class_">String</span>, <span class="comment">//类型</span></span><br><span class="line"><span class="attr">required</span>:<span class="literal">true</span>, <span class="comment">//必要性</span></span><br><span class="line"><span class="attr">default</span>:<span class="string">&#x27;老王&#x27;</span> <span class="comment">//默认值</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>备注：props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中的数据。</p></blockquote><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生年龄: &#123;&#123; MyAge+1 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;updateAge&quot;&gt;点我修改年龄&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Student&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;我是一个尚硅谷的学生&#x27;,</span><br><span class="line">      MyAge: this.age</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    updateAge() &#123;</span><br><span class="line">      this.MyAge++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //简单声明接收</span><br><span class="line">  // props: [&#x27;name&#x27;, &#x27;sex&#x27;, &#x27;age&#x27;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //接收的同时对数据进行类型限制</span><br><span class="line">  // props: &#123;</span><br><span class="line">  //   name: String,</span><br><span class="line">  //   sex: String,</span><br><span class="line">  //   age: Number</span><br><span class="line">  // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //接收的同时对数据：进行类型限制+默认值的指定+必要性的限制</span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: String,  //name的类型是字符串</span><br><span class="line">      required: true    //name是必要的</span><br><span class="line">    &#125;,</span><br><span class="line">    sex: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;男&#x27;     //默认值</span><br><span class="line">    &#125;,</span><br><span class="line">    age: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 20</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Student :age=&quot;18&quot; name=&quot;尚硅谷&quot; sex=&quot;男&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="mixin混入"><a href="#mixin混入" class="headerlink" title="mixin混入"></a>mixin混入</h2><ol><li>功能：可以把多个组件共用的配置提取成一个混入对象 </li><li>使用方式：<br>第一步定义混合： </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    data()&#123;....&#125;,</span><br><span class="line">    methods:&#123;....&#125;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第二步使用混入：<br>    全局混入：<code>Vue.mixin(xxx)</code><br>    局部混入：<code>mixins:[&#39;xxx&#39;]</code><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 @click=&quot;showName&quot;&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;mixin&#125; from &quot;../mixin&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  // mixins: [mixin]</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 @click=&quot;showName&quot;&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import &#123;mixin&#125; from &quot;../mixin&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  // mixins: [mixin],</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&quot;你好啊!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student,</span><br><span class="line">    School</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>mixin.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;你好啊！&#x27;)</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin2 = &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span>: <span class="number">999</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">666</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; mixin, mixin2 &#125; <span class="keyword">from</span> <span class="string">&quot;./mixin&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ol><li>功能：用于增强Vue </li><li>本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。 </li><li>定义插件： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">对象.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue, options</span>) &#123;</span><br><span class="line">    <span class="comment">// 1. 添加全局过滤器</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 添加全局指令</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">directive</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 配置全局混入(合)</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 添加实例方法</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myMethod</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;...&#125;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myProperty</span> = xxxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>使用插件：<code>Vue.use()</code> </li></ol><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-fbind:value=&quot;name&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 @click=&quot;test&quot;&gt;学校名称: &#123;&#123; name | mySlice &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷atguigu&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    test() &#123;</span><br><span class="line">      this.hello()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student,</span><br><span class="line">    School</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> plugins <span class="keyword">from</span> <span class="string">&#x27;./plugins&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 应用(使用)插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(plugins, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>plugins.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">install</span>(<span class="params">Vue, x, y, z</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x, y, z);</span><br><span class="line">        <span class="comment">// 全局过滤器</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>, <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义全局指令</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>, &#123;</span><br><span class="line">            <span class="comment">//指令与元素成功绑定时（一上来）</span></span><br><span class="line">            <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line">            <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="title function_">focus</span>()</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line">            <span class="title function_">update</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义混入</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">x</span>: <span class="number">100</span>,</span><br><span class="line">                    <span class="attr">y</span>: <span class="number">200</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//给Vue原型上添加一个方法（vm和vc就都能用了）</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hello</span> = <span class="function">() =&gt;</span> &#123; <span class="title function_">alert</span>(<span class="string">&#x27;你好啊&#x27;</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="scoped样式"><a href="#scoped样式" class="headerlink" title="scoped样式"></a>scoped样式</h2><ol><li>作用：让样式在局部生效，防止冲突。</li><li>写法：<code>&lt;style scoped&gt;</code></li></ol><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷atguigu&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .demo &#123;</span><br><span class="line">    background-color: lightpink;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 class=&quot;qwe&quot;&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷atguigu&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped &gt;</span><br><span class="line">  .demo &#123;</span><br><span class="line">    background-color: lightpink;</span><br><span class="line">    .qwe &#123;</span><br><span class="line">      font-size: 50px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;标题&lt;/h2&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student,</span><br><span class="line">    School</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .title &#123;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在组件中的style标签中定义了scoped, 会在使用的class类上加上随机的id, 在选择器中配合id来选择, 用来解决css选择器重名的问题<br><img src="../image/Vue-cli/image-20231021171350436.png" alt="image-20231021171350436"><br>但是在App.vue组件中, 一般不用这个, 主要是App组件中写了样式, 就说明是很多组件都在使用的, 就不需要用scoped的</p><h3 id="style-lang-”less”"><a href="#style-lang-”less”" class="headerlink" title="style lang=”less”"></a>style lang=”less”</h3><p>Module not found: Error: Can’t resolve ‘less-loader’ in ‘E:\Code\Vue\vue_test’<br><img src="../image/Vue-cli/image-20231021171407075.png" alt="image-20231021171407075"><br>PS E:\Code\Vue\vue_test&gt; npm i less-loader<br>只需要安装less-loader就行了<br>webpack 4 应该安装 less-loader7版本的<br>PS E:\Code\Vue\vue_test&gt; npm i less-loader@7<br>webpack 5 可以安装 less-loader最新版(11)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">查看版本的最新版</span><br><span class="line"><span class="variable constant_">PS</span> <span class="attr">E</span>:\<span class="title class_">Code</span>\<span class="title class_">Vue</span>\vue_test&gt; npm view webpack versions</span><br><span class="line">[</span><br><span class="line">  <span class="string">&#x27;0.1.0&#x27;</span>,          <span class="string">&#x27;0.1.1&#x27;</span>,          <span class="string">&#x27;0.1.2&#x27;</span>,          <span class="string">&#x27;0.1.3&#x27;</span>,</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&#x27;5.73.0&#x27;</span>,         <span class="string">&#x27;5.74.0&#x27;</span>,         <span class="string">&#x27;5.75.0&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">PS</span> <span class="attr">E</span>:\<span class="title class_">Code</span>\<span class="title class_">Vue</span>\vue_test&gt; npm view less-loader versions</span><br><span class="line">[</span><br><span class="line">  <span class="string">&#x27;0.1.0&#x27;</span>,  <span class="string">&#x27;0.1.1&#x27;</span>,  <span class="string">&#x27;0.1.2&#x27;</span>,  <span class="string">&#x27;0.1.3&#x27;</span>,  <span class="string">&#x27;0.2.0&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;0.2.1&#x27;</span>,  <span class="string">&#x27;0.2.2&#x27;</span>,  <span class="string">&#x27;0.5.0&#x27;</span>,  <span class="string">&#x27;0.5.1&#x27;</span>,  <span class="string">&#x27;0.6.0&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;0.6.1&#x27;</span>,  <span class="string">&#x27;0.6.2&#x27;</span>,  <span class="string">&#x27;0.7.0&#x27;</span>,  <span class="string">&#x27;0.7.1&#x27;</span>,  <span class="string">&#x27;0.7.2&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;0.7.3&#x27;</span>,  <span class="string">&#x27;0.7.4&#x27;</span>,  <span class="string">&#x27;0.7.5&#x27;</span>,  <span class="string">&#x27;0.7.6&#x27;</span>,  <span class="string">&#x27;0.7.7&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;0.7.8&#x27;</span>,  <span class="string">&#x27;2.0.0&#x27;</span>,  <span class="string">&#x27;2.1.0&#x27;</span>,  <span class="string">&#x27;2.2.0&#x27;</span>,  <span class="string">&#x27;2.2.1&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;2.2.2&#x27;</span>,  <span class="string">&#x27;2.2.3&#x27;</span>,  <span class="string">&#x27;3.0.0&#x27;</span>,  <span class="string">&#x27;4.0.0&#x27;</span>,  <span class="string">&#x27;4.0.1&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;4.0.2&#x27;</span>,  <span class="string">&#x27;4.0.3&#x27;</span>,  <span class="string">&#x27;4.0.4&#x27;</span>,  <span class="string">&#x27;4.0.5&#x27;</span>,  <span class="string">&#x27;4.0.6&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;4.1.0&#x27;</span>,  <span class="string">&#x27;5.0.0&#x27;</span>,  <span class="string">&#x27;6.0.0&#x27;</span>,  <span class="string">&#x27;6.1.0&#x27;</span>,  <span class="string">&#x27;6.1.1&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;6.1.2&#x27;</span>,  <span class="string">&#x27;6.1.3&#x27;</span>,  <span class="string">&#x27;6.2.0&#x27;</span>,  <span class="string">&#x27;7.0.0&#x27;</span>,  <span class="string">&#x27;7.0.1&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;7.0.2&#x27;</span>,  <span class="string">&#x27;7.1.0&#x27;</span>,  <span class="string">&#x27;7.2.0&#x27;</span>,  <span class="string">&#x27;7.2.1&#x27;</span>,  <span class="string">&#x27;7.3.0&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;8.0.0&#x27;</span>,  <span class="string">&#x27;8.1.0&#x27;</span>,  <span class="string">&#x27;8.1.1&#x27;</span>,  <span class="string">&#x27;9.0.0&#x27;</span>,  <span class="string">&#x27;9.1.0&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;10.0.0&#x27;</span>, <span class="string">&#x27;10.0.1&#x27;</span>, <span class="string">&#x27;10.1.0&#x27;</span>, <span class="string">&#x27;10.2.0&#x27;</span>, <span class="string">&#x27;11.0.0&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;11.1.0&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>安装nanoid库npm i nanoid</p><p>props传进来的对象, 最好不要去做修改<br><img src="../image/Vue-cli/image-20231021171424620.png" alt="image-20231021171424620"></p><h2 id="WebStore"><a href="#WebStore" class="headerlink" title="WebStore"></a>WebStore</h2><ol><li>存储内容大小一般支持5MB左右（不同浏览器可能还不一样） </li><li>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。 </li><li>相关API： <ol><li><code>xxxxxStorage.setItem(&#39;key&#39;, &#39;value&#39;);</code><br>该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。 </li><li><code>xxxxxStorage.getItem(&#39;person&#39;);</code><br>该方法接受一个键名作为参数，返回键名对应的值。 </li><li><code>xxxxxStorage.removeItem(&#39;key&#39;);</code><br>该方法接受一个键名作为参数，并把该键名从存储中删除。 </li><li><code>xxxxxStorage.clear()</code><br>该方法会清空存储中的所有数据。 </li></ol></li><li>备注： <ol><li>SessionStorage存储的内容会随着浏览器窗口关闭而消失。</li><li>LocalStorage存储的内容，需要手动清除才会消失。</li><li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getItem的返回值是null。</li><li><code>JSON.parse(null)</code>的结果依然是null。</li></ol></li></ol><p>localStore.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>localStore<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>localStore<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;saveData()&quot;</span>&gt;</span>点我保存一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;readData()&quot;</span>&gt;</span>点我读取一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteData()&quot;</span>&gt;</span>点我删除一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteAllData()&quot;</span>&gt;</span>点我清空所有数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> person = &#123;<span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg1&#x27;</span>, <span class="string">&#x27;Hello&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg2&#x27;</span>, <span class="number">123</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg3&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">readData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg1&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg2&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> result = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg3&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(result));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg4&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;msg1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteAllData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>sessionStore.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>sessionStore<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>sessionStore<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;saveData()&quot;</span>&gt;</span>点我保存一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;readData()&quot;</span>&gt;</span>点我读取一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteData()&quot;</span>&gt;</span>点我删除一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteAllData()&quot;</span>&gt;</span>点我清空所有数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> person = &#123;<span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg1&#x27;</span>, <span class="string">&#x27;Hello&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg2&#x27;</span>, <span class="number">123</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg3&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">readData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg1&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg2&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> result = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg3&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(result));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg4&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;msg1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteAllData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">clear</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="TodoList-案例"><a href="#TodoList-案例" class="headerlink" title="TodoList_案例"></a>TodoList_案例</h2><ol><li>组件化编码流程：<br>(1).拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突。<br>(2).实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用：<pre><code>    1).一个组件在用：放在组件自身即可。    2). 一些组件在用：放在他们共同的父组件上（状态提升）。</code></pre>(3).实现交互：从绑定事件开始。 </li><li>props适用于：<br>(1).父组件 ==&gt; 子组件 通信<br>(2).子组件 ==&gt; 父组件 通信（要求父先给子一个函数） </li><li>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的！ </li><li>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。 </li></ol><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      this.addTodoObj(todoObj);</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;MyItem</span><br><span class="line">      v-for=&quot;todoObj in todos&quot;</span><br><span class="line">      :key=&quot;todoObj.id&quot;</span><br><span class="line">      :todoObj=&quot;todoObj&quot;</span><br><span class="line">      :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">      :deleteTodoObj=&quot;deleteTodoObj&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      this.checkTodo(id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      this.deleteTodoObj(id)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">    background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;, &quot;checkAllTodo&quot;, &quot;clearAllTodo&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        this.checkAllTodo(value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      this.clearAllTodo()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader :addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">          :deleteTodoObj=&quot;deleteTodoObj&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          :checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          :clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    deleteTodoObj(id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h2><ol><li>一种组件间通信的方式，适用于：<strong>子组件 ===&gt; 父组件</strong> </li><li>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（事件的回调在A中）。 </li><li>绑定自定义事件： <ol><li>第一种方式，在父组件中：<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  或 <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code> </li><li>第二种方式，在父组件中： </li></ol></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span>.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>  3.  若想让自定义事件只能触发一次，可以使用`once`修饰符，或`$once`方法。 </code></pre><ol><li>触发自定义事件：<code>this.$emit(&#39;atguigu&#39;,数据)</code> </li><li>解绑自定义事件<code>this.$off(&#39;atguigu&#39;)</code> </li><li>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符。 </li><li>注意：通过<code>this.$refs.xxx.$on(&#39;atguigu&#39;,回调)</code>绑定自定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题！ </li></ol><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendSchoolName&quot;&gt;点我把学校名称发送给App&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  props: [&#x27;getSchoolName&#x27;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendSchoolName() &#123;</span><br><span class="line">      this.getSchoolName(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped &gt;</span><br><span class="line">  .school &#123;</span><br><span class="line">    background-color: lightpink;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    margin-top: 30px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为: &#123;&#123;number&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;点我number++&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;sendStudentName&quot;&gt;点我把学生名称发送给App&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;unbind&quot;&gt;解绑atguigu事件&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;death&quot;&gt;销毁当前Student组件的实例对象&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">      number: 0</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      console.log(&#x27;add回调被调用了&#x27;);</span><br><span class="line">      this.number++;</span><br><span class="line">    &#125;,</span><br><span class="line">    sendStudentName() &#123;</span><br><span class="line">      this.$emit(&#x27;atguigu&#x27;, this.name, 666, 777, 888, 999)</span><br><span class="line">      // this.$emit(&#x27;demo&#x27;)</span><br><span class="line">      // this.$emit(&#x27;click&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    unbind() &#123;</span><br><span class="line">      // this.$off(&#x27;atguigu&#x27;) // 解绑一个自定义事件</span><br><span class="line">      // this.$off([&#x27;atguigu&#x27;, &#x27;demo&#x27;]) // 解绑多个自定义事件</span><br><span class="line">      this.$off() // 解绑所有的自定义事件</span><br><span class="line">    &#125;,</span><br><span class="line">    death() &#123;</span><br><span class="line">      this.$destroy() // 销毁了当前Student组件的实例对象, 销毁后所有Student实例的自定义事件全部不奏效</span><br><span class="line">      // 现在绑定的时间都会不奏效, 之前的原生的事件也不会奏效</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.student &#123;</span><br><span class="line">  background-color: lightblue;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; msg &#125;&#125;, 学生姓名是: &#123;&#123; studentName &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 通过父组件给子组件传递函数类型的props实现: 子给父传递数据 --&gt;</span><br><span class="line">    &lt;School :getSchoolName=&quot;getSchoolName&quot; /&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;!-- 由于v-on在student组件标签上, </span><br><span class="line">    所以是给Student这个组件实例对象VC绑定了一个事件, </span><br><span class="line">    事件名字叫atguigu, 如果以后有人触发了atguigu事件, </span><br><span class="line">    demo函数就会被调用 --&gt;</span><br><span class="line">    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现: 子给父传递数据(第一种写法, 使用@或v-on) --&gt;</span><br><span class="line">    &lt;!-- &lt;Student v-on:atguigu=&quot;getStudentName&quot; @demo=&quot;m1&quot; /&gt; --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现: 子给父传递数据(第二种写法, 使用ref) --&gt;</span><br><span class="line">    &lt;Student ref=&quot;student&quot; @click.native=&quot;show&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;你好啊!&quot;,</span><br><span class="line">      studentName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student,</span><br><span class="line">    School,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      alert(123)</span><br><span class="line">    &#125;,</span><br><span class="line">    getSchoolName(name) &#123;</span><br><span class="line">      console.log(&quot;App收到了School的name&quot;, name);</span><br><span class="line">    &#125;,</span><br><span class="line">    getStudentName(name, ...params) &#123;</span><br><span class="line">      console.log(&quot;getStudentName被调用了&quot;, name, params);</span><br><span class="line">      this.studentName = name;</span><br><span class="line">    &#125;,</span><br><span class="line">    m1() &#123;</span><br><span class="line">      console.log(&quot;demo事件被触发了！&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$refs.student.$on(&quot;atguigu&quot;, (name, params) =&gt; &#123;</span><br><span class="line">      console.log(&quot;getStudentName被调用了&quot;, name, params);</span><br><span class="line">      console.log(this);</span><br><span class="line">      this.studentName = name;</span><br><span class="line">    &#125;); // 绑定自定义事件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // this.$refs.student.$on(&quot;atguigu&quot;, this.getStudentName); // 绑定自定义事件</span><br><span class="line">    // this.$refs.student.$once(&quot;atguigu&quot;, this.getStudentName); // 绑定自定义事件(一次性)</span><br><span class="line">    // 延迟三秒触发自定义事件</span><br><span class="line">    // setTimeout(() =&gt; &#123;</span><br><span class="line">    //   this.$refs.student.$on(&quot;atguigu&quot;, this.getStudentName);</span><br><span class="line">    // &#125;, 3000);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.app &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="comment">// mounted() &#123;</span></span><br><span class="line">    <span class="comment">//     setTimeout(() =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//         this.$destroy()</span></span><br><span class="line">    <span class="comment">//     &#125;, 3000)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="TodoList-自定义事件"><a href="#TodoList-自定义事件" class="headerlink" title="TodoList_自定义事件"></a>TodoList_自定义事件</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  // props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      // this.addTodoObj(todoObj);</span><br><span class="line">      this.$emit(&#x27;addTodoObj&#x27;, todoObj)</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;MyItem</span><br><span class="line">      v-for=&quot;todoObj in todos&quot;</span><br><span class="line">      :key=&quot;todoObj.id&quot;</span><br><span class="line">      :todoObj=&quot;todoObj&quot;</span><br><span class="line">      :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">      :deleteTodoObj=&quot;deleteTodoObj&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      this.checkTodo(id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      this.deleteTodoObj(id)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">    background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // this.checkAllTodo(value)</span><br><span class="line">        this.$emit(&#x27;checkAllTodo&#x27;, value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      // this.clearAllTodo()</span><br><span class="line">      this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">          :deleteTodoObj=&quot;deleteTodoObj&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          @checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          @clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    deleteTodoObj(id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h2><ol><li>一种组件间通信的方式，适用于任意组件间通信。 </li><li>安装全局事件总线： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm</span></span><br><span class="line">&#125;,</span><br><span class="line">    ......</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>使用事件总线： <ol><li>接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身。 </li></ol></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>  2.  提供数据：`this.$bus.$emit(&#39;xxxx&#39;,数据)` </code></pre><ol><li>最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件。 </li></ol><p>全局事件总线: 任意组件间通信<br><img src="../image/Vue-cli/image-20231021171518729.png" alt="image-20231021171518729"><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&#x27;School&#x27;, this.x);</span><br><span class="line">    this.$bus.$on(&#x27;hello&#x27;, (data) =&gt; &#123;</span><br><span class="line">      console.log(&quot;我是School组件，收到了数据&quot;,data);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    this.$bus.$off(&#x27;bus&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped &gt;</span><br><span class="line">.school &#123;</span><br><span class="line">  background-color: lightpink;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendStudentName() &#123;</span><br><span class="line">      // console.log(&quot;Student&quot;, this.x);</span><br><span class="line">      this.$bus.$emit(&#x27;hello&#x27;,this.name)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  // mounted() &#123;</span><br><span class="line">  //   console.log(&quot;Student&quot;, this.x);</span><br><span class="line">  //   this.x.$on(&#x27;hello&#x27;, (data) =&gt; &#123;</span><br><span class="line">  //     console.log(&#x27;我是School组件, 收到了数据&#x27;, data);</span><br><span class="line">  //   &#125;)</span><br><span class="line">  // &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.student &#123;</span><br><span class="line">  background-color: lightblue;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student, </span><br><span class="line">    School</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;你好啊!&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.app &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* window.x = &#123;a: 1, b: 2&#125; */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Vue.prototype.x = &#123; a: 1, b: 2 &#125;</span></span><br><span class="line"><span class="comment">console.log(Vue.prototype); */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* const Demo = Vue.extend(&#123;</span></span><br><span class="line"><span class="comment">    a: 1,</span></span><br><span class="line"><span class="comment">    b: 2</span></span><br><span class="line"><span class="comment">&#125;)</span></span><br><span class="line"><span class="comment">const d = new Demo()</span></span><br><span class="line"><span class="comment">Vue.prototype.x = d */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="TodoList-事件总线"><a href="#TodoList-事件总线" class="headerlink" title="TodoList_事件总线"></a>TodoList_事件总线</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  // props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      // this.addTodoObj(todoObj);</span><br><span class="line">      this.$emit(&#x27;addTodoObj&#x27;, todoObj)</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;MyItem</span><br><span class="line">      v-for=&quot;todoObj in todos&quot;</span><br><span class="line">      :key=&quot;todoObj.id&quot;</span><br><span class="line">      :todoObj=&quot;todoObj&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;</span><br><span class="line">      删除</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      // this.checkTodo(id);</span><br><span class="line">      this.$bus.$emit(&quot;checkTodo&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      // this.deleteTodoObj(id);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      this.$bus.$emit(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">  background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // this.checkAllTodo(value)</span><br><span class="line">        this.$emit(&#x27;checkAllTodo&#x27;, value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      // this.clearAllTodo()</span><br><span class="line">      this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          @checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          @clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    deleteTodoObj(id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$bus.$on(&#x27;checkTodo&#x27;, this.checkTodo)</span><br><span class="line">    this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="消息的订阅与发布"><a href="#消息的订阅与发布" class="headerlink" title="消息的订阅与发布"></a>消息的订阅与发布</h2><ol><li>一种组件间通信的方式，适用于任意组件间通信。 </li><li>使用步骤： <ol><li>安装pubsub：<code>npm i pubsub-js</code> </li><li>引入: <code>import pubsub from &#39;pubsub-js&#39;</code> </li><li>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身。 </li></ol></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">pid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>) <span class="comment">//订阅消息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>  4.  提供数据：`pubsub.publish(&#39;xxx&#39;,数据)`   5.  最好在beforeDestroy钩子中，用`PubSub.unsubscribe(pid)`去取消订阅。 </code></pre><p>报纸订阅与发布<br>1.订阅报纸: 住址<br>2.邮递员送报纸: 报纸<br>报纸订阅与发布<br>1.订阅消息: 消息名<br>2.发布消息: 消息内容<br><img src="../image/Vue-cli/image-20231021171603682.png" alt="image-20231021171603682"><br>安装pubsub库<br>PS E:\Code\Vue\vue_test&gt; npm i pubsub-js<br>added 1 package in 3s<br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学校名称: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址: &#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    pubsub.subscribe(&#x27;hello&#x27;, function(msgName, data) &#123;</span><br><span class="line">      console.log(&#x27;有人发布了hello消息, hello下次的回调执行了&#x27;, msgName, data);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped &gt;</span><br><span class="line">.school &#123;</span><br><span class="line">  background-color: lightpink;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendStudentName() &#123;</span><br><span class="line">      pubsub.publish(&quot;hello&quot;, 666);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.student &#123;</span><br><span class="line">  background-color: lightblue;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &quot;./components/Student.vue&quot;;</span><br><span class="line">import School from &quot;./components/School.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Student, </span><br><span class="line">    School</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;你好啊!&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.app &#123;</span><br><span class="line">  background-color: gray;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="TodoList-pubsub"><a href="#TodoList-pubsub" class="headerlink" title="TodoList_pubsub"></a>TodoList_pubsub</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  // props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      // this.addTodoObj(todoObj);</span><br><span class="line">      this.$emit(&#x27;addTodoObj&#x27;, todoObj)</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;MyItem</span><br><span class="line">      v-for=&quot;todoObj in todos&quot;</span><br><span class="line">      :key=&quot;todoObj.id&quot;</span><br><span class="line">      :todoObj=&quot;todoObj&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;</span><br><span class="line">      删除</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      // this.checkTodo(id);</span><br><span class="line">      this.$bus.$emit(&quot;checkTodo&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      // this.deleteTodoObj(id);</span><br><span class="line">      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">      pubsub.publish(&#x27;deleteTodoObj&#x27;, id)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">  background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // this.checkAllTodo(value)</span><br><span class="line">        this.$emit(&#x27;checkAllTodo&#x27;, value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      // this.clearAllTodo()</span><br><span class="line">      this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          @checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          @clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 下划线只是用来占位的, _表示订阅名</span><br><span class="line">    deleteTodoObj(_, id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$bus.$on(&#x27;checkTodo&#x27;, this.checkTodo)</span><br><span class="line">    // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">    this.pubId = pubsub.subscribe(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    pubsub.unsubscribe(this.pubId)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="TodoList-nextTick"><a href="#TodoList-nextTick" class="headerlink" title="TodoList_nextTick"></a>TodoList_nextTick</h2><ol><li>语法：<code>this.$nextTick(回调函数)</code></li><li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li><li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行。</li></ol><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  // props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      // this.addTodoObj(todoObj);</span><br><span class="line">      this.$emit(&#x27;addTodoObj&#x27;, todoObj)</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;MyItem</span><br><span class="line">      v-for=&quot;todoObj in todos&quot;</span><br><span class="line">      :key=&quot;todoObj.id&quot;</span><br><span class="line">      :todoObj=&quot;todoObj&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span v-show=&quot;!todoObj.isEdit&quot;&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        v-show=&quot;todoObj.isEdit&quot;</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        :value=&quot;todoObj.title&quot;</span><br><span class="line">        @blur=&quot;handleBlur(todoObj, $event)&quot;</span><br><span class="line">        ref=&quot;inputTitle&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;</span><br><span class="line">      删除</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;button</span><br><span class="line">      class=&quot;btn btn-edit&quot;</span><br><span class="line">      @click=&quot;handleEdit(todoObj)&quot;</span><br><span class="line">      v-show=&quot;!todoObj.isEdit&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      编辑</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      // this.checkTodo(id);</span><br><span class="line">      this.$bus.$emit(&quot;checkTodo&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      // this.deleteTodoObj(id);</span><br><span class="line">      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">      pubsub.publish(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑</span><br><span class="line">    handleEdit(todoObj) &#123;</span><br><span class="line">      if (todoObj.hasOwnProperty(&quot;isEdit&quot;)) &#123;</span><br><span class="line">        todoObj.isEdit = true;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.$set(todoObj, &quot;isEdit&quot;, true);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      // 设置定时器</span><br><span class="line">      /* setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;, 200); */</span><br><span class="line">      // 不正规写法(定时器里面不写时间)</span><br><span class="line">      /* setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;); */</span><br><span class="line">      this.$nextTick(function () &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点回调（真正执行修改逻辑）</span><br><span class="line">    handleBlur(todoObj, e) &#123;</span><br><span class="line">      todoObj.isEdit = false;</span><br><span class="line">      if (!e.target.value.trim()) &#123;</span><br><span class="line">        return alert(&quot;输入不能为空&quot;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      // console.log(e.target.value);</span><br><span class="line">      this.todoObj.title = e.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">  background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // this.checkAllTodo(value)</span><br><span class="line">        this.$emit(&#x27;checkAllTodo&#x27;, value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      // this.clearAllTodo()</span><br><span class="line">      this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          @checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          @clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 下划线只是用来占位的, _表示订阅名</span><br><span class="line">    deleteTodoObj(_, id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$bus.$on(&#x27;checkTodo&#x27;, this.checkTodo)</span><br><span class="line">    // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">    this.pubId = pubsub.subscribe(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    pubsub.unsubscribe(this.pubId)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-edit &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  border: 1px solid rgb(103, 159, 180);</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ol><li>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。 </li><li>图示：<img src="https://img04.sogoucdn.com/app/a/100520146/5990c1dff7dc7a8fb3b34b4462bd0105#id=aU03T&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""> </li><li>写法： <ol><li>准备好样式： <ul><li>元素进入的样式： <ol><li>v-enter：进入的起点</li><li>v-enter-active：进入过程中</li><li>v-enter-to：进入的终点</li></ol></li><li>元素离开的样式： <ol><li>v-leave：离开的起点</li><li>v-leave-active：离开过程中</li><li>v-leave-to：离开的终点</li></ol></li></ul></li><li>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性： </li></ol></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">&lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure><pre><code>  2.  备注：若有多个元素需要过度，则需要使用：`&lt;transition-group&gt;`，且每个元素都要指定`key`值。 </code></pre><p>集成第三方动画<br>$ npm install animate.css —save<br>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">        &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt;</span><br><span class="line">        &lt;MyList</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;MyFooter</span><br><span class="line">          :todos=&quot;todos&quot;</span><br><span class="line">          @checkAllTodo=&quot;checkAllTodo&quot;</span><br><span class="line">          @clearAllTodo=&quot;clearAllTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &quot;./components/MyHeader.vue&quot;;</span><br><span class="line">import MyList from &quot;./components/MyList.vue&quot;;</span><br><span class="line">import MyFooter from &quot;./components/MyFooter.vue&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyHeader,</span><br><span class="line">    MyList,</span><br><span class="line">    MyFooter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addTodoObj(todoObj) &#123;</span><br><span class="line">      this.todos.unshift(todoObj);</span><br><span class="line">    &#125;,</span><br><span class="line">    checkTodo(id) &#123;</span><br><span class="line">      this.todos.forEach((todoObj) =&gt; &#123;</span><br><span class="line">        if (todoObj.id === id) &#123;</span><br><span class="line">          todoObj.done = !todoObj.done;</span><br><span class="line">          // console.log(todoObj.done);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 下划线只是用来占位的, _表示订阅名</span><br><span class="line">    deleteTodoObj(_, id) &#123;</span><br><span class="line">      if (confirm(&quot;是否确定删除&quot;)) &#123;</span><br><span class="line">        this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">          return todo.id !== id;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllTodo(value) &#123;</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        todo.done = value;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAllTodo() &#123;</span><br><span class="line">      this.todos = this.todos.filter((todo) =&gt; &#123;</span><br><span class="line">        return !todo.done;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    todos: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler(value) &#123;</span><br><span class="line">        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$bus.$on(&#x27;checkTodo&#x27;, this.checkTodo)</span><br><span class="line">    // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">    this.pubId = pubsub.subscribe(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    pubsub.unsubscribe(this.pubId)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*base*/</span><br><span class="line">body &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 4px 12px;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),</span><br><span class="line">    0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #da4f49;</span><br><span class="line">  border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-edit &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  border: 1px solid rgb(103, 159, 180);</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.btn:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-container &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      v-model=&quot;todoName&quot;</span><br><span class="line">      @keyup.enter=&quot;add&quot;</span><br><span class="line">      placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHeader&quot;,</span><br><span class="line">  // props: [&quot;addTodoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todoName: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      if (!this.todoName) &#123;</span><br><span class="line">        alert(&quot;请输入点什么吧&quot;);</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;;</span><br><span class="line">      // console.log(todoObj);</span><br><span class="line">      // this.addTodoObj(todoObj);</span><br><span class="line">      this.$emit(&#x27;addTodoObj&#x27;, todoObj)</span><br><span class="line">      this.todoName = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*header*/</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),</span><br><span class="line">    0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">    &lt;!-- &lt;transition-group </span><br><span class="line">    appear</span><br><span class="line">    name=&quot;todo&quot;</span><br><span class="line">    &gt; --&gt;</span><br><span class="line">    &lt;transition-group </span><br><span class="line">    appear</span><br><span class="line">    name=&quot;animate__animated animate__bounce&quot;</span><br><span class="line">    enter-active-class=&quot;animate__headShake&quot;</span><br><span class="line">    leave-active-class=&quot;animate__bounceOut&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;MyItem </span><br><span class="line">      v-for=&quot;todoObj in todos&quot; </span><br><span class="line">      :key=&quot;todoObj.id&quot; </span><br><span class="line">      :todoObj=&quot;todoObj&quot; </span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script scoped&gt;</span><br><span class="line">import &quot;animate.css&quot;;</span><br><span class="line">import MyItem from &quot;./MyItem.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyList&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyItem,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*main*/</span><br><span class="line">.todo-main &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-enter-active &#123;</span><br><span class="line">  animation: atguigu 0.5s linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-leave-active &#123;</span><br><span class="line">  animation: atguigu 0.5s linear reverse;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@keyframes atguigu &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    transform: translateX(100%);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: translateX(0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :checked=&quot;todoObj.done&quot;</span><br><span class="line">        @change=&quot;handleCheck(todoObj.id)&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;span v-show=&quot;!todoObj.isEdit&quot;&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        v-show=&quot;todoObj.isEdit&quot;</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        :value=&quot;todoObj.title&quot;</span><br><span class="line">        @blur=&quot;handleBlur(todoObj, $event)&quot;</span><br><span class="line">        ref=&quot;inputTitle&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props --&gt;</span><br><span class="line">    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;</span><br><span class="line">      删除</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;button</span><br><span class="line">      class=&quot;btn btn-edit&quot;</span><br><span class="line">      @click=&quot;handleEdit(todoObj)&quot;</span><br><span class="line">      v-show=&quot;!todoObj.isEdit&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      编辑</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyItem&quot;,</span><br><span class="line">  props: [&quot;todoObj&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCheck(id) &#123;</span><br><span class="line">      // this.checkTodo(id);</span><br><span class="line">      this.$bus.$emit(&quot;checkTodo&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(id) &#123;</span><br><span class="line">      // this.deleteTodoObj(id);</span><br><span class="line">      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">      pubsub.publish(&quot;deleteTodoObj&quot;, id);</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑</span><br><span class="line">    handleEdit(todoObj) &#123;</span><br><span class="line">      if (todoObj.hasOwnProperty(&quot;isEdit&quot;)) &#123;</span><br><span class="line">        todoObj.isEdit = true;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.$set(todoObj, &quot;isEdit&quot;, true);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      // 设置定时器</span><br><span class="line">      /* setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;, 200); */</span><br><span class="line">      // 不正规写法(定时器里面不写时间)</span><br><span class="line">      /* setTimeout(() =&gt; &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;); */</span><br><span class="line">      this.$nextTick(function () &#123;</span><br><span class="line">        this.$refs.inputTitle.focus();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点回调（真正执行修改逻辑）</span><br><span class="line">    handleBlur(todoObj, e) &#123;</span><br><span class="line">      todoObj.isEdit = false;</span><br><span class="line">      if (!e.target.value.trim()) &#123;</span><br><span class="line">        return alert(&quot;输入不能为空&quot;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      // console.log(e.target.value);</span><br><span class="line">      this.todoObj.title = e.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*item*/</span><br><span class="line">li &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: 0 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover &#123;</span><br><span class="line">  background-color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li:hover button &#123;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt;</span><br><span class="line">      &lt;span&gt;已完成&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / 全部&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyFooter&quot;,</span><br><span class="line">  props: [&quot;todos&quot;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // isAll() &#123;</span><br><span class="line">    //   return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">    // &#125;,</span><br><span class="line">    total() &#123;</span><br><span class="line">      return this.todos.length;</span><br><span class="line">    &#125;,</span><br><span class="line">    calcTodoTotal() &#123;</span><br><span class="line">      /*       let i = 0</span><br><span class="line">      this.todos.forEach((todo) =&gt; &#123;</span><br><span class="line">        if (todo.done === true) i++</span><br><span class="line">      &#125;);</span><br><span class="line">      return i */</span><br><span class="line">      /*       return this.todos.reduce((pre, current) =&gt; &#123;</span><br><span class="line">        // console.log(current.done);</span><br><span class="line">        return pre + (current.done ? 1 : 0)</span><br><span class="line">      &#125;, 0) */</span><br><span class="line">      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    isAll: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // this.checkAllTodo(value)</span><br><span class="line">        this.$emit(&#x27;checkAllTodo&#x27;, value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    checkAll(e) &#123;</span><br><span class="line">      // console.log(e.target.checked);</span><br><span class="line">      this.checkAllTodo(e.target.checked)</span><br><span class="line">    &#125;,</span><br><span class="line">    clearAll() &#123;</span><br><span class="line">      // this.clearAllTodo()</span><br><span class="line">      this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*footer*/</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="代理服务器"><a href="#代理服务器" class="headerlink" title="代理服务器"></a>代理服务器</h2><p>PS E:\Code\Vue\vue_test&gt; npm i axios</p><p><img src="../image/Vue-cli/image-20231021171652732.png" alt="image-20231021171652732"><br>左边的8080是前端, 前端想跟5000后端要数据, 会产生跨域问题, 但是8080前端跟8080服务器是可以正常使用AJAX请求的, 8080服务器跟5000服务器之间通信不会使用AJAX技术, 所以不存在所谓的跨域问题\</p><p>尽管changeOrigin设置false属性, F12开发工具查看的Referer还是显示着8080端口的<br>这是因为浏览器只是将第一层请求显示给你（因为第一层请求是请求的本地服务器，域名、端口号和前端页面的域名、端口号都是一致的），第一层请求也就是发给代理服务器的请求，而修改 Host 的工作是代理服务器做的，浏览器当然不会显示 Host 已经被修改的状态！<br><img src="../image/Vue-cli/image-20231021171708434.png" alt="image-20231021171708434"><br>但是服务器中记录本地的端口来源于8080端口, 而不是5000, 说明changeOrigin设置false已经生效了<br><img src="../image/Vue-cli/image-20231021171724195.png" alt="image-20231021171724195"></p><p>安装vue-resource<br>E:\Code\Vue\vue_test&gt; npm i vue-resource</p><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><pre><code>在vue.config.js中添加如下配置：</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line">  <span class="attr">proxy</span>:<span class="string">&quot;http://localhost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><pre><code>编写vue.config.js配置具体代理规则：</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">// 匹配所有以 &#x27;/api1&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;<span class="comment">// 匹配所有以 &#x27;/api2&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080</span></span><br><span class="line"><span class="comment">   changeOrigin默认值为true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;getStudents&quot;&gt;获取学生信息&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;getCars&quot;&gt;获取汽车信息&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getStudents () &#123;</span><br><span class="line">      axios.get(&#x27;http://localhost:8080/atguigu/students&#x27;).then(</span><br><span class="line">        response =&gt; &#123;</span><br><span class="line">          console.log(response.data);</span><br><span class="line">        &#125;,</span><br><span class="line">        error =&gt; &#123;</span><br><span class="line">          console.log(error.message);</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    getCars () &#123;</span><br><span class="line">      axios.get(&#x27;http://localhost:8080/demo/cars&#x27;).then(</span><br><span class="line">        response =&gt; &#123;</span><br><span class="line">          console.log(response.data);</span><br><span class="line">        &#125;,</span><br><span class="line">        error =&gt; &#123;</span><br><span class="line">          console.log(error.message);</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="github搜索案例"><a href="#github搜索案例" class="headerlink" title="github搜索案例"></a>github搜索案例</h2><h3 id="axios实现"><a href="#axios实现" class="headerlink" title="axios实现"></a>axios实现</h3><p>test.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//编写一个javascript对象 ES6</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> user = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>:<span class="string">&quot;小武&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//将JS对象转换为JSON对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(user);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;==================&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//将JSON对象转换为JS对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var obj = JSON.parse(json);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Search /&gt;</span><br><span class="line">    &lt;List /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &quot;./components/Search&quot;;</span><br><span class="line">import List from &quot;./components/List&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Search,</span><br><span class="line">    List,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        placeholder=&quot;enter the name you search&quot;</span><br><span class="line">        v-model=&quot;keyWord&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &amp;nbsp;</span><br><span class="line">      &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Search&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      keyWord: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    searchUsers() &#123;</span><br><span class="line">      pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;);</span><br><span class="line">      /*       this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;); */</span><br><span class="line">      axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求成功了&quot;, response.data.items);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        (error) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求失败了&quot;, error.message);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        placeholder=&quot;enter the name you search&quot;</span><br><span class="line">        v-model=&quot;keyWord&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &amp;nbsp;</span><br><span class="line">      &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Search&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      keyWord: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    searchUsers() &#123;</span><br><span class="line">      pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;);</span><br><span class="line">      /*       this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;); */</span><br><span class="line">      axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求成功了&quot;, response.data.items);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        (error) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求失败了&quot;, error.message);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="vue-resource实现"><a href="#vue-resource实现" class="headerlink" title="vue-resource实现"></a>vue-resource实现</h3><p>test.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//编写一个javascript对象 ES6</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> user = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>:<span class="string">&quot;小武&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//将JS对象转换为JSON对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(user);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;==================&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//将JSON对象转换为JS对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var obj = JSON.parse(json);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Search /&gt;</span><br><span class="line">    &lt;List /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &quot;./components/Search&quot;;</span><br><span class="line">import List from &quot;./components/List&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Search,</span><br><span class="line">    List,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        placeholder=&quot;enter the name you search&quot;</span><br><span class="line">        v-model=&quot;keyWord&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      &amp;nbsp;</span><br><span class="line">      &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &quot;pubsub-js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Search&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      keyWord: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    searchUsers() &#123;</span><br><span class="line">      console.log(this);</span><br><span class="line">      pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;);</span><br><span class="line">      /*       this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">        isFirst: false,</span><br><span class="line">        isLoading: true,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;); */</span><br><span class="line">      this.$http.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求成功了&quot;, response.data.items);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: &quot;&quot;,</span><br><span class="line">            users: response.data.items,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        (error) =&gt; &#123;</span><br><span class="line">          console.log(&quot;请求失败了&quot;, error.message);</span><br><span class="line">          /* this.$bus.$emit(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;); */</span><br><span class="line">          pubsub.publish(&quot;updateListData&quot;, &#123;</span><br><span class="line">            isLoading: false,</span><br><span class="line">            errMsg: error.message,</span><br><span class="line">            users: [],</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">    &lt;!-- 展示用户列表 --&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      v-show=&quot;info.users.length&quot;</span><br><span class="line">      class=&quot;card&quot;</span><br><span class="line">      v-for=&quot;user in info.users&quot;</span><br><span class="line">      :key=&quot;user.login&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">        &lt;img :src=&quot;user.avatar_url&quot; style=&quot;width: 100px&quot; /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=&quot;card-text&quot;&gt;&#123;&#123; user.login &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- 展示欢迎词 --&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;info.isFirst&quot;&gt;欢迎使用!&lt;/h1&gt;</span><br><span class="line">    &lt;!-- 展示加载中 --&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;info.isLoading&quot;&gt;加载中...&lt;/h1&gt;</span><br><span class="line">    &lt;!-- 展示错误信息 --&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123;info.errMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;List&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      info: &#123;</span><br><span class="line">        isFirst: true,</span><br><span class="line">        isLoading: false,</span><br><span class="line">        errMsg: &quot;&quot;,</span><br><span class="line">        users: [],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    pubsub.subscribe(&#x27;updateListData&#x27;, (_, dataObj) =&gt; &#123;</span><br><span class="line">      console.log(&quot;List收到了数据&quot;, dataObj);</span><br><span class="line">      this.info = &#123; ...this.info, ...dataObj &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    /* this.$bus.$on(&quot;updateListData&quot;, (dataObj) =&gt; &#123;</span><br><span class="line">      // console.log(&quot;List收到了数据&quot;, users);</span><br><span class="line">      this.info = &#123; ...this.info, ...dataObj &#125;;</span><br><span class="line">    &#125;); */</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.album &#123;</span><br><span class="line">  min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">  padding-top: 3rem;</span><br><span class="line">  padding-bottom: 3rem;</span><br><span class="line">  background-color: #f7f7f7;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.card &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  width: 33.333%;</span><br><span class="line">  padding: 0.75rem;</span><br><span class="line">  margin-bottom: 2rem;</span><br><span class="line">  border: 1px solid #efefef;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.card &gt; img &#123;</span><br><span class="line">  margin-bottom: 0.75rem;</span><br><span class="line">  border-radius: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.card-text &#123;</span><br><span class="line">  font-size: 85%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><ol><li>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于 <strong>父组件 ===&gt; 子组件</strong> 。 </li><li>分类：默认插槽、具名插槽、作用域插槽 </li><li>使用方式： <ol><li>默认插槽： </li></ol></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">        &lt;Category&gt;</span><br><span class="line">           &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">               &lt;!-- 定义插槽 --&gt;</span><br><span class="line">               &lt;slot&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><pre><code>  2.  具名插槽： </code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">        &lt;Category&gt;</span><br><span class="line">            &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">              &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">               &lt;div&gt;html结构2&lt;/div&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">               &lt;!-- 定义插槽 --&gt;</span><br><span class="line">               &lt;slot name=&quot;center&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">               &lt;slot name=&quot;footer&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><pre><code>  3.  作用域插槽：       1.  理解：数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。（games数据在Category组件中，但使用数据所遍历出来的结构由App组件决定）       2.  具体编码： </code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;!-- 生成的是ul列表 --&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;!-- 生成的是h4标题 --&gt;</span><br><span class="line">&lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            export default &#123;</span><br><span class="line">                name:&#x27;Category&#x27;,</span><br><span class="line">                props:[&#x27;title&#x27;],</span><br><span class="line">                //数据在子组件自身</span><br><span class="line">                data() &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                        games:[&#x27;红色警戒&#x27;,&#x27;穿越火线&#x27;,&#x27;劲舞团&#x27;,&#x27;超级玛丽&#x27;]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码:"></a>代码:</h3><h4 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123;title&#125;&#125;分类&lt;/h3&gt;</span><br><span class="line">    &lt;!-- 定义一个插槽(挖个坑, 等着组件的使用者进行填充) --&gt;</span><br><span class="line">    &lt;slot&gt;我是一个默认值, 当使用者没有传递具体结构时, 我会出现&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Category&quot;,</span><br><span class="line">  props: [&quot;title&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.category &#123;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 300px;</span><br><span class="line">&#125;</span><br><span class="line">h3 &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">      &lt;img src=&quot;./美食.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">    &lt;Category title=&quot;游戏&quot;&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">    &lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">      &lt;video  controls src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;&gt;&lt;/video&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &quot;./components/Category&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Category,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      foods: [&quot;火锅&quot;, &quot;烧烤&quot;, &quot;小龙虾&quot;, &quot;牛排&quot;],</span><br><span class="line">      games: [&quot;红色警戒&quot;, &quot;穿越火线&quot;, &quot;劲舞团&quot;, &quot;超级玛丽&quot;],</span><br><span class="line">      films: [&quot;《教父》&quot;, &quot;《拆弹专家》&quot;, &quot;《你好，李焕英》&quot;, &quot;《尚硅谷》&quot;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123;title&#125;&#125;分类&lt;/h3&gt;</span><br><span class="line">    &lt;!-- 定义一个插槽(挖个坑, 等着组件的使用者进行填充) --&gt;</span><br><span class="line">    &lt;slot name=&quot;center&quot;&gt;我是一个默认值, 当使用者没有传递具体结构时, 我会出现1&lt;/slot&gt;</span><br><span class="line">    &lt;slot name=&quot;footer&quot;&gt;我是一个默认值, 当使用者没有传递具体结构时, 我会出现2&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Category&quot;,</span><br><span class="line">  props: [&quot;title&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.category &#123;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 300px;</span><br><span class="line">&#125;</span><br><span class="line">h3 &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">      &lt;img slot=&quot;center&quot; src=&quot;./美食.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">      &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;更多美食&lt;/a&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">    &lt;Category title=&quot;游戏&quot;&gt;</span><br><span class="line">      &lt;ul slot=&quot;center&quot;&gt;</span><br><span class="line">        &lt;li v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;div slot=&quot;footer&quot; class=&quot;foot&quot;&gt;</span><br><span class="line">        &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;单机游戏&lt;/a&gt;</span><br><span class="line">        &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;网络游戏&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">    &lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">      &lt;video</span><br><span class="line">        slot=&quot;center&quot;</span><br><span class="line">        controls</span><br><span class="line">        src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;</span><br><span class="line">      &gt;&lt;/video&gt;</span><br><span class="line">      &lt;!-- &lt;template slot=&quot;footer&quot;&gt; --&gt;</span><br><span class="line">      &lt;!-- 注意v-slot:footer只能放在template上 --&gt;</span><br><span class="line">      &lt;template v-slot:footer&gt;</span><br><span class="line">        &lt;div class=&quot;foot&quot;&gt;</span><br><span class="line">          &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;经典&lt;/a&gt;</span><br><span class="line">          &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;热门&lt;/a&gt;</span><br><span class="line">          &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;推荐&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;h4&gt;欢迎前来观影&lt;/h4&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &quot;./components/Category&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Category,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      foods: [&quot;火锅&quot;, &quot;烧烤&quot;, &quot;小龙虾&quot;, &quot;牛排&quot;],</span><br><span class="line">      games: [&quot;红色警戒&quot;, &quot;穿越火线&quot;, &quot;劲舞团&quot;, &quot;超级玛丽&quot;],</span><br><span class="line">      films: [&quot;《教父》&quot;, &quot;《拆弹专家》&quot;, &quot;《你好，李焕英》&quot;, &quot;《尚硅谷》&quot;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.container,</span><br><span class="line">.foot &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">h4 &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123; title &#125;&#125;分类&lt;/h3&gt;</span><br><span class="line">    &lt;!-- 定义一个插槽(挖个坑, 等着组件的使用者进行填充) --&gt;</span><br><span class="line">    &lt;slot :games=&quot;games&quot;&gt;我是一个默认值, 当使用者没有传递具体结构时, 我会出现1&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Category&quot;,</span><br><span class="line">  props: [&quot;title&quot;],</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      games: [&quot;红色警戒&quot;, &quot;穿越火线&quot;, &quot;劲舞团&quot;, &quot;超级玛丽&quot;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.category &#123;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 300px;</span><br><span class="line">&#125;</span><br><span class="line">h3 &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;!-- 数据不在这个当前vue文件中, 而在别的组件中, 但是想要决定组件中的结构, 就要使用作用域插槽 --&gt;</span><br><span class="line">    &lt;Category title=&quot;游戏&quot;&gt;</span><br><span class="line">      &lt;template scope=&quot;atguigu&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;(g, index) in atguigu.games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;Category title=&quot;游戏&quot;&gt;</span><br><span class="line">      &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">        &lt;ol&gt;</span><br><span class="line">          &lt;li style=&quot;color:red&quot; v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ol&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;Category title=&quot;游戏&quot;&gt;</span><br><span class="line">      &lt;template slot-scope=&quot;&#123; games &#125;&quot;&gt;</span><br><span class="line">        &lt;h4 v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/h4&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &quot;./components/Category&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Category,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.container,</span><br><span class="line">.foot &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">h4 &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>多组件共享数据—全局事件总线实现<br><img src="../image/Vue-cli/image-20231021171803306.png" alt="image-20231021171803306"><br>多组件共享数据—vuex实现<br><img src="../image/Vue-cli/image-20231021171816334.png" alt="image-20231021171816334"></p><p>安装vuex<br>PS E:\Code\Vue\vue_test&gt; npm i vuex@3<br><strong>注意vue2中, 要用vuex的3版本</strong><br><strong>vue3中, 要用vuex的4版本</strong></p><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><pre><code>    在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，且适用于任意组件间通信。</code></pre><h3 id="2-何时使用？"><a href="#2-何时使用？" class="headerlink" title="2.何时使用？"></a>2.何时使用？</h3><pre><code>    多个组件需要共享数据时</code></pre><h3 id="3-搭建vuex环境"><a href="#3-搭建vuex环境" class="headerlink" title="3.搭建vuex环境"></a>3.搭建vuex环境</h3><ol><li>创建文件：<code>src/store/index.js</code> </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions对象——响应组件中用户的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//准备mutations对象——修改state中的数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//准备state对象——保存具体的数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>在<code>main.js</code>中创建vm时传入<code>store</code>配置项 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="comment">//引入store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line"><span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol><li>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store.js</code> </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//引用Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">//响应组件中加的动作</span></span><br><span class="line"><span class="title function_">jia</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line"><span class="comment">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span></span><br><span class="line">context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//执行加</span></span><br><span class="line"><span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line"><span class="comment">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span></span><br><span class="line">state.<span class="property">sum</span> += value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">   <span class="attr">sum</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>组件中读取vuex中的数据：<code>$store.state.sum</code> </li><li>组件中修改vuex中的数据：<code>$store.dispatch(&#39;action中的方法名&#39;,数据)</code> 或 <code>$store.commit(&#39;mutations中的方法名&#39;,数据)</code> </li></ol><blockquote><p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p></blockquote><h3 id="5-getters的使用"><a href="#5-getters的使用" class="headerlink" title="5.getters的使用"></a>5.getters的使用</h3><ol><li>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。 </li><li>在<code>store.js</code>中追加<code>getters</code>配置 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line"><span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">......</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>组件中读取数据：<code>$store.getters.bigSum</code> </li></ol><h3 id="6-四个map方法的使用"><a href="#6-四个map方法的使用" class="headerlink" title="6.四个map方法的使用"></a>6.四个map方法的使用</h3><ol><li><strong>mapState方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span></span><br><span class="line">     ...<span class="title function_">mapState</span>(&#123;<span class="attr">sum</span>:<span class="string">&#x27;sum&#x27;</span>,<span class="attr">school</span>:<span class="string">&#x27;school&#x27;</span>,<span class="attr">subject</span>:<span class="string">&#x27;subject&#x27;</span>&#125;),</span><br><span class="line">         </span><br><span class="line">    <span class="comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ol><li><strong>mapGetters方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapGetters生成计算属性：bigSum（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>:<span class="string">&#x27;bigSum&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ol><li><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="string">&#x27;jiaWait&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><strong>mapMutations方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//靠mapActions生成：increment、decrement（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;JIA&#x27;</span>,<span class="string">&#x27;JIAN&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol><li>目的：让代码更好维护，让多种数据分类更加明确。 </li><li>修改<code>store.js</code> </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">  <span class="attr">state</span>:&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">  <span class="attr">state</span>:&#123; ... &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    countAbout,</span><br><span class="line">    personAbout</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中读取state数据： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">list</span></span><br><span class="line"><span class="comment">//方式二：借助mapState读取：</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中读取getters数据： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]</span><br><span class="line"><span class="comment">//方式二：借助mapGetters读取：</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中调用dispatch </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapActions：</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中调用commit </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapMutations：</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br></pre></td></tr></table></figure><h3 id="求和案例-纯vue版"><a href="#求和案例-纯vue版" class="headerlink" title="求和案例_纯vue版"></a>求和案例_纯vue版</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1,</span><br><span class="line">      sum: 0,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increament() &#123;</span><br><span class="line">      this.sum = this.sum + this.n;</span><br><span class="line">    &#125;,</span><br><span class="line">    decreament() &#123;</span><br><span class="line">      this.sum = this.sum - this.n;</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentOdd() &#123;</span><br><span class="line">      if (this.sum % 2) &#123;</span><br><span class="line">        this.sum = this.sum + this.n;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentWait() &#123;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">         this.sum = this.sum + this.n;</span><br><span class="line">      &#125;, 500);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="求和案例-vuex版"><a href="#求和案例-vuex版" class="headerlink" title="求和案例_vuex版"></a>求和案例_vuex版</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="求和案例-getters"><a href="#求和案例-getters" class="headerlink" title="求和案例_getters"></a>求和案例_getters</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备getters--用于将state中的数据进行加工</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; $store.state.sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前求和的10倍为:&#123;&#123; $store.getters.bigSum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIA&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    decreament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIAN&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentOdd() &#123;</span><br><span class="line">      this.$store.dispatch(&quot;jiaOdd&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentWait() &#123;</span><br><span class="line">        this.$store.dispatch(&quot;jiaWait&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    console.log(&quot;Count&quot;, this);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="求和案例-mapState与mapGetters"><a href="#求和案例-mapState与mapGetters" class="headerlink" title="求和案例_mapState与mapGetters"></a>求和案例_mapState与mapGetters</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">    <span class="attr">school</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">    <span class="attr">subject</span>: <span class="string">&#x27;前端&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备getters--用于将state中的数据进行加工</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前求和的10倍为:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;我在&#123;&#123; school &#125;&#125;, 学习&#123;&#123; subject &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState, mapGetters&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1,  //用户选择的数字</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //靠程序员自己亲自去写计算属性</span><br><span class="line">    /* sum() &#123;</span><br><span class="line">      return this.$store.state.sum;</span><br><span class="line">    &#125;,</span><br><span class="line">    school() &#123;</span><br><span class="line">      return this.$store.state.school;</span><br><span class="line">    &#125;,</span><br><span class="line">    subject() &#123;</span><br><span class="line">      return this.$store.state.subject;</span><br><span class="line">    &#125;, */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">    ...mapState([&#x27;sum&#x27;, &#x27;school&#x27;, &#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /* ***************************************************** */</span><br><span class="line">    /* bigSum() &#123;</span><br><span class="line">      return this.$store.getters.bigSum;</span><br><span class="line">    &#125;, */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">    // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">    ...mapGetters([&#x27;bigSum&#x27;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIA&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    decreament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIAN&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentOdd() &#123;</span><br><span class="line">      this.$store.dispatch(&quot;jiaOdd&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentWait() &#123;</span><br><span class="line">      this.$store.dispatch(&quot;jiaWait&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    const x = mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;)</span><br><span class="line">    console.log(x);</span><br><span class="line">    // console.log(&quot;Count&quot;, this);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="求和案例-mapMutations与mapActions"><a href="#求和案例-mapMutations与mapActions" class="headerlink" title="求和案例_mapMutations与mapActions"></a>求和案例_mapMutations与mapActions</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">    <span class="attr">school</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">    <span class="attr">subject</span>: <span class="string">&#x27;前端&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备getters--用于将state中的数据进行加工</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前求和的10倍为:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;我在&#123;&#123; school &#125;&#125;, 学习&#123;&#123; subject &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1, //用户选择的数字</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">    ...mapState([&quot;sum&quot;, &quot;school&quot;, &quot;subject&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /* ***************************************************** */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">    // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">    ...mapGetters([&quot;bigSum&quot;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //程序员亲自写方法</span><br><span class="line">    /* increament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIA&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    decreament() &#123;</span><br><span class="line">      this.$store.commit(&quot;JIAN&quot;, this.n);</span><br><span class="line">    &#125;, */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // 不推荐的写法</span><br><span class="line">    /* increament() &#123;</span><br><span class="line">      this.JIAJIA(this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    decreament() &#123;</span><br><span class="line">      this.JIANJIAN(this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapMutations(&#123; JIAJIA: &quot;JIA&quot;, JIANJIAN: &quot;JIAN&quot; &#125;), */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // 调用的时候需要传参, 不传参, 默认给的参数将会是鼠标点击事件</span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">    ...mapMutations(&#123; increament: &quot;JIA&quot;, decreament: &quot;JIAN&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">    // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /* **************************************************************** */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //程序员亲自写方法</span><br><span class="line">    /* increamentOdd() &#123;</span><br><span class="line">      this.$store.dispatch(&quot;jiaOdd&quot;, this.n);</span><br><span class="line">    &#125;,</span><br><span class="line">    increamentWait() &#123;</span><br><span class="line">      this.$store.dispatch(&quot;jiaWait&quot;, this.n);</span><br><span class="line">    &#125;, */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">    ...mapActions(&#123; increamentOdd: &quot;jiaOdd&quot;, increamentWait: &quot;jiaWait&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(数组写法)</span><br><span class="line">    // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;);</span><br><span class="line">    // console.log(x);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="求和案例-多组件共享数据"><a href="#求和案例-多组件共享数据" class="headerlink" title="求和案例_多组件共享数据"></a>求和案例_多组件共享数据</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;Person /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">import Person from &quot;./components/Person&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">    Person</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// jia:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jia被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIA&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// jian:function(context, value) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;actions中的jian被调用了&quot;, context, value);</span></span><br><span class="line">    <span class="comment">//     context.commit(&quot;JIAN&quot;, value)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">jiaOdd</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">jiaWait</span>:<span class="keyword">function</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备actmutations--用于操作数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="attr">JIA</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">JIAN</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ADD_PERSON</span>:<span class="keyword">function</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的ADD_PERSON被调用了&#x27;</span>, state, value)</span><br><span class="line">        state.<span class="property">personList</span>.<span class="title function_">unshift</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">    <span class="attr">school</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">    <span class="attr">subject</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">    <span class="attr">personList</span>: [</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备getters--用于将state中的数据进行加工</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;当前求和的10倍为:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;我在&#123;&#123; school &#125;&#125;, 学习&#123;&#123; subject &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 style=&quot;color:red&quot;&gt;Person组件的总人数是: &#123;&#123;personList.length&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1, //用户选择的数字</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">    ...mapState([&quot;sum&quot;, &quot;school&quot;, &quot;subject&quot;, &quot;personList&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /* ***************************************************** */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">    // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">    ...mapGetters([&quot;bigSum&quot;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">    ...mapMutations(&#123; increament: &quot;JIA&quot;, decreament: &quot;JIAN&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">    // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">    ...mapActions(&#123; increamentOdd: &quot;jiaOdd&quot;, increamentWait: &quot;jiaWait&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(数组写法)</span><br><span class="line">    // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;);</span><br><span class="line">    // console.log(x);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>components/Person.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;人员列表&lt;/h2&gt;</span><br><span class="line">    &lt;h2 style=&quot;color: red&quot;&gt;Count组件的求和为: &#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; placeholder=&quot;请输入名字&quot; v-model=&quot;name&quot; /&gt;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;p in personList&quot; :key=&quot;p.id&quot;&gt;&#123;&#123; p.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nanoid &#125; from &quot;nanoid&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Person&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    personList() &#123;</span><br><span class="line">      return this.$store.state.personList;</span><br><span class="line">    &#125;,</span><br><span class="line">    sum() &#123;</span><br><span class="line">      return this.$store.state.sum;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      const personObj = &#123; id: nanoid(), name: this.name &#125;;</span><br><span class="line">      // console.log(personObj);</span><br><span class="line">      this.$store.commit(&quot;ADD_PERSON&quot;, personObj);</span><br><span class="line">      this.name = &quot;&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="求和案例-vuex模块化编码"><a href="#求和案例-vuex模块化编码" class="headerlink" title="求和案例_vuex模块化编码"></a>求和案例_vuex模块化编码</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">import</span> vueResource <span class="keyword">from</span> <span class="string">&#x27;vue-resource&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(vueResource)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">store</span>: store,</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;Count /&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;Person /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &quot;./components/Count&quot;;</span><br><span class="line">import Person from &quot;./components/Person&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Count,</span><br><span class="line">    Person</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // console.log(&#x27;App&#x27;, this)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> countOptions  <span class="keyword">from</span> <span class="string">&#x27;./count&#x27;</span></span><br><span class="line"><span class="keyword">import</span> personOptions  <span class="keyword">from</span> <span class="string">&#x27;./person&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>: &#123;</span><br><span class="line">        <span class="attr">countAbout</span>: countOptions,</span><br><span class="line">        <span class="attr">personAbout</span>: personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>store/count.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//求和相关的配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="attr">jiaOdd</span>: <span class="keyword">function</span> (<span class="params">context, value</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaOdd被调用了&quot;</span>, context, value);</span><br><span class="line">            <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">jiaWait</span>: <span class="keyword">function</span> (<span class="params">context, value</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;actions中的jiaWait被调用了&quot;</span>, context, value);</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>, value)</span><br><span class="line">            &#125;, <span class="number">500</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="attr">JIA</span>: <span class="keyword">function</span> (<span class="params">state, value</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>, state, value)</span><br><span class="line">            state.<span class="property">sum</span> = state.<span class="property">sum</span> + value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">JIAN</span>: <span class="keyword">function</span> (<span class="params">state, value</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>, state, value)</span><br><span class="line">            state.<span class="property">sum</span> = state.<span class="property">sum</span> - value</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">sum</span>: <span class="number">0</span>, <span class="comment">// 当前的和</span></span><br><span class="line">        <span class="attr">school</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        <span class="attr">subject</span>: <span class="string">&#x27;前端&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">        <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>store/person.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//人员管理相关的配置</span></span><br><span class="line"><span class="keyword">import</span> &#123; nanoid &#125; <span class="keyword">from</span> <span class="string">&#x27;nanoid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">addPersonWang</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (value.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;王&#x27;</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;ADD_PERSON&quot;</span>, value)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&#x27;请添加一个姓王的人&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">addPersonServer</span>(<span class="params">context</span>) &#123;</span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&#x27;https://api.uixsj.cn/hitokoto/get?type=social&#x27;</span>).<span class="title function_">then</span>(</span><br><span class="line">                <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">                    context.<span class="title function_">commit</span>(<span class="string">&#x27;ADD_PERSON&#x27;</span>, &#123;<span class="attr">id</span>: <span class="title function_">nanoid</span>(), <span class="attr">name</span>: response.<span class="property">data</span>&#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(error.<span class="property">message</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="attr">ADD_PERSON</span>: <span class="keyword">function</span> (<span class="params">state, value</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的ADD_PERSON被调用了&#x27;</span>, state, value)</span><br><span class="line">            state.<span class="property">personList</span>.<span class="title function_">unshift</span>(value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">personList</span>: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">        <span class="title function_">firstPersonName</span>(<span class="params">state</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">personList</span>[<span class="number">0</span>].<span class="property">name</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>components/Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前求和为:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- &lt;h2&gt;当前求和的10倍为:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt; --&gt;</span><br><span class="line">    &lt;h2&gt;我在&#123;&#123; school &#125;&#125;, 学习&#123;&#123; subject &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 style=&quot;color:red&quot;&gt;Person组件的总人数是: &#123;&#123;personList.length&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;increamentWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Count&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      n: 1, //用户选择的数字</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">    ...mapState(&#x27;countAbout&#x27;, [&quot;sum&quot;, &quot;school&quot;, &quot;subject&quot;]),</span><br><span class="line">    ...mapState(&#x27;personAbout&#x27;, [&quot;personList&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /* ***************************************************** */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">    // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">    // ...mapGetters([&quot;bigSum&quot;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">    ...mapMutations(&#x27;countAbout&#x27;, &#123; increament: &quot;JIA&quot;, decreament: &quot;JIAN&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">    // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">    ...mapActions(&#x27;countAbout&#x27;, &#123; increamentOdd: &quot;jiaOdd&quot;, increamentWait: &quot;jiaWait&quot; &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(数组写法)</span><br><span class="line">    // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;);</span><br><span class="line">    console.log(this.$store);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">button &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>components/Person.js</p><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p><img src="../image/Vue-cli/image-20231021171848770.png" alt="image-20231021171848770"><br><img src="../image/Vue-cli/image-20231021171903326.png" alt="image-20231021171903326"><br><img src="../image/Vue-cli/image-20231021171925658.png" alt="image-20231021171925658"><br>引入vue-router<br>vue的一个插件库, 专门用来实现SPA应用</p><p>2022年2月7日以后, vue-router的默认版本, 为4版本<br>vue-router4只能用在vue3中使用<br>vue-router3才, 能用在vue2中<br>此时练习的环境是vue2, 所以我们安装vue-router3版本<br>E:\Code\Vue\vue_test&gt; npm i vue-router@3</p><ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key是路径，value是组件。</li></ol><h3 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h3><ol><li>安装vue-router，命令：<code>npm i vue-router</code> </li><li>应用插件：<code>Vue.use(VueRouter)</code> </li><li>编写router配置项: </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入VueRouter</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//引入Luyou 组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建router实例对象，去管理一组一组的路由规则</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//暴露router</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><ol><li>实现切换（active-class可配置高亮样式） </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>指定展示位置 </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><h3 id="2-几个注意点"><a href="#2-几个注意点" class="headerlink" title="2.几个注意点"></a>2.几个注意点</h3><ol><li>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到。</li></ol><h3 id="3-多级路由（多级路由）"><a href="#3-多级路由（多级路由）" class="headerlink" title="3.多级路由（多级路由）"></a>3.多级路由（多级路由）</h3><ol><li>配置路由规则，使用children配置项： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">children</span>:[ <span class="comment">//通过children配置子级路由</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>, <span class="comment">//此处一定不要写：/news</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,<span class="comment">//此处一定不要写：/message</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Message</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol><li>跳转（要写完整路径）： </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h3 id="4-路由的query参数"><a href="#4-路由的query参数" class="headerlink" title="4.路由的query参数"></a>4.路由的query参数</h3><ol><li>传递参数 </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=你好&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">query:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;你好&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>接收参数： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure><h3 id="5-命名路由"><a href="#5-命名路由" class="headerlink" title="5.命名路由"></a>5.命名路由</h3><ol><li>作用：可以简化路由的跳转。 </li><li>如何使用 <ol><li>给路由命名： </li></ol></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/demo&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Demo</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Test</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line">                      <span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span> <span class="comment">//给路由命名</span></span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;welcome&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Hello</span>,</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>  2.  简化跳转： </code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--简化前，需要写完整的路径 --&gt;</span><br><span class="line">&lt;router-link to=&quot;/demo/test/welcome&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--简化后，直接通过名字跳转 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;hello&#x27;&#125;&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--简化写法配合传递参数 --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name:&#x27;hello&#x27;,</span><br><span class="line">query:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;你好&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h3 id="6-路由的params参数"><a href="#6-路由的params参数" class="headerlink" title="6.路由的params参数"></a>6.路由的params参数</h3><ol><li>配置路由，声明接收params参数 </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title&#x27;</span>, <span class="comment">//使用占位符声明接收params参数</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>传递参数 </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;/home/message/detail/666/你好&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name:&#x27;xiangqing&#x27;,</span><br><span class="line">params:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;你好&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>接收参数： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">params</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure><h3 id="7-路由的props配置"><a href="#7-路由的props配置" class="headerlink" title="7.路由的props配置"></a>7.路由的props配置</h3><pre><code>作用：让路由组件更方便的收到参数</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span></span><br><span class="line"><span class="comment">// props:&#123;a:900&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span></span><br><span class="line"><span class="comment">// props:true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span></span><br><span class="line"><span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="attr">id</span>:route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line"><span class="attr">title</span>:route.<span class="property">query</span>.<span class="property">title</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-lt-router-link-gt-的replace属性"><a href="#8-lt-router-link-gt-的replace属性" class="headerlink" title="8.&lt;router-link&gt;的replace属性"></a>8.<code>&lt;router-link&gt;</code>的replace属性</h3><ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code></li><li>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol><h3 id="9-编程式路由导航"><a href="#9-编程式路由导航" class="headerlink" title="9.编程式路由导航"></a>9.编程式路由导航</h3><ol><li>作用：不借助<code>&lt;router-link&gt;</code>实现路由跳转，让路由跳转更加灵活 </li><li>具体编码： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$router的两个API</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>() <span class="comment">//前进</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>() <span class="comment">//后退</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>() <span class="comment">//可前进也可后退</span></span><br></pre></td></tr></table></figure><h3 id="10-缓存路由组件"><a href="#10-缓存路由组件" class="headerlink" title="10.缓存路由组件"></a>10.缓存路由组件</h3><ol><li>作用：让不展示的路由组件保持挂载，不被销毁。 </li><li>具体编码： </li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><h3 id="11-两个新的生命周期钩子"><a href="#11-两个新的生命周期钩子" class="headerlink" title="11.两个新的生命周期钩子"></a>11.两个新的生命周期钩子</h3><ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li><li>具体名字： <ol><li><code>activated</code>路由组件被激活时触发。</li><li><code>deactivated</code>路由组件失活时触发。</li></ol></li></ol><h3 id="12-路由守卫"><a href="#12-路由守卫" class="headerlink" title="12.路由守卫"></a>12.路由守卫</h3><ol><li>作用：对路由进行权限控制 </li><li>分类：全局守卫、独享守卫、组件内守卫 </li><li>全局守卫: </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局前置守卫：初始化时执行、每次路由切换前执行</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEach&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123; <span class="comment">//权限控制的具体规则</span></span><br><span class="line"><span class="title function_">next</span>() <span class="comment">//放行</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>() <span class="comment">//放行</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局后置守卫：初始化时执行、每次路由切换后执行</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;afterEach&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">title</span>)&#123; </span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span> <span class="comment">//修改网页的title</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;vue_test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>独享守卫: </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEnter&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>组件内守卫： </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入守卫：通过路由规则，进入该组件时被调用</span></span><br><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//离开守卫：通过路由规则，离开该组件时被调用</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13-路由器的两种工作模式"><a href="#13-路由器的两种工作模式" class="headerlink" title="13.路由器的两种工作模式"></a>13.路由器的两种工作模式</h3><p>部署项目<br>npm run build<br>npm init<br>npm i express</p><ol><li>对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值。 </li><li>hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器。 </li><li>hash模式： <ol><li>地址中永远带着#号，不美观 。</li><li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol></li><li>history模式： <ol><li>地址干净，美观 。</li><li>兼容性和hash模式相比略差。</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li></ol></li></ol><h2 id="使用element-ui"><a href="#使用element-ui" class="headerlink" title="使用element-ui"></a>使用element-ui</h2><p>安装element-ui<br>npm i element-ui</p><p>按需引入<br>npm install babel-plugin-component -D</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚手架 </tag>
            
            <tag> Vue2 </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2基础</title>
      <link href="/posts/db5a5ee4.html"/>
      <url>/posts/db5a5ee4.html</url>
      
        <content type="html"><![CDATA[<hr><h2 id="Vue的安装"><a href="#Vue的安装" class="headerlink" title="Vue的安装"></a>Vue的安装</h2><p>在vue的官网中下载vue.js<br><a href="https://v2.cn.vuejs.org/v2/guide/installation.html#%E7%9B%B4%E6%8E%A5%E7%94%A8-lt-script-gt-%E5%BC%95%E5%85%A5">安装 — Vue.js</a><br><img src="../image/vue-basic/image-20231021160950473.png" alt="image-20231021160950473"><br>vue.js一般使用在开发环境中, vue.min.js一般使用在生产环境中</p><p>然后创建一个.html文件, 在页面上运行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>初始Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在页面上打开F12, 发现有两条提示<br><img src="../image/vue-basic/image-20231021161042845.png" alt="image-20231021161042845"><br>第一个提示, 需要我们下载一个Vue的拓展来开发<br><a href="https://devtools.vuejs.org/guide/installation.html">https://devtools.vuejs.org/guide/installation.html</a>下载地址<br><img src="../image/vue-basic/image-20231021161109512.png" alt="image-20231021161109512"><br>下载完成之后会在右上角显示<br><img src="../image/vue-basic/image-20231021161131038.png" alt="image-20231021161131038"><br>第二个提示, 则是我们需要在生产环境中使用vue.min.js<br>这代码编写的过程中, 我们可以关闭这个提示<br><img src="https://cdn.nlark.com/yuque/0/2022/png/33666212/1668339612927-2c43692e-d1dc-457f-8c41-3f8dcc175c66.png#averageHue=%23fefcfb&amp;clientId=ud964c3dc-2f4d-4&amp;from=paste&amp;height=347&amp;id=ued32039a&amp;originHeight=521&amp;originWidth=646&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=64043&amp;status=done&amp;style=none&amp;taskId=u62f66522-b12a-4bbf-af1d-756150dfbab&amp;title=&amp;width=430.6666666666667" alt="image.png"><br>Vue.config.productionTip=false</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span>=<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>再回过头看控制台, 警告就消失了<br><img src="../image/vue-basic/image-20231021161215019.png" alt="image-20231021161215019"></p><h2 id="初识Vue"><a href="#初识Vue" class="headerlink" title="初识Vue"></a>初识Vue</h2><p>容器跟组件只能一对一</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&#125;&#125; </span><br></pre></td></tr></table></figure><p>叫插值语法, 插值表达式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>初始Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">初识Vue：</span></span><br><span class="line"><span class="comment">1.想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象；</span></span><br><span class="line"><span class="comment">2.root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法；</span></span><br><span class="line"><span class="comment">3.root容器里的代码被称为【Vue模板】；</span></span><br><span class="line"><span class="comment">4.Vue实例和容器是一一对应的；</span></span><br><span class="line"><span class="comment">5.真实开发中只有一个Vue实例，并且会配合着组件一起使用；</span></span><br><span class="line"><span class="comment">6.&#123;&#123;xxx&#125;&#125;中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性；</span></span><br><span class="line"><span class="comment">7.一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新；</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意区分：js表达式 和 js代码(语句)</span></span><br><span class="line"><span class="comment">1.表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方：</span></span><br><span class="line"><span class="comment">(1). a</span></span><br><span class="line"><span class="comment">(2). a+b</span></span><br><span class="line"><span class="comment">(3). demo(1)</span></span><br><span class="line"><span class="comment">(4). x === y ? &#x27;a&#x27; : &#x27;b&#x27;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.js代码(语句)</span></span><br><span class="line"><span class="comment">(1). if()&#123;&#125;</span></span><br><span class="line"><span class="comment">(2). for()&#123;&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;, &#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建Vue实例</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>, <span class="comment">// el用于指定当前实例为哪个容器服务, 值通过为css选择器字符串</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// data中用于存储数据, 数据el所指定的容器去试用, 值我们暂时写写成一个对象</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>v-bind 可以简写 :</p><h2 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">Vue模板语法有2大类：</span></span><br><span class="line"><span class="comment">1.插值语法：</span></span><br><span class="line"><span class="comment">功能：用于解析标签体内容。</span></span><br><span class="line"><span class="comment">写法：&#123;&#123;xxx&#125;&#125;，xxx是js表达式，且可以直接读取到data中的所有属性。</span></span><br><span class="line"><span class="comment">2.指令语法：</span></span><br><span class="line"><span class="comment">功能：用于解析标签（包括：标签属性、标签体内容、绑定事件.....）。</span></span><br><span class="line"><span class="comment">举例：v-bind:href=&quot;xxx&quot; 或  简写为 :href=&quot;xxx&quot;，xxx同样要写js表达式，</span></span><br><span class="line"><span class="comment"> 且可以直接读取到data中的所有属性。</span></span><br><span class="line"><span class="comment">备注：Vue中有很多的指令，且形式都是：v-????，此处我们只是拿v-bind举个例子。</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;school.url&quot;</span> <span class="attr">x</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>去尚硅谷<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;school.url.toUpperCase()&quot;</span> <span class="attr">x</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>去尚硅谷<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">school</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">url</span>: <span class="string">&#x27;http://www.atguigu.com&#x27;</span></span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            Vue中有2种数据绑定的方式：</span></span><br><span class="line"><span class="comment">                    1.单向绑定(v-bind)：数据只能从data流向页面。</span></span><br><span class="line"><span class="comment">                    2.双向绑定(v-model)：数据不仅能从data流向页面，还可以从页面流向data。</span></span><br><span class="line"><span class="comment">                        备注：</span></span><br><span class="line"><span class="comment">                                1.双向绑定一般都应用在表单类元素上（如：input、select等）</span></span><br><span class="line"><span class="comment">                                2.v-model:value 可以简写为 v-model，因为v-model默认收集的就是value值。</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 单向数据绑定: &lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment">        双向数据绑定: &lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        单向数据绑定: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        双向数据绑定: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 如下代码是错误的, 因为v-model只能应用在表单类(输入类元素上) --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-model:x=&quot;name&quot;&gt;你好啊&lt;/h2&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="../image/vue-basic/image-20231021161241748.png" alt="image-20231021161241748"></p><h2 id="el与data的两种写法"><a href="#el与data的两种写法" class="headerlink" title="el与data的两种写法"></a>el与data的两种写法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">data与el的2种写法</span></span><br><span class="line"><span class="comment">1.el有2种写法</span></span><br><span class="line"><span class="comment">(1).new Vue时候配置el属性。</span></span><br><span class="line"><span class="comment">(2).先创建Vue实例，随后再通过vm.$mount(&#x27;#root&#x27;)指定el的值。</span></span><br><span class="line"><span class="comment">2.data有2种写法</span></span><br><span class="line"><span class="comment">(1).对象式</span></span><br><span class="line"><span class="comment">(2).函数式</span></span><br><span class="line"><span class="comment">如何选择：目前哪种写法都可以，以后学习到组件时，data必须使用函数式，否则会报错。</span></span><br><span class="line"><span class="comment">3.一个重要的原则：</span></span><br><span class="line"><span class="comment">由Vue管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是Vue实例了。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// el的两种写法</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> v = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// el: &#x27;#root&#x27;, // 第一种写法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(v);</span></span><br><span class="line"><span class="language-javascript">  v.$mount(<span class="string">&#x27;#root&#x27;</span>); <span class="comment">// 第二种写法</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// data的两种写法</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//data的第一种写法: 对象式</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">/*         new Vue(&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    el: &#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    data: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        name: &#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                &#125;) */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//data的第二种写法: 函数式</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;)    </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="理解MVVM"><a href="#理解MVVM" class="headerlink" title="理解MVVM"></a>理解MVVM</h2><h3 id="编写代码片段"><a href="#编写代码片段" class="headerlink" title="编写代码片段"></a>编写代码片段</h3><p><img src="../image/vue-basic/image-20231021161313662.png" alt="image-20231021161313662"><br><img src="../image/vue-basic/image-20231021161349665.png" alt="image-20231021161349665"></p><p>复制如下代码保存</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Print to console&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;html, javascript, typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;new Vue(&#123;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;    el: &#x27;#root&#x27;,&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;    data: &#123;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;        $1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;    &#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;&#125;)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;生成一个Vue实例&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>在页面中只需要输入v1, 就可以快速创建一个Vue实例, 非常的方便<br><img src="../image/vue-basic/image-20231021161434538.png" alt="image-20231021161434538"></p><h3 id="MVVM模型"><a href="#MVVM模型" class="headerlink" title="MVVM模型"></a>MVVM模型</h3><ol><li>M：模型(Model) ：对应 data 中的数据</li><li>V：视图(View) ：模板</li><li>VM：视图模型(ViewModel) ： Vue 实例对象</li></ol><p><img src="../image/vue-basic/image-20231021161501811.png" alt="image-20231021161501811"><br>MVVM模型就是把一些乱七八糟的数据和一堆乱七八糟的DOM结构在中间使用VM连接<br><img src="../image/vue-basic/image-20231021161513979.png" alt="image-20231021161513979"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            MVVM模型</span></span><br><span class="line"><span class="comment">                        1. M：模型(Model) ：data中的数据</span></span><br><span class="line"><span class="comment">                        2. V：视图(View) ：模板代码</span></span><br><span class="line"><span class="comment">                        3. VM：视图模型(ViewModel)：Vue实例</span></span><br><span class="line"><span class="comment">            观察发现：</span></span><br><span class="line"><span class="comment">                        1.data中所有的属性，最后都出现在了vm身上。</span></span><br><span class="line"><span class="comment">                        2.vm身上所有的属性 及 Vue原型上所有属性，在Vue模板中都可以直接使用。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="回顾Object-defineProperty方法"><a href="#回顾Object-defineProperty方法" class="headerlink" title="回顾Object.defineProperty方法"></a>回顾Object.defineProperty方法</h2><h3 id="enumerable"><a href="#enumerable" class="headerlink" title="enumerable"></a>enumerable</h3><p>此时这种写法是可以遍历person的属性的</p><p><img src="../image/vue-basic/image-20231021161626902.png" alt="image-20231021161626902"></p><p><img src="../image/vue-basic/image-20231021161647847.png" alt="image-20231021161647847"></p><p>从上可以观察到Object.defineProperty定义的属性, 默认是不能被遍历的<br>只有设置了enumerable: true才能被遍历</p><h3 id="writable"><a href="#writable" class="headerlink" title="writable"></a>writable</h3><p>从上面可以观察到Object.defineProperty定义的属性, 默认是不能修改的<br>只有设置了 writable: true, 才能被修改</p><p><img src="../image/vue-basic/image-20231021161743307.png" alt="image-20231021161743307"></p><p><img src="../image/vue-basic/image-20231021161802394.png" alt="image-20231021161802394"><br>从上面可以观察到Object.defineProperty定义的属性, 默认是不能删除的<br>只有设置了 configurable: true 才能被删除</p><h2 id="数据代理"><a href="#数据代理" class="headerlink" title="数据代理"></a>数据代理</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">1.Vue中的数据代理：</span></span><br><span class="line"><span class="comment">通过vm对象来代理data对象中属性的操作（读/写）</span></span><br><span class="line"><span class="comment">2.Vue中数据代理的好处：</span></span><br><span class="line"><span class="comment">更加方便的操作data中的数据</span></span><br><span class="line"><span class="comment">3.基本原理：</span></span><br><span class="line"><span class="comment">通过Object.defineProperty()把data对象中所有属性添加到vm上。</span></span><br><span class="line"><span class="comment">为每一个添加到vm上的属性，都指定一个getter/setter。</span></span><br><span class="line"><span class="comment">在getter/setter内部去操作（读/写）data中对应的属性。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 数据代理: 通过一个对象代理对另一个对象中属性的操作 (读/写) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> obj = &#123;<span class="attr">x</span>:<span class="number">100</span>&#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> obj2 = &#123;<span class="attr">y</span>:<span class="number">200</span>&#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2, <span class="string">&#x27;x&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> obj.<span class="property">x</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      obj.<span class="property">x</span> = value</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="../image/vue-basic/image-20231021161827423.png" alt="image-20231021161827423"><br>修改了obj2.x的值, obj.x值也随之发生了变化</p><p><img src="../image/vue-basic/image-20231021161841485.png" alt="image-20231021161841485"></p><p>vm中使用了Object.defineProperty代理了_data的属性<br>_data.name中有data的值<br><img src="../image/vue-basic/image-20231021161858228.png" alt="image-20231021161858228"></p><h2 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h2><p>事件的基本使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                事件的基本使用：</span></span><br><span class="line"><span class="comment">                            1.使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名；</span></span><br><span class="line"><span class="comment">                            2.事件的回调需要配置在methods对象中，最终会在vm上；</span></span><br><span class="line"><span class="comment">                            3.methods中配置的函数，不要用箭头函数！否则this就不是vm了；</span></span><br><span class="line"><span class="comment">                            4.methods中配置的函数，都是被Vue所管理的函数，this的指向是vm 或 组件实例对象；</span></span><br><span class="line"><span class="comment">                            5.@click=&quot;demo&quot; 和 @click=&quot;demo($event)&quot; 效果一致，但后者可以传参；</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo2(66, $event)&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showInfo1</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>.<span class="property">innerText</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// 此处的this是vm对象</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// alert(&#x27;同学您好!&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showInfo2</span>(<span class="params">number, a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(event.target.innerText);</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(this); // 此处的this是vm对象</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(number);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&#x27;同学您好!!&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>事件修饰符</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件修饰符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.list</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: peru;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                Vue中的事件修饰符：</span></span><br><span class="line"><span class="comment">                        1.prevent：阻止默认事件（常用）；</span></span><br><span class="line"><span class="comment">                        2.stop：阻止事件冒泡（常用）；</span></span><br><span class="line"><span class="comment">                        3.once：事件只触发一次（常用）；</span></span><br><span class="line"><span class="comment">                        4.capture：使用事件的捕获模式；</span></span><br><span class="line"><span class="comment">                        5.self：只有event.target是当前操作的元素时才触发事件；</span></span><br><span class="line"><span class="comment">                        6.passive：事件的默认行为立即执行，无需等待事件回调执行完毕；</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 阻止默认事件（常用）； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 阻止事件冒泡（常用）； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 修饰符可以连续写 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 触发过一次之后就不会再触发了 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 事件只触发一次（常用）； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 使用事件的捕获模式； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;showMsg(1)&quot;</span>&gt;</span></span><br><span class="line">            div1</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showMsg(2)&quot;</span>&gt;</span></span><br><span class="line">                div2</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 只有event.target是当前操作的元素时才触发事件； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕； --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> @<span class="attr">wheel.passive</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- scroll用这个事件之后就可以不用添加passive修饰符 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- wheel事件会在函数调用完之后, 滚动条才会发生变化 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 给wheel加上passive之后, 即使函数还没执行完, 滚动条依旧会滚动 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> @<span class="attr">scroll</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showInfo</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// event.preventDefault();</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&#x27;同学你好! &#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showMsg</span>(<span class="params">msg</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(msg);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">demo</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;#&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>键盘事件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">1.Vue中常用的按键别名：</span></span><br><span class="line"><span class="comment">回车 =&gt; enter</span></span><br><span class="line"><span class="comment">删除 =&gt; delete (捕获“删除”和“退格”键)</span></span><br><span class="line"><span class="comment">退出 =&gt; esc</span></span><br><span class="line"><span class="comment">空格 =&gt; space</span></span><br><span class="line"><span class="comment">换行 =&gt; tab (特殊，必须配合keydown去使用)</span></span><br><span class="line"><span class="comment">上 =&gt; up</span></span><br><span class="line"><span class="comment">下 =&gt; down</span></span><br><span class="line"><span class="comment">左 =&gt; left</span></span><br><span class="line"><span class="comment">右 =&gt; right</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3.系统修饰键（用法特殊）：ctrl、alt、shift、meta</span></span><br><span class="line"><span class="comment">(1).配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。</span></span><br><span class="line"><span class="comment">(2).配合keydown使用：正常触发事件。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">4.也可以使用keyCode去指定具体的按键（不推荐）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">5.Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keyup.caps-lock=&quot;showInfo&quot;&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.tab=&quot;showInfo&quot;&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.ctrl=&quot;showInfo&quot;&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.huiche=&quot;showInfo&quot;&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 只允许按下CtrlY的时候触发事件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;按下回车提示输入&quot;</span> @<span class="attr">keydown.ctrl.y</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">keyCodes</span>.<span class="property">huiche</span> = <span class="number">13</span>  <span class="comment">// 定义了一个别名按键</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showInfo</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">key</span>, e.<span class="property">keyCode</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(e.target.value);</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>姓名案例_插值语法实现</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_插值语法实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;firstName&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;firstName.slice(0, 3)&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>姓名案例_methods实现</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_methods实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName()&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 插值语法调用方法需要加() --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的方法可加括号, 也可不加括号 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// alert(1)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>姓名案例_计算属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_计算属性<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            计算属性：</span></span><br><span class="line"><span class="comment">                    1.定义：要用的属性不存在，要通过已有属性计算得来。</span></span><br><span class="line"><span class="comment">                    2.原理：底层借助了Objcet.defineproperty方法提供的getter和setter。</span></span><br><span class="line"><span class="comment">                    3.get函数什么时候执行？</span></span><br><span class="line"><span class="comment">                                (1).初次读取时会执行一次。</span></span><br><span class="line"><span class="comment">                                (2).当依赖的数据发生改变时会被再次调用。</span></span><br><span class="line"><span class="comment">                    4.优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。</span></span><br><span class="line"><span class="comment">                    5.备注：</span></span><br><span class="line"><span class="comment">                            1.计算属性最终会出现在vm上，直接读取使用即可。</span></span><br><span class="line"><span class="comment">                            2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- fullName里面的get函数只会被调用一次, 因为这里面有缓存机制 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 如果在methods中定义的函数中存在get函数, 且调用的是methods里面函数的get, 会被调用多次 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 计算属性, 以后计算出来的属性, 不在_data</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// get 有什么作用? 当有人读取fullName时, get就会被调用, 且返回值就作为fullName的值</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// get 什么时候被调用? </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 1. 初次读取fullName时</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 2. 所依赖的数据发生变化时</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// console.log(this); // 此处的this是vm</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// set什么时候被调用? </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 当fullName被修改时</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>, value);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">1</span>]);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">firstName</span> = arr[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">lastName</span> = arr[<span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>姓名案例_计算属性简写</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_计算属性简写<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 完整写法</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*                 fullName: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    get() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        console.log(&#x27;get被调用了&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        return this.firstName + &#x27;-&#x27; + this.lastName</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    set(value) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        console.log(&#x27;set&#x27;, value);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        const arr = value.split(&#x27;-&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        console.log(arr[0]);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        console.log(arr[1]);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        this.firstName = arr[0];</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        this.lastName = arr[1];</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                &#125; */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 简写写法</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 只考虑读取, 不考虑修改的时候才能使用简写的方式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="监视属性"><a href="#监视属性" class="headerlink" title="监视属性"></a>监视属性</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候: @xxx=&quot;yyy&quot; yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isHot = !isHot&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;changeWeather&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isHot</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isHot</span> = !<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">info</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span> : <span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案例_监视属性<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                监视属性watch：</span></span><br><span class="line"><span class="comment">                    1.当被监视的属性变化时, 回调函数自动调用, 进行相关操作</span></span><br><span class="line"><span class="comment">                    2.监视的属性必须存在，才能进行监视！！</span></span><br><span class="line"><span class="comment">                    3.监视的两种写法：</span></span><br><span class="line"><span class="comment">                            (1).new Vue时传入watch配置</span></span><br><span class="line"><span class="comment">                            (2).通过vm.$watch监视</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候: @xxx=&quot;yyy&quot; yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;isHot = !isHot&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isHot</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isHot</span> = !<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">info</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span> : <span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/*             watch: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            isHot: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                immediate:true, // 初始化时让handler调用一次</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                // handler 什么时候调用? isHot发生改变时</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                handler(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        &#125; */</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        vm.$watch(<span class="string">&#x27;isHot&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">immediate</span>: <span class="literal">true</span>, <span class="comment">// 初始化时让handler调用一次</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// handler 什么时候调用? isHot发生改变时</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">handler</span>(<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>, newValue, oldValue);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案例_深度监视<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            深度监视：</span></span><br><span class="line"><span class="comment">                    (1).Vue中的watch默认不监测对象内部值的改变（一层）。</span></span><br><span class="line"><span class="comment">                    (2).配置deep:true可以监测对象内部值改变（多层）。</span></span><br><span class="line"><span class="comment">            备注：</span></span><br><span class="line"><span class="comment">                    (1).Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以！</span></span><br><span class="line"><span class="comment">                    (2).使用watch时根据数据的具体结构，决定是否采用深度监视。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>a的值是: &#123;&#123;numbers.a&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;numbers.a++&quot;</span>&gt;</span>点我a++<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>b的值是: &#123;&#123;numbers.b&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;numbers.b++&quot;</span>&gt;</span>点我b++<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;numbers = &#123;a:666,b:999&#125;&quot;</span>&gt;</span>点我替换numbers<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isHot</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">numbers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">a</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">b</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isHot</span> = !<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">info</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span> : <span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isHot</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// immediate: true, // 初始化时让handler调用一次</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// handler 什么时候调用? isHot发生改变时</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">handler</span>(<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>, newValue, oldValue);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 监视多级结构中某个属性的变化</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/*                 &#x27;numbers.a&#x27;: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    handler(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        console.log(&#x27;numbers被修改了&#x27;, newValue, oldValue);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                &#125;, */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 监视多级结构中所有属性的变化</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">numbers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">deep</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">handler</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;numbers被修改了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案例_监视属性_简写<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isHot</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isHot</span> = !<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">info</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span> : <span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 正常写法</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*                 isHot: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    // immediate: true, // 初始化时让handler调用一次</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    // handler 什么时候调用? isHot发生改变时</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    // deep: true,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    handler(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                        console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                    &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                                &#125;, */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 简写</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 没有deep, immediate的时候就可以简写</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// isHot(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 正常的写法</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// vm.$watch(&#x27;isHot&#x27;, &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     // immediate: true, // 初始化时让handler调用一次</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     // handler 什么时候调用? isHot发生改变时</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     // deep: true,</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     handler(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 简写方式</span></span></span><br><span class="line"><span class="language-javascript">        vm.$watch(<span class="string">&#x27;isHot&#x27;</span>, <span class="keyword">function</span> (<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>, newValue, oldValue);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>两个重要的小原则：<br>1.所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。<br>2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_watch实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            computed和watch之间的区别：</span></span><br><span class="line"><span class="comment">                    1.computed能完成的功能，watch都可以完成。</span></span><br><span class="line"><span class="comment">                    2.watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</span></span><br><span class="line"><span class="comment">            两个重要的小原则：</span></span><br><span class="line"><span class="comment">                        1.所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">                        2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，</span></span><br><span class="line"><span class="comment">                            这样this的指向才是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名: <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// 阻止 vue 在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName</span>: <span class="string">&#x27;张-三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">firstName</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">fullName</span> = val + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>    </span></span><br><span class="line"><span class="language-javascript">                    &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">lastName</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">fullName</span> = <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + val;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="绑定样式"><a href="#绑定样式" class="headerlink" title="绑定样式"></a>绑定样式</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>绑定样式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.basic</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.happy</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">4px</span> solid red;</span></span><br><span class="line"><span class="language-css">            ;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0.644</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">30deg</span>, yellow, pink, orange, yellow);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.sad</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">4px</span> dashed <span class="built_in">rgb</span>(<span class="number">2</span>, <span class="number">197</span>, <span class="number">2</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: gray;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.normal</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">10px</span> red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            绑定样式：</span></span><br><span class="line"><span class="comment">                    1. class样式</span></span><br><span class="line"><span class="comment">                                写法:class=&quot;xxx&quot; xxx可以是字符串、对象、数组。</span></span><br><span class="line"><span class="comment">                                        字符串写法适用于：类名不确定，要动态获取。</span></span><br><span class="line"><span class="comment">                                        对象写法适用于：要绑定多个样式，个数不确定，名字也不确定。</span></span><br><span class="line"><span class="comment">                                        数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用。</span></span><br><span class="line"><span class="comment">                    2. style样式</span></span><br><span class="line"><span class="comment">                                :style=&quot;&#123;fontSize: xxx&#125;&quot;其中xxx是动态值。</span></span><br><span class="line"><span class="comment">                                :style=&quot;[a,b]&quot;其中a、b是样式对象。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式 -- 字符串写法, 适用于: 样式的类名不确定, 需要动态指定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;mood&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式 -- 数组写法, 适用于: 要绑定的样式个数不确定, 名字也不确定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式 -- 对象写法, 适用于: 要绑定的样式个数确定, 名字也确定, 但要动态决定用不用 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;atguigu1: true, atguigu2: true&#125;&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize: fsize+&#x27;px&#x27;&#125;&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定style样式 -- 对象写法 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定style样式 -- 数组写法 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数据写法很少 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;[styleObj, styleObj2]&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">mood</span>: <span class="string">&#x27;normal&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">classArr</span>: [<span class="string">&#x27;atguigu1&#x27;</span>, <span class="string">&#x27;atguigu2&#x27;</span>, <span class="string">&#x27;atguigu3&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">classObj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">atguigu1</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">atguigu2</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fsize</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">styleObj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontSize</span>: <span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">styleObj2</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">backgroundColor</span>: <span class="string">&#x27;orange&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">styleArr</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontSize</span>: <span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">backgroundColor</span>: <span class="string">&#x27;gray&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">changeMood</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">/*    console.log(parseInt(Math.random()*3));</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       let rand = parseInt(Math.random()*3)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       if (rand == 0) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                           this.mood = &#x27;happy&#x27;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       if (rand == 1) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                           this.mood = &#x27;sad&#x27;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       if (rand == 2) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                           this.mood = &#x27;normal&#x27;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                       &#125; */</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> arr = [<span class="string">&#x27;happy&#x27;</span>, <span class="string">&#x27;sad&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>];</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">mood</span> = arr[index]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>条件渲染<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                条件渲染：</span></span><br><span class="line"><span class="comment">                            1.v-if</span></span><br><span class="line"><span class="comment">                                        写法：</span></span><br><span class="line"><span class="comment">                                                (1).v-if=&quot;表达式&quot; </span></span><br><span class="line"><span class="comment">                                                (2).v-else-if=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                                                (3).v-else=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                                        适用于：切换频率较低的场景。</span></span><br><span class="line"><span class="comment">                                        特点：不展示的DOM元素直接被移除。</span></span><br><span class="line"><span class="comment">                                        注意：v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                            2.v-show</span></span><br><span class="line"><span class="comment">                                        写法：v-show=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                                        适用于：切换频率较高的场景。</span></span><br><span class="line"><span class="comment">                                        特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</span></span><br><span class="line"><span class="comment">                                </span></span><br><span class="line"><span class="comment">                            3.备注：使用v-if的时，元素可能无法获取到，而使用v-show一定可以获取到。</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-show做条件渲染 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-show=&quot;true&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-show=&quot;a&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-show=&quot;1 === 3&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-show做条件渲染  --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-if=&quot;1 === 1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-if=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- v-else和v-else-if --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 中间的div不允许被打断 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div v-if=&quot;n === 1&quot;&gt;Angular&lt;/div&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div v-else-if=&quot;n === 2&quot;&gt;React&lt;/div&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div v-else-if=&quot;n === 3&quot;&gt;Vue&lt;/div&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div v-else&gt;哈哈&lt;/div&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- v-if和template的配合使用 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- template标签内部只能跟v-if一起配合使用, 不能跟v-show --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;n === 1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>尚硅谷<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">a</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">n</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><p>基本列表</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基本列表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                v-for指令:</span></span><br><span class="line"><span class="comment">                        1.用于展示列表数据</span></span><br><span class="line"><span class="comment">                        2.语法：v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span></span><br><span class="line"><span class="comment">                        3.可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 两个参数也可以不加小括号(), 但是最好养成一个好的习惯 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;li v-for=&quot;person,index in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 也可以使用of来遍历, 接近 JavaScript 迭代器的语法 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;li v-for=&quot;(person,index) of persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;index&#125;&#125; - &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 遍历对象 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>汽车信息(遍历对象)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in car&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;key&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;key&#125;&#125; -- &#123;&#123;value&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 遍历字符串 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>遍历字符串(用得少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(char,index) in str&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;index&#125;&#125; -- &#123;&#123;char&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 遍历指定次数 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>遍历指定次数(用得少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number,index) in 5&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;number&#125;&#125; -- &#123;&#123;index&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;李四&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;王五&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">car</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;奥迪A8&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">price</span>: <span class="string">&#x27;70万&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&#x27;黑色&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">str</span>: <span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>key的原理<br>开发中如何选择key?:<br>1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。<br>2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用index作为key是没有问题的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>key的原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                面试题：react、vue中的key有什么作用？（key的内部原理）</span></span><br><span class="line"><span class="comment">                        </span></span><br><span class="line"><span class="comment">                        1. 虚拟DOM中key的作用：</span></span><br><span class="line"><span class="comment">                                        key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】, </span></span><br><span class="line"><span class="comment">                                        随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</span></span><br><span class="line"><span class="comment">                                        </span></span><br><span class="line"><span class="comment">                        2.对比规则：</span></span><br><span class="line"><span class="comment">                                    (1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</span></span><br><span class="line"><span class="comment">                                                ①.若虚拟DOM中内容没变, 直接使用之前的真实DOM！</span></span><br><span class="line"><span class="comment">                                                ②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                                    (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</span></span><br><span class="line"><span class="comment">                                                创建新的真实DOM，随后渲染到到页面。</span></span><br><span class="line"><span class="comment">                                                </span></span><br><span class="line"><span class="comment">                        3. 用index作为key可能会引发的问题：</span></span><br><span class="line"><span class="comment">                                            1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</span></span><br><span class="line"><span class="comment">                                                            会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                                            2. 如果结构中还包含输入类的DOM：</span></span><br><span class="line"><span class="comment">                                                            会产生错误DOM更新 ==&gt; 界面有问题。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        4. 开发中如何选择key?:</span></span><br><span class="line"><span class="comment">                                            1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</span></span><br><span class="line"><span class="comment">                                            2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</span></span><br><span class="line"><span class="comment">                                                使用index作为key是没有问题的。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加一个老刘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;person.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;李四&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;王五&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">unshift</span>(&#123; <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;老刘&#x27;</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="../image/vue-basic/image-20231021161942349.png" alt="image-20231021161942349"><br><img src="../image/vue-basic/image-20231021161959821.png" alt="image-20231021161959821"></p><h2 id="监视数据的原理"><a href="#监视数据的原理" class="headerlink" title="监视数据的原理"></a>监视数据的原理</h2><p>监测数据的原理就是监测set被调用监测的, 一旦set被调用, 就会被监测到</p><p><img src="../image/vue-basic/image-20231021162023492.png" alt="image-20231021162023492"></p><p>因为vm.student === vm._data.student , 所以上面的代码可以简写</p><p><img src="../image/vue-basic/image-20231021162047146.png" alt="image-20231021162047146"><br>注意, 这种方式只能给vm中的某一个对象追加属性, 不能给data追加一个属性     </p><p><img src="../image/vue-basic/image-20231021162111861.png" alt="image-20231021162111861"></p><p><img src="../image/vue-basic/image-20231021162123866.png" alt="image-20231021162123866"><br>只用着了这七个方法, vue会发现修改了数组<br>下面这种方法, 修改数组, vue也会发现, 然后渲染页面<br><img src="../image/vue-basic/image-20231021162138357.png" alt="image-20231021162138357"></p><p>数组里面不能够使用getset来监视, 尽管修改了数组索引的值, 但是页面并没有发生改变<br><img src="../image/vue-basic/image-20231021162210156.png" alt="image-20231021162210156"><br>使用了push的方式修改了数组, 但是页面发生了变化<br><img src="../image/vue-basic/image-20231021162226817.png" alt="image-20231021162226817"><br>使用了这七个方法中的修改了数组, 都是响应式的, 页面都会有反应的</p><h2 id="列表渲染-1"><a href="#列表渲染-1" class="headerlink" title="列表渲染"></a>列表渲染</h2><p>基本列表</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基本列表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                v-for指令:</span></span><br><span class="line"><span class="comment">                        1.用于展示列表数据</span></span><br><span class="line"><span class="comment">                        2.语法：v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span></span><br><span class="line"><span class="comment">                        3.可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 两个参数也可以不加小括号(), 但是最好养成一个好的习惯 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;li v-for=&quot;person,index in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 也可以使用of来遍历, 接近 JavaScript 迭代器的语法 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;li v-for=&quot;(person,index) of persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;index&#125;&#125; - &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 遍历对象 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>汽车信息(遍历对象)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in car&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;key&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;key&#125;&#125; -- &#123;&#123;value&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 遍历字符串 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>遍历字符串(用得少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(char,index) in str&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;index&#125;&#125; -- &#123;&#123;char&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 遍历指定次数 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>遍历指定次数(用得少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number,index) in 5&quot;</span> <span class="attr">::key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;number&#125;&#125; -- &#123;&#123;index&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;李四&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;王五&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">car</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;奥迪A8&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">price</span>: <span class="string">&#x27;70万&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&#x27;黑色&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">str</span>: <span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>key的原理</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>key的原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                面试题：react、vue中的key有什么作用？（key的内部原理）</span></span><br><span class="line"><span class="comment">                        </span></span><br><span class="line"><span class="comment">                        1. 虚拟DOM中key的作用：</span></span><br><span class="line"><span class="comment">                                        key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】, </span></span><br><span class="line"><span class="comment">                                        随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</span></span><br><span class="line"><span class="comment">                                        </span></span><br><span class="line"><span class="comment">                        2.对比规则：</span></span><br><span class="line"><span class="comment">                                    (1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</span></span><br><span class="line"><span class="comment">                                                ①.若虚拟DOM中内容没变, 直接使用之前的真实DOM！</span></span><br><span class="line"><span class="comment">                                                ②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                                    (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</span></span><br><span class="line"><span class="comment">                                                创建新的真实DOM，随后渲染到到页面。</span></span><br><span class="line"><span class="comment">                                                </span></span><br><span class="line"><span class="comment">                        3. 用index作为key可能会引发的问题：</span></span><br><span class="line"><span class="comment">                                            1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</span></span><br><span class="line"><span class="comment">                                                            会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                                            2. 如果结构中还包含输入类的DOM：</span></span><br><span class="line"><span class="comment">                                                            会产生错误DOM更新 ==&gt; 界面有问题。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        4. 开发中如何选择key?:</span></span><br><span class="line"><span class="comment">                                            1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</span></span><br><span class="line"><span class="comment">                                            2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</span></span><br><span class="line"><span class="comment">                                                使用index作为key是没有问题的。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加一个老刘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;person.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;李四&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;王五&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">unshift</span>(&#123; <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;老刘&#x27;</span>, <span class="attr">age</span>: <span class="number">40</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>列表过滤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>列表过滤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入名字&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in filPersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; - &#123;&#123;person.sex&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 用watch实现</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* const vm = new Vue(&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            el: &#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            data: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                keyWord: &#x27;&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                persons: [</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#123; id: &#x27;001&#x27;, name: &#x27;马冬梅&#x27;, age: 18, sex: &#x27;女&#x27; &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#123; id: &#x27;002&#x27;, name: &#x27;周冬雨&#x27;, age: 19, sex: &#x27;女&#x27; &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#123; id: &#x27;003&#x27;, name: &#x27;周杰伦&#x27;, age: 20, sex: &#x27;男&#x27; &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#123; id: &#x27;004&#x27;, name: &#x27;温兆伦&#x27;, age: 20, sex: &#x27;男&#x27; &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                ],</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                filPersons: []</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            methods: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            watch: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                keyWord: &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    immediate: true,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    handler(val) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        this.filPersons = this.persons.filter((p) =&gt; &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            return p.name.indexOf(val) !== -1</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        &#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125; </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;)*/</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 用computed实现</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">keyWord</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;马冬梅&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周冬雨&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周杰伦&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;温兆伦&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filPersons</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">p</span>=&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>列表排序</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>列表排序<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入名字&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType = 2&quot;</span>&gt;</span>年龄升序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType = 1&quot;</span>&gt;</span>年龄降序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType = 0&quot;</span>&gt;</span>原顺序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in filPersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;person.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.age&#125;&#125; - &#123;&#123;person.sex&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">keyWord</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;马冬梅&#x27;</span>, <span class="attr">age</span>: <span class="number">33</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周冬雨&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周杰伦&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;温兆伦&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">sortType</span>: <span class="number">0</span> <span class="comment">// 0原顺序  1 降序  2 升序</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filPersons</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> arr = <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sortType</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">p1, p2</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sortType</span> == <span class="number">1</span> ? p2.<span class="property">age</span> - p1.<span class="property">age</span> : p1.<span class="property">age</span> - p2.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> arr</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>更新时的一个问题</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>列表排序<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateMei&quot;</span>&gt;</span>点我修改马冬梅<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(person,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;person.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.age&#125;&#125; - &#123;&#123;person.sex&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;马冬梅&#x27;</span>, <span class="attr">age</span>: <span class="number">33</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周冬雨&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;周杰伦&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;温兆伦&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateMei</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// this.persons[0].name = &#x27;马老师&#x27;    // 奏效        </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// this.persons[0].age = 50          // 奏效  </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// this.persons[0].sex = &#x27;男&#x27;        // 奏效   </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">persons</span>[<span class="number">0</span>] = &#123; <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;马老师&#x27;</span>, <span class="attr">age</span>: <span class="number">50</span>, <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Vue检测数据改变的原理</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue检测数据改变的原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称: &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址: &#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>模拟一个数据检测</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>模拟一个数据检测<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> data = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// let tmp = &#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// setInterval(() =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     if (data.name !== tmp) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         tmp = data.name</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         console.log(&#x27;name被改了&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Object.defineProperty(data, &#x27;name&#x27;, &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     get() &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         return data.name</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     set(val) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         data.name = val</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建一个监视的实例对象, 用于监视data中属性的变化</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> obs = <span class="keyword">new</span> <span class="title class_">Observer</span>(data)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(obs);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 准备一个vm实例对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> vm = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">        vm.<span class="property">_data</span> = data = obs</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建一个监视实例对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">Observer</span>(<span class="params">obj</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 汇总对象中的所有属性形成一个数组</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(keys);</span></span><br><span class="line"><span class="language-javascript">            keys.<span class="title function_">forEach</span>(<span class="function">(<span class="params">k</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">this</span>, k, &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> obj[k]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">set</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;k&#125;</span>被改了被改了, 我要去解析模板, 生成虚拟DOM.....我要开始忙了`</span>);</span></span><br><span class="line"><span class="language-javascript">                        obj[k] = val</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Vue.set的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue检测数据改变的原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称: &#123;&#123;school.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址: &#123;&#123;school.address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>校长: &#123;&#123;school.leader&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addSex&quot;</span>&gt;</span>点我添加一个性别: 性别为男<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名: &#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>年龄: &#123;&#123;student.age.rAge&#125;&#125;, &#123;&#123;student.age.sAge&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别: &#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">school</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">student</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">rAge</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">sAge</span>: <span class="number">29</span>,</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">friends</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;jerry&#x27;</span>, <span class="attr">age</span>: <span class="number">35</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;tony&#x27;</span>, <span class="attr">age</span>: <span class="number">36</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addSex</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Vue检测数据改变的原理_数组</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue检测数据改变的原理_数组<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称: &#123;&#123;school.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址: &#123;&#123;school.address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>校长: &#123;&#123;school.leader&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addSex&quot;</span>&gt;</span>点我添加一个性别: 性别为男<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名: &#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>年龄: &#123;&#123;student.age.rAge&#125;&#125;, &#123;&#123;student.age.sAge&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别: &#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(h,index) in student.hobby&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;h&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">school</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">student</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">rAge</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">sAge</span>: <span class="number">29</span>,</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">hobby</span>: [</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&#x27;抽烟&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&#x27;喝酒&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&#x27;烫头&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">friends</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;jerry&#x27;</span>, <span class="attr">age</span>: <span class="number">35</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;tony&#x27;</span>, <span class="attr">age</span>: <span class="number">36</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addSex</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>总结Vue数据监测</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>总结Vue数据监测<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            Vue监视数据的原理：</span></span><br><span class="line"><span class="comment">                1. vue会监视data中所有层次的数据。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                2. 如何监测对象中的数据？</span></span><br><span class="line"><span class="comment">                                通过setter实现监视，且要在new Vue时就传入要监测的数据。</span></span><br><span class="line"><span class="comment">                                    (1).对象中后追加的属性，Vue默认不做响应式处理</span></span><br><span class="line"><span class="comment">                                    (2).如需给后添加的属性做响应式，请使用如下API：</span></span><br><span class="line"><span class="comment">                                                    Vue.set(target，propertyName/index，value) 或 </span></span><br><span class="line"><span class="comment">                                                    vm.$set(target，propertyName/index，value)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                3. 如何监测数组中的数据？</span></span><br><span class="line"><span class="comment">                                    通过包裹数组更新元素的方法实现，本质就是做了两件事：</span></span><br><span class="line"><span class="comment">                                        (1).调用原生对应的方法对数组进行更新。</span></span><br><span class="line"><span class="comment">                                        (2).重新解析模板，进而更新页面。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                4.在Vue修改数组中的某个元素一定要用如下方法：</span></span><br><span class="line"><span class="comment">                            1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()</span></span><br><span class="line"><span class="comment">                            2.Vue.set() 或 vm.$set()</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.age++&quot;</span>&gt;</span>年龄+1岁<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addSex&quot;</span>&gt;</span>添加性别属性，默认值：男<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateSex&quot;</span>&gt;</span>修改性别<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addFriends&quot;</span>&gt;</span>在列表首位添加一个朋友<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateFriends&quot;</span>&gt;</span>修改第一个朋友的名字为：张三<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addHobby&quot;</span>&gt;</span>添加一个爱好<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateHobby&quot;</span>&gt;</span>修改第一个爱好为：开车<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;deleteHobby&quot;</span>&gt;</span>过滤掉爱好中的抽烟<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名: &#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>年龄: &#123;&#123;student.age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别: &#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(h,index) in student.hobby&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;h&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>朋友们<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(f,index) in student.friends&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;f.name&#125;&#125; -- &#123;&#123;f.age&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">student</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">hobby</span>: [<span class="string">&#x27;抽烟&#x27;</span>, <span class="string">&#x27;喝酒&#x27;</span>, <span class="string">&#x27;烫头&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">friends</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;jerry&#x27;</span>, <span class="attr">age</span>: <span class="number">35</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;tony&#x27;</span>, <span class="attr">age</span>: <span class="number">36</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addSex</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateSex</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">sex</span> = <span class="string">&#x27;未知&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/*                     if (this.student.sex === &#x27;男&#x27;) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        this.$set(this.student, &#x27;sex&#x27;, &#x27;女&#x27;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#125; else &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        this.$set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    &#125; */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addFriends</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.student.friends.unshift(&#123;name: &#x27;肉豆蔻&#x27;, age: 18&#125;)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>.<span class="title function_">unshift</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;肉豆蔻&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateFriends</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.student.friends[0].name = &#x27;张三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>[<span class="number">0</span>].<span class="property">name</span> = <span class="string">&#x27;张三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addHobby</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.student.hobby.push(&#x27;学习&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">push</span>(<span class="string">&#x27;学习&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateHobby</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.$set(vm.student.hobby, 0, &#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="string">&#x27;开车&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// this.$set(this.student.hobby, 0, &#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">deleteHobby</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.student.hobby.filter(h =&gt; h.indexOf(&#x27;抽烟&#x27;))</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// filter是浅拷贝</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// this.student.hobby = this.student.hobby.filter(h =&gt; h.indexOf(&#x27;抽烟&#x27;))</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span> = <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">h</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> h !== <span class="string">&#x27;抽烟&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        filter是浅拷贝</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        const words = [&#x27;spray&#x27;, &#x27;limit&#x27;, &#x27;elite&#x27;, &#x27;exuberant&#x27;, &#x27;destruction&#x27;, &#x27;present&#x27;];</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        const result = words.filter(word =&gt; word.length &gt; 6);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(result);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="收集表单数据"><a href="#收集表单数据" class="headerlink" title="收集表单数据"></a>收集表单数据</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>收集表单数据<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            收集表单数据：</span></span><br><span class="line"><span class="comment">                    若：&lt;input type=&quot;text&quot;/&gt;，则v-model收集的是value值，用户输入的就是value值。</span></span><br><span class="line"><span class="comment">                    若：&lt;input type=&quot;radio&quot;/&gt;，则v-model收集的是value值，且要给标签配置value值。</span></span><br><span class="line"><span class="comment">                    若：&lt;input type=&quot;checkbox&quot;/&gt;</span></span><br><span class="line"><span class="comment">                            1.没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span></span><br><span class="line"><span class="comment">                            2.配置input的value属性:</span></span><br><span class="line"><span class="comment">                                    (1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span></span><br><span class="line"><span class="comment">                                    (2)v-model的初始值是数组，那么收集的的就是value组成的数组</span></span><br><span class="line"><span class="comment">                    备注：v-model的三个修饰符：</span></span><br><span class="line"><span class="comment">                                    lazy：失去焦点再收集数据</span></span><br><span class="line"><span class="comment">                                    number：输入字符串转为有效的数字</span></span><br><span class="line"><span class="comment">                                    trim：输入首尾空格过滤</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">            账号: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;userInfo.account&quot;</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            密码: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            年龄: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;userInfo.age&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            性别:</span><br><span class="line">            男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span>&gt;</span></span><br><span class="line">            女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            爱好:</span><br><span class="line">            抽烟<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;抽烟&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span>&gt;</span></span><br><span class="line">            喝酒<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;喝酒&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span>&gt;</span></span><br><span class="line">            烫头<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;烫头&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            所属校区</span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.city&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>请选择校区<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shenzhen&quot;</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;wuhan&quot;</span>&gt;</span>武汉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            其他信息:</span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;userInfo.other&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.agree&quot;</span>&gt;</span></span><br><span class="line">            阅读并接受<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span>&gt;</span>《用户协议》<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">userInfo</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">account</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">sex</span>: <span class="string">&#x27;female&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">hobby</span>: [],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">city</span>: <span class="string">&#x27;beijing&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">other</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">agree</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">demo</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">userInfo</span>));</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>在<a href="https://www.bootcdn.cn/">https://www.bootcdn.cn/</a>网站中找到dayjs.min.js并且引入</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>过滤器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/dayjs.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            过滤器：</span></span><br><span class="line"><span class="comment">                定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。</span></span><br><span class="line"><span class="comment">                语法：</span></span><br><span class="line"><span class="comment">                        1.注册过滤器：Vue.filter(name,callback) 或 new Vue&#123;filters:&#123;&#125;&#125;</span></span><br><span class="line"><span class="comment">                        2.使用过滤器：&#123;&#123; xxx | 过滤器名&#125;&#125;  或  v-bind:属性 = &quot;xxx | 过滤器名&quot;</span></span><br><span class="line"><span class="comment">                备注：</span></span><br><span class="line"><span class="comment">                        1.过滤器也可以接收额外参数、多个过滤器也可以串联</span></span><br><span class="line"><span class="comment">                        2.并没有改变原本的数据, 是产生新的对应的数据</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h2</span>&gt;</span>显示格式化后的时间<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 计算属性实现 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是: &#123;&#123;fmtTime&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- methods实现 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是: &#123;&#123;getFmtTime()&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 过滤器实现 --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- |是管道符 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是: &#123;&#123;time | timeFormater&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 过滤器传参 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是: &#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 多个过滤器的串联 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是: &#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;) | mySlice&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 属性中也可以使用管道符过滤 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h3</span> <span class="attr">:x</span>=<span class="string">&quot;msg | mySlice&quot;</span>&gt;</span>尚硅谷<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 注意 , 过滤器只能使用在插值语法中和v-bind中 --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 不能使用在v-model中 --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;msg | mySilce&quot;&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name | mySlice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 全局过滤器</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>, <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// time: 1621561377603 // 时间戳</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="comment">// 时间戳</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;你好,尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">getFmtTime</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title function_">dayjs</span>(<span class="variable language_">this</span>.<span class="property">time</span>).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">fmtTime</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title function_">dayjs</span>(<span class="variable language_">this</span>.<span class="property">time</span>).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 局部过滤器</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">filters</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">timeFormater</span>(<span class="params">value, str=<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title function_">dayjs</span>(value).<span class="title function_">format</span>(str);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// mySlice(value) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     return value.slice(0, 4);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;hello, atguigu&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="内置指令"><a href="#内置指令" class="headerlink" title="内置指令"></a>内置指令</h2><p>v-text</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-text指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                我们学过的指令：</span></span><br><span class="line"><span class="comment">                        v-bind  : 单向绑定解析表达式, 可简写为 :xxx</span></span><br><span class="line"><span class="comment">                        v-model : 双向数据绑定</span></span><br><span class="line"><span class="comment">                        v-for   : 遍历数组/对象/字符串</span></span><br><span class="line"><span class="comment">                        v-on    : 绑定事件监听, 可简写为@</span></span><br><span class="line"><span class="comment">                        v-if        : 条件渲染（动态控制节点是否存存在）</span></span><br><span class="line"><span class="comment">                        v-else  : 条件渲染（动态控制节点是否存存在）</span></span><br><span class="line"><span class="comment">                        v-show  : 条件渲染 (动态控制节点是否展示)</span></span><br><span class="line"><span class="comment">                v-text指令：</span></span><br><span class="line"><span class="comment">                        1.作用：向其所在的节点中渲染文本内容。</span></span><br><span class="line"><span class="comment">                        2.与插值语法的区别：v-text会替换掉节点中的内容，&#123;&#123;xx&#125;&#125;则不会。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>你好, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;str&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">str</span>: <span class="string">&#x27;&lt;h2&gt;你好啊!&lt;/h2&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>v-html<br>v-html有安全性问题！！！！<br>(1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。<br>(2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-html指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                v-html指令：</span></span><br><span class="line"><span class="comment">                        1.作用：向指定节点中渲染包含html结构的内容。</span></span><br><span class="line"><span class="comment">                        2.与插值语法的区别：</span></span><br><span class="line"><span class="comment">                                    (1).v-html会替换掉节点中所有的内容，&#123;&#123;xx&#125;&#125;则不会。</span></span><br><span class="line"><span class="comment">                                    (2).v-html可以识别html结构。</span></span><br><span class="line"><span class="comment">                        3.严重注意：v-html有安全性问题！！！！</span></span><br><span class="line"><span class="comment">                                    (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</span></span><br><span class="line"><span class="comment">                                    (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>你好, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;str&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;str2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">str</span>: <span class="string">&#x27;&lt;h2&gt;你好啊!&lt;/h2&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">str2</span>: <span class="string">&#x27;&lt;a href=javascript:location.href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;点我有好看的&lt;/a&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="../image/vue-basic/image-20231021162324866.png" alt="image-20231021162324866"><br>v-cloak</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-cloak指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-attr">[v-cloak]</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                v-html指令：</span></span><br><span class="line"><span class="comment">                        1.作用：向指定节点中渲染包含html结构的内容。</span></span><br><span class="line"><span class="comment">                        2.与插值语法的区别：</span></span><br><span class="line"><span class="comment">                                    (1).v-html会替换掉节点中所有的内容，&#123;&#123;xx&#125;&#125;则不会。</span></span><br><span class="line"><span class="comment">                                    (2).v-html可以识别html结构。</span></span><br><span class="line"><span class="comment">                        3.严重注意：v-html有安全性问题！！！！</span></span><br><span class="line"><span class="comment">                                    (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</span></span><br><span class="line"><span class="comment">                                    (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入在线的vue.js然后F12Network设置网速为慢 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>v-once</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-once指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            v-once指令：</span></span><br><span class="line"><span class="comment">                        1.v-once所在节点在初次动态渲染后，就视为静态内容了。</span></span><br><span class="line"><span class="comment">                        2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>初始的时候n = &#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n = &#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">n</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>v-pre</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-pre_指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            v-pre指令：</span></span><br><span class="line"><span class="comment">                    1.跳过其所在节点的编译过程。</span></span><br><span class="line"><span class="comment">                    2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>Vue其实很简单<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n = &#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">n</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><p>自定义指令</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                需求1：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</span></span><br><span class="line"><span class="comment">                需求2：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</span></span><br><span class="line"><span class="comment">                自定义指令总结：</span></span><br><span class="line"><span class="comment">                        一、定义语法：</span></span><br><span class="line"><span class="comment">                                    (1).局部指令：</span></span><br><span class="line"><span class="comment">                                                new Vue(&#123;                                                           new Vue(&#123;</span></span><br><span class="line"><span class="comment">                                                    directives:&#123;指令名:配置对象&#125;   或           directives&#123;指令名:回调函数&#125;</span></span><br><span class="line"><span class="comment">                                                &#125;)                                                                      &#125;)</span></span><br><span class="line"><span class="comment">                                    (2).全局指令：</span></span><br><span class="line"><span class="comment">                                                    Vue.directive(指令名,配置对象) 或   Vue.directive(指令名,回调函数)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        二、配置对象中常用的3个回调：</span></span><br><span class="line"><span class="comment">                                    (1).bind：指令与元素成功绑定时调用。</span></span><br><span class="line"><span class="comment">                                    (2).inserted：指令所在元素被插入页面时调用。</span></span><br><span class="line"><span class="comment">                                    (3).update：指令所在模板结构被重新解析时调用。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        三、备注：</span></span><br><span class="line"><span class="comment">                                    1.指令定义时不加v-，但使用时要加v-；</span></span><br><span class="line"><span class="comment">                                    2.指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是: <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>放大10倍后的值是: <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>放大10倍后的值是: <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big-number</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;x&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义全局指令</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(&#x27;bind&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                element.<span class="property">value</span> = binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(&#x27;inserted&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                element.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">update</span>(<span class="params">element, binding</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(&#x27;update&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                element.<span class="property">value</span> = binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">                element.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* Vue.directive(&#x27;big&#x27;, function (element, binding) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            console.log(&#x27;big&#x27;, this); // 注意此处的this是window</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            element.innerText = binding.value * 10</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            // console.log(element, binding);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            // console.log(&#x27;big&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;) */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">n</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// big函数何时会被调用？1.指令与元素成功绑定时（一上来）。2.指令所在的模板被重新解析时。</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">directives</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">big</span>(<span class="params">element, binding</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;big&#x27;</span>, <span class="variable language_">this</span>); <span class="comment">// 注意此处的this是window</span></span></span><br><span class="line"><span class="language-javascript">                    element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(element, binding);</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(&#x27;big&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&#x27;big-number&#x27;</span>(element, binding) &#123;</span></span><br><span class="line"><span class="language-javascript">                    element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(element, binding);</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(&#x27;big&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// fbind(element, binding) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     element.value = binding.value</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     element.focus()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// fbind: &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     bind(element, binding) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         // console.log(&#x27;bind&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         element.value = binding.value</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     inserted(element, binding) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         // console.log(&#x27;inserted&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         element.focus()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     update(element, binding) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         // console.log(&#x27;update&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         element.value = binding.value</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         element.focus()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>回顾一个DOM操作</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>回顾一个DOM操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>点我创建一个输入框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> input = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;input&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            input.<span class="property">className</span> = <span class="string">&#x27;demo&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            input.<span class="property">value</span> = <span class="number">99</span></span></span><br><span class="line"><span class="language-javascript">            input.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123; <span class="title function_">alert</span>(<span class="number">1</span>) &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(input)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            input.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            input.<span class="property">parentElement</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;skyblue&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(input.<span class="property">parentElement</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="引出生命周期"><a href="#引出生命周期" class="headerlink" title="引出生命周期"></a>引出生命周期</h2><p><img src="../image/vue-basic/image-20231021162859146.png" alt="image-20231021162859146"><br>引出生命周期</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>引出生命周期<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                生命周期：</span></span><br><span class="line"><span class="comment">                        1.又名：生命周期回调函数、生命周期函数、生命周期钩子。</span></span><br><span class="line"><span class="comment">                        2.是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数。</span></span><br><span class="line"><span class="comment">                        3.生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。</span></span><br><span class="line"><span class="comment">                        4.生命周期函数中的this指向是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;opacity: opacity&#125;&quot;</span>&gt;</span>欢迎学习Vue<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">opacity</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// Vue完成模板的解析并把初始的真实的DOM元素放入页面后 (挂载完毕) 调用mounted</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">opacity</span> -= <span class="number">0.01</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">opacity</span> &lt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">opacity</span> = <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;, <span class="number">16</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 通过外部的定时器实现(不推荐)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* setInterval(() =&gt; &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            vm.opacity -= 0.01</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            if (vm.opacity &lt;= 0) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                vm.opacity = 1</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;, 16); */</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>分析生命周期</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>分析生命周期<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span> <span class="attr">:x</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是: &#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;bye&quot;</span>&gt;</span>点我销毁<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 使用了template配置项, 就不能有两个根节点</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// template: &#x27;&lt;h2&gt;当前的n值是: &#123;&#123;n&#125;&#125;&lt;/h2&gt;&lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 应该只能有一个根节点</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// template: &#x27;&lt;div&gt;&lt;h2&gt;当前的n值是: &#123;&#123;n&#125;&#125;&lt;/h2&gt;&lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;&lt;/div&gt;&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ES6语法, 可以换行, 上面的写法不能换行</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 用了template模板之后, div#root中的x属性会被template模板覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 没有使用template模板, div#root中的x属性不会被替换掉</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// template: `</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &lt;div&gt;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &lt;h2&gt;当前的n值是: &#123;&#123;n&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &lt;/div&gt;`,</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">n</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;add&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">n</span>++</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">bye</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// https://v2.cn.vuejs.org/v2/api/#vm-destroy</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// vm.$destroy()</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 完全销毁一个实例。清理它与其它实例的连接，解绑它的全部指令及事件监听器。</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// https://www.bilibili.com/video/BV1Zy4y1K7SH?t=590.0</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 在v2.7版本以后会释放掉事件监听器</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 在v2.6.12版本不会释放掉事件监听器</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 视频中(v2.6.12版本)描述只会释放掉自定义事件监听器, 但是现在如果引入的vue版本是2.7的, 都会被释放掉</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bye&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$destroy()</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">n</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;n变了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时无法通过vm访问到data中的数据, methods中的方法</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeCreate&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时, 可以通过vm访问到data中的数据, methods中配置的方法</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;created&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 未执行beforeMount()之前</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此阶段Vue开始解析模板, 生成虚拟DOM(内存中), 页面还不能显示解析好的内容</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 执行beforeMount()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时页面呈现的是未经Vue编译的DOM结构</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 所有对DOM的操作, 最终都不奏效</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">beforeMount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeMount&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// document.querySelector(&#x27;h2&#x27;).innerText = &#x27;哈哈&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时: </span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1.页面中呈现的是经过Vue编译的DOM</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2.对DOM的操作均有效(尽可能避免)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 至此初始化过程结束, 一般在此进行: 开启定时器, </span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 发送网络请求, 订阅消息, 绑定自定义事件等初始化操作</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mounted&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// document.querySelector(&#x27;h2&#x27;).innerText = &#x27;哈哈&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时数据是新的, 但页面是旧的</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 即: 页面尚未和数据保持同步</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeUpdate&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this.n);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// Virtual DOM re-render and patch</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 根据新数据, 生成新的虚拟DOM, 随后与旧的虚拟DOM进行比较</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 最终完成页面更新, 即: 完成了Model =&gt; View的更新</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 此时: 数据是新的, 页面也是新的</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 即: 页面和数据保持同步</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;updated&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this.n);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// debugger</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeDestroy&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">add</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">destroyed</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;destroyed&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>总结生命周期</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>总结生命周期<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">常用的生命周期钩子：</span></span><br><span class="line"><span class="comment">1.mounted: 发送ajax请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】。</span></span><br><span class="line"><span class="comment">2.beforeDestroy: 清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">关于销毁Vue实例</span></span><br><span class="line"><span class="comment">1.销毁后借助Vue开发者工具看不到任何信息。</span></span><br><span class="line"><span class="comment">2.销毁后自定义事件会失效，但原生DOM事件依然有效。</span></span><br><span class="line"><span class="comment">3.一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;opacity: opacity&#125;&quot;</span>&gt;</span>欢迎学习Vue<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;stop&quot;</span>&gt;</span>点我停止变化<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">opacity</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.$destroy()</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setInterval&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">opacity</span> -= <span class="number">0.01</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">opacity</span> &lt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">opacity</span> = <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;, <span class="number">16</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;vm即将驾鹤西游了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="组件的概念"><a href="#组件的概念" class="headerlink" title="组件的概念"></a>组件的概念</h2><p><img src="../image/vue-basic/image-20231021162921263.png" alt="image-20231021162921263"><br><img src="../image/vue-basic/image-20231021162937050.png" alt="image-20231021162937050"><br><img src="../image/vue-basic/image-20231021162952533.png" alt="image-20231021162952533"><br>组件的定义: 实现应用中局部功能代码和资源的集合</p><h2 id="非单文件组件"><a href="#非单文件组件" class="headerlink" title="非单文件组件"></a>非单文件组件</h2><blockquote><p>组件就是一块砖, 哪里需要哪里搬</p></blockquote><p>非单文件组件:<br>一个文件中包含有n个组件<br>单文件组件的嵌套组件:<br>一个文件中只包含有1个组件<br>基本使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基本使用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            Vue中使用组件的三大步骤：</span></span><br><span class="line"><span class="comment">                    一、定义组件(创建组件)</span></span><br><span class="line"><span class="comment">                    二、注册组件</span></span><br><span class="line"><span class="comment">                    三、使用组件(写组件标签)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            一、如何定义一个组件？</span></span><br><span class="line"><span class="comment">                        使用Vue.extend(options)创建，其中options和new Vue(options)时传入的那个options几乎一样，但也有点区别；</span></span><br><span class="line"><span class="comment">                        区别如下：</span></span><br><span class="line"><span class="comment">                                1.el不要写，为什么？ ——— 最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器。</span></span><br><span class="line"><span class="comment">                                2.data必须写成函数，为什么？ ———— 避免组件被复用时，数据存在引用关系。</span></span><br><span class="line"><span class="comment">                        备注：使用template可以配置组件结构。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            二、如何注册组件？</span></span><br><span class="line"><span class="comment">                            1.局部注册：靠new Vue的时候传入components选项</span></span><br><span class="line"><span class="comment">                            2.全局注册：靠Vue.component(&#x27;组件名&#x27;,组件)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            三、编写组件标签：</span></span><br><span class="line"><span class="comment">                            &lt;school&gt;&lt;/school&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第三步：编写组件标签 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第三步：编写组件标签 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 第一步：创建student组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> student = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// el: &#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学生姓名: &#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学生年龄: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">studentName</span>: <span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">age</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 第一步：创建school组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称: &#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button @click=&quot;showName&quot;&gt;点我提示学校名&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// el:&#x27;#root&#x27;, //组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器。</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">schoolName</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京昌平&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">schoolName</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//第一步：创建hello组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hello = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;你好啊! &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//第二步：全局注册组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;hello&#x27;</span>, hello)</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//创建vm</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;你好啊！&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//第二步：注册组件（局部注册）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                school,</span></span><br><span class="line"><span class="language-javascript">                student</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root2&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;) </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>几个注意点</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>几个注意点<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            几个注意点：</span></span><br><span class="line"><span class="comment">                    1.关于组件名:</span></span><br><span class="line"><span class="comment">                                一个单词组成：</span></span><br><span class="line"><span class="comment">                                            第一种写法(首字母小写)：school</span></span><br><span class="line"><span class="comment">                                            第二种写法(首字母大写)：School</span></span><br><span class="line"><span class="comment">                                多个单词组成：</span></span><br><span class="line"><span class="comment">                                            第一种写法(kebab-case命名)：my-school</span></span><br><span class="line"><span class="comment">                                            第二种写法(CamelCase命名)：MySchool (需要Vue脚手架支持)</span></span><br><span class="line"><span class="comment">                                备注：</span></span><br><span class="line"><span class="comment">                                        (1).组件名尽可能回避HTML中已有的元素名称，例如：h2、H2都不行。</span></span><br><span class="line"><span class="comment">                                        (2).可以使用name配置项指定组件在开发者工具中呈现的名字。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                    2.关于组件标签:</span></span><br><span class="line"><span class="comment">                                第一种写法：&lt;school&gt;&lt;/school&gt;</span></span><br><span class="line"><span class="comment">                                第二种写法：&lt;school/&gt;</span></span><br><span class="line"><span class="comment">                                备注：不用使用脚手架时，&lt;school/&gt;会导致后续组件不能渲染。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                    3.一个简写方式：</span></span><br><span class="line"><span class="comment">                                const school = Vue.extend(options) 可简写为：const school = options</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> s = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;欢迎学习Vue!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">school</span>:s</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>组件的嵌套</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>组件的嵌套<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        Vue.config.productionTip = false</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        //定义student组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        const student = Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template: `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生姓名: </span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生年龄: </span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            name: &#x27;student&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            data() &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                return &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    name: &#x27;肉豆蔻&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    age: 18</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        //定义school组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        const school = Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template: `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称: </span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址: </span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            name: &#x27;school&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            data() &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                return &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    name: &#x27;尚硅谷&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    address: &#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            //注册组件（局部）</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            components: &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                student: student</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        </span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        //定义hello组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        const hello = Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template: `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            data() &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                return &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    msg: &#x27;欢迎来到尚硅谷学习！&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        </span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        //定义app组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        const app = Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template: `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            components: &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                school,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                hello</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        //创建vm</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            template: `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">app</span>&gt;</span><span class="tag">&lt;/<span class="name">app</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            el: &#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            data: &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            methods: &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            //注册组件（局部）</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            components: &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                app</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>VueComponent</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>VueComponent<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            关于VueComponent：</span></span><br><span class="line"><span class="comment">                        1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        2.我们只需要写&lt;school/&gt;或&lt;school&gt;&lt;/school&gt;，Vue解析时会帮我们创建school组件的实例对象，</span></span><br><span class="line"><span class="comment">                            即Vue帮我们执行的：new VueComponent(options)。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        4.关于this指向：</span></span><br><span class="line"><span class="comment">                                (1).组件配置中：</span></span><br><span class="line"><span class="comment">                                            data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】。</span></span><br><span class="line"><span class="comment">                                (2).new Vue(options)配置中：</span></span><br><span class="line"><span class="comment">                                            data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                        5.VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）。</span></span><br><span class="line"><span class="comment">                            Vue的实例对象，以后简称vm。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义school组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button @click=&quot;showName&quot;&gt;点我提示学校名&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;showName&#x27;</span>, <span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// alert(this.name)</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> test = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`&lt;span&gt;atguigu&lt;/span&gt;`</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义hello组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hello = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;test&gt;&lt;/test&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">msg</span>: <span class="string">&#x27;你好啊!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                test</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 证明是两个VueComponent, 而不是用的一个VueComponent</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;@&#x27;, school === hello);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// school.a = 99</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;@&#x27;, school.a);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;@&#x27;, hello.a);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 每次调用的VueComponent都是现定义的, 然后再返回的</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Vue.extend = function (extendOptions) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//      ...</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     var Sub = function VueComponent(options) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         this._init(options);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//      ...</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     return Sub</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;@&#x27;, school);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(&#x27;#&#x27;, hello);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建vm</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                school,</span></span><br><span class="line"><span class="language-javascript">                hello</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一个重要的内置关系</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>一个重要的内置关系<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">                1.一个重要的内置关系：VueComponent.prototype.__proto__ === Vue.prototype</span></span><br><span class="line"><span class="comment">                2.为什么要有这个关系：让组件实例对象（vc）可以访问到 Vue原型上的属性、方法。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">x</span> = <span class="number">99</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义school组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;h2&gt;学校名称: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;h2&gt;学校地址: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;button @click=&quot;showX&quot;&gt;点我输出x&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;school&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">address</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showX</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建一个vm</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;你好&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                school</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(school.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* // 定义一个构造函数</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        function Demo() &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            this.a = 1</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            this.b = 2</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        // 创建一个Demo的实例对象</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        const d = new Demo()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        // 显示原型属性</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(Demo.prototype);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        // 隐式原型属性</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(d.__proto__);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(Demo.prototype === d.__proto__);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        // 程序员通过显示原型属性操作原型对象, 追加一个x属性, 值为99</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        Demo.prototype.x = 99</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        console.log(&#x27;@&#x27;, d); */</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>实例的隐式原型对象永运指向缔造者的原型对象<br><img src="../image/vue-basic/image-20231021163011886.png" alt="image-20231021163011886"></p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客文章</title>
      <link href="/posts/b24dd347.html"/>
      <url>/posts/b24dd347.html</url>
      
        <content type="html"><![CDATA[<p><strong>我的第一篇博客</strong><br>这是刚刚用命令创建出来的一篇博客</p><p>外挂标签</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
      
      
        <tags>
            
            <tag> 初体验 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/DynamicTitles.js"/>
      <url>/js/DynamicTitles.js</url>
      
        <content type="html"><![CDATA[//动态标题var OriginTitile = document.title;var titleTime;document.addEventListener('visibilitychange', function () {    if (document.hidden) {        //离开当前页面时标签显示内容        document.title = 'w(ﾟДﾟ)w 不要走！再看看嘛！';        clearTimeout(titleTime);    }    else {        //返回当前页面时标签显示内容        document.title = '♪(^∇^*)欢迎回来！' + OriginTitile;        //两秒后变回正常标题        titleTime = setTimeout(function () {            document.title = OriginTitile;        }, 2000);    }});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} */@font-face {  font-family: ZhuZiAYuanJWD;  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);  font-display: swap;  font-weight: lighter;}div#menus {  font-family: "ZhuZiAYuanJWD";}h1#site-title {  font-family: ZhuZiAYuanJWD;  font-size: 3em !important;}a.article-title,a.blog-slider__title,a.categoryBar-list-link,h1.post-title {  font-family: ZhuZiAYuanJWD;}.iconfont {  font-family: "iconfont" !important;  font-size: 3em;  /* 可以定义图标大小 */  font-style: normal;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}/* 时间轴生肖icon */svg.icon {  /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */  width: 1em;  height: 1em;  /* width和height定义图标的默认宽度和高度*/  vertical-align: -0.15em;  fill: currentColor;  overflow: hidden;}.icon-zhongbiao::before {  color: #f7c768;}/* bilibli番剧插件 */#article-container .bangumi-tab.bangumi-active {  background: var(--anzhiyu-theme);  color: var(--anzhiyu-ahoverbg);  border-radius: 10px;}a.bangumi-tab:hover {  text-decoration: none !important;}.bangumi-button:hover {  background: var(--anzhiyu-theme) !important;  border-radius: 10px !important;  color: var(--anzhiyu-ahoverbg) !important;}a.bangumi-button.bangumi-nextpage:hover {  text-decoration: none !important;}.bangumi-button {  padding: 5px 10px !important;}a.bangumi-tab {  padding: 5px 10px !important;}svg.icon.faa-tada {  font-size: 1.1em;}.bangumi-info-item {  border-right: 1px solid #f2b94b;}.bangumi-info-item span {  color: #f2b94b;}.bangumi-info-item em {  color: #f2b94b;}/* 解决artitalk的图标问题 */#uploadSource>svg {  width: 1.19em;  height: 1.5em;}/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */#page-header:not(.not-top-img):before {  background-color: transparent !important;}/* 首页文章卡片 */#recent-posts>.recent-post-item {  background: rgba(255, 255, 255, 0.9);}/* 首页侧栏卡片 */#aside-content .card-widget {  background: rgba(255, 255, 255, 0.9);}/* 文章页面正文背景 */div#post {  background: rgba(255, 255, 255, 0.9);}/* 分页页面 */div#page {  background: rgba(255, 255, 255, 0.9);}/* 归档页面 */div#archive {  background: rgba(255, 255, 255, 0.9);}/* 标签页面 */div#tag {  background: rgba(255, 255, 255, 0.9);}/* 分类页面 */div#category {  background: rgba(255, 255, 255, 0.9);}/* 娱乐页面 */div#happy {  background: rgba(255, 255, 255, 0.9);}/*夜间模式伪类遮罩层透明*/[data-theme="dark"] #recent-posts>.recent-post-item {  background: #121212;  opacity: 0.7;}[data-theme="dark"] .card-widget {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#post {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#tag {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#archive {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#page {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#category {  background: #121212 !important;  opacity: 0.7;}[data-theme="dark"] div#category {  background: transparent !important;  opacity: 0.7;}/* 页脚透明 */#footer {  background: transparent !important;}/* 头图透明 */#page-header {  background: transparent !important;}#rightside>div>button {  border-radius: 5px;}/* 滚动条 */::-webkit-scrollbar {  width: 10px;  height: 10px;}::-webkit-scrollbar-thumb {  background-color: #FFB6C1;  border-radius: 2em;}::-webkit-scrollbar-corner {  background-color: transparent;}::-moz-selection {  color: #fff;  background-color: #FFB6C1;}/* 音乐播放器 *//* .aplayer .aplayer-lrc {    display: none !important;  } */.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {  left: -66px !important;  transition: all 0.3s;  /* 默认情况下缩进左侧66px，只留一点箭头部分 */}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {  left: 0 !important;  transition: all 0.3s;  /* 鼠标悬停是左侧缩进归零，完全显示按钮 */}.aplayer.aplayer-fixed {  z-index: 999999 !important;}/* 评论框  */.vwrap {  box-shadow: 2px 2px 5px #bbb;  background: rgba(255, 255, 255, 0.3);  border-radius: 8px;  padding: 30px;  margin: 30px 0px 30px 0px;}/* 设置评论框 */.vcard {  box-shadow: 2px 2px 5px #bbb;  background: rgba(255, 255, 255, 0.3);  border-radius: 8px;  padding: 30px;  margin: 30px 0px 0px 0px;}/* md网站下划线 */#article-container a:hover {  text-decoration: none !important;}#article-container #hpp_talk p img {  display: inline;}/* 404页面 */#error-wrap {  position: absolute;  top: 40%;  right: 0;  left: 0;  margin: 0 auto;  padding: 0 1rem;  max-width: 1000px;  transform: translate(0, -50%);}#error-wrap .error-content {  display: flex;  flex-direction: row;  justify-content: center;  align-items: center;  margin: 0 1rem;  height: 18rem;  border-radius: 8px;  background: var(--card-bg);  box-shadow: var(--card-box-shadow);  transition: all 0.3s;}#error-wrap .error-content .error-img {  box-flex: 1;  flex: 1;  height: 100%;  border-top-left-radius: 8px;  border-bottom-left-radius: 8px;  background-color: #3b70fc;  background-position: center;  background-size: cover;}#error-wrap .error-content .error-info {  box-flex: 1;  flex: 1;  padding: 0.5rem;  text-align: center;  font-size: 14px;  font-family: Titillium Web, "PingFang SC", "Hiragino Sans GB", "Microsoft JhengHei", "Microsoft YaHei", sans-serif;}#error-wrap .error-content .error-info .error_title {  margin-top: -4rem;  font-size: 9em;}#error-wrap .error-content .error-info .error_subtitle {  margin-top: -3.5rem;  word-break: break-word;  font-size: 1.6em;}#error-wrap .error-content .error-info a {  display: inline-block;  margin-top: 0.5rem;  padding: 0.3rem 1.5rem;  background: var(--btn-bg);  color: var(--btn-color);}#body-wrap.error .aside-list {  display: flex;  flex-direction: row;  flex-wrap: nowrap;  bottom: 0px;  position: absolute;  padding: 1rem;  width: 100%;  overflow: scroll;}#body-wrap.error .aside-list .aside-list-group {  display: flex;  flex-direction: row;  flex-wrap: nowrap;  max-width: 1200px;  margin: 0 auto;}#body-wrap.error .aside-list .aside-list-item {  padding: 0.5rem;}#body-wrap.error .aside-list .aside-list-item img {  width: 100%;  object-fit: cover;  border-radius: 12px;}#body-wrap.error .aside-list .aside-list-item .thumbnail {  overflow: hidden;  width: 230px;  height: 143px;  background: var(--anzhiyu-card-bg);  display: flex;}#body-wrap.error .aside-list .aside-list-item .content .title {  -webkit-line-clamp: 2;  overflow: hidden;  display: -webkit-box;  -webkit-box-orient: vertical;  line-height: 1.5;  justify-content: center;  align-items: flex-end;  align-content: center;  padding-top: 0.5rem;  color: white;}#body-wrap.error .aside-list .aside-list-item .content time {  display: none;}/* 代码框主题 */#article-container figure.highlight {  border-radius: 10px;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/sakura.js"/>
      <url>/js/sakura.js</url>
      
        <content type="html"><![CDATA[var stop, staticx;var img = new Image();img.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XCpBoAAApBxJREFUeNrs/cmSI8u2LIipLnMHosnc59Z7jyxhjSg1oggn/EWO+SP8B34JhRyWCItk1at7786MBnBbWoNlZm4OOLrIvc8+t45bCjIQjibQuKuvTlUpCdva1ra2ta3zZdtHsK1tbWtbG0Bua1vb2tYGkNva1ra2tQHktra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW1rA8htbWtb29oAclvb2ta2NoDc1ra2ta0NILe1rW1tawPIbW1rW9vaAHJb29rWtjaA3Na2trWtDSC3ta1tbWsDyG1ta1vb2gByW9va1rY2gNzWtra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW0Aua1tbWtbG0Bua1vb2tY/3xr+o7+Bf/2//z/+1OfPAIgJErGbMj7M8fue+O1A7LLjcxyw+5hwZMbgQnLgKIftRsgMyYUjBYNhOn6AADiMOGDCyIQBCflwwNEdw24HHA5AzhjHJxyQwZTADLgmHJPhDRnfjo6PlPHbNOJDGZgEZsIgOAHPR/yPwxv+28MONOBghIEAiXce8LkzuAG/vRP7o+EzAcMRyNlxoJByxj4T/8su4+UgPE3A++jg5yfe/lvD73/b4eVfM17/zfE//y3h6UjsJ8f/9N8m/Of/Cnz/d0cegHES/t///Q7HHfG/+/8JT0fABGQTzIEkYMyGf/0vBh8N3/99wv/rP/1/sDs6/i//+t8DZhCATOFwzPj4/R3/MhkOmPBz/47dB+CY8LZ/w/NnQh4cu88dppSRU4abQwbQCRPhdDx/PCGbI9f7JLXbRfHpYw+n4MOkPAAUSacBmfv30f/rf+f+8m+GpyPw8Zrhl0IMAmK5KgAOWCY4Ib6r8pO+/hiV/5c/LyyVe6g8TnH5P/3f/q8bwv2zA+TfZ7HtvKbY4ScCOxCU4EaYE04hxb0hOYgEATAJTsGYkP2IQQBocAkkAGMBQcdgA47HA3aMg0cQkhmOGRhEZAMoIpdDhiREQYzXJQBDSQwygFGLdwET2/3c2luLx9fXzjhKk4hs8QTmsd2OAiHkIR4wZmFKxNMRGI7C5xPxt3+Lv+0GvL47/r/fBgBCJpAcYPwVAICbsPsE/v0VSJl49if8+/C/IEMwCIQBcCQLUBeBlOOFi4K5wanyGcgAiPEe5XSApInJsllCQkAVQNFStpTcUjoakxtNZqJIwtIx2XigpUyaG2xSdvPj9/+aPy3zoORuorKVD7OCoZfLxAUgMhegrEBYf1p8x2pYdxUKITVEXIBhewFit21bG0D+HWoQDgJwiERSAF622CFNgpsh5YypHPck4S7YEEcjQQhAsoRj/ixARHiBOVpAhsthNkCKPZwCvNvTB1Ugi7/dnpunr9mQYJjoGGWLOooVUAcDbAWV6CleN9sxJwzOeE/lczgakQ4OkzCNhBuwOwo/n+M+u4Pwsbd4dQLciJefwvR/CLDsgyWVP+SMxx0HgSCe8h7/037CwY7YY1cPeyQzwAxe3j9FeBKSwOf3p7Q7cuQ7d0oYCbPkifvDnqaULNvOhAE0c7p2ACEbTBwIjhCMYIJhAJggWICsMuQTnEdCB7m/7f6rv2XLb2781ITP6bdpSgcrgNhFhTqJChnv9eGosILijKAnCIvlxQsQbwC5AeTfM4IkACdhHtHUlBTxjYSjEYMATxHGEQyQK5GFlZ3daOWsLxgjyiphYAMVJIv9XsIC9xgHg4HIDFBzUxyM5QCUShxBYifDwYSXErlkCkmEkaAcEDFRERUKmCxA0ARMiIN5EHBIcT2JkapPgmVhShHRjZOQU5xExqPw43uNQCOqffp0iEAegDShe9Nz4DUcK6Aa9nmACLylT+ynXYlwC4CbYWLGHoTJzFxj8rTfH8ZnE14pfqP4Ctke0EBoEG0gMJLcK3J2Lx9XIrFz2kjBIhSvpx9NgI6QPgR/B/Qu6YNIo8kHTpYcU0IWcRw+NJ9HIoAjIAroTja/FhWeRIblUoGQHShSZV9J3A7bDSD/jil2xHQgiOTCNJRoToISW9rYsi2tnMZZ7ieHwSINhSJyYyBc7N8J7hmkAS7IAhgFYRRxNGFww2SOEQm5/e2IVZ3AToY3HiEMEfGWtJkIQGRJgfsIEuU1wAzKGUmEM0oHgwMYo3aWJuG4B3IidlNJlQnYFJ/JNMxvfXcUxqNw2AHjJxalgPbpuDAchePOsJsGJAz4Mb7jPx2/zyUAAPsUibbD0+v77nlwvEJ4pfEbHN9o9h20AEnoWcQe5FgvRrIU6wSjCRzNbIRAQBmug9wPcv+A9A66RR4vp7vk7hIyQTc3pckwCjo+C26atIj3r4PhalSIdSBswFeAsAEiojyjRGAgfGQ5LRBRTdjWBpB/F2ic910i9r1oHnQ1vpoml9splFSZ7XkC/AxZ7V5wCAMY4ZviEDMLgByGVEDTYSQkxyji04BnByY49khz8bBEgBkBkP9ucSBaV9+K9DRenxuQLeqC9TnqfZ3AWHJit7IBBmYgHQU8AXkE+AGYRxS5c4AufO6Ap/d4CB14+hA+98Tr74LXskWLeuNV7Y7A5154+knsfI8fw0d/WjIAw+uwG7lLT7T8QscLhb8B/AbxVcI30r6J/E7yReArpReSexhHGEeAVivEIBNrBUWYIP/UlN/o/i53wN3hzHBM5UWCJheY4cwwy0lJOEKi++dTdqUOIS80TuZwv1z3C1FhD4g1KjQ0AFyAoZWovfyhRYq/rQ0g/z4gyZq/IpXTfyYxOqJpYRGZycqODUDuYBoiNS6NmkSDKyOVWqXkAIeIIl1wd1hKyIdPjGNt1EQEeSwR5E8DkgyfzC2lriktSp1y5ylSWyqaQl2xoDaacgHI9h47gFRJ+02R0gNAAiEwABJAHuMPDpOQzcBJSBn4fDK8/MzwFK/l5V34t78ZYHMzCTWYKwXO3Qfw/h349jux0w7/y+7f4HASHEzpaWB64WivML0y41mO7yC+B0DiheR3AN9p9h3CK4QXCi8AX5H4DHJHlWoHlAMUNcl1gPs7MsiELKNzQgaZReS4rwQgR9GYmcQEV3bQkTnZu3Y05fyEI7y8rXujQs2NHdQSiUWKrH0PhoASAwgLxrfnyIiGliKjadu3tQHk32upprGtURN1O2SWRg1hU9QFkUsTptQRo/tNTCU6nKYJYzl8MoQdAJiBk8PlGC1hUmnBqEal0egZakMFbMEHu2OwrgSDIeqMQ9c3NtROdjwyW3SAWdPs2jcuzzeUjj0AmBMTiXSIDnNOhEod8rADcIiGy/ue+M/lL7oRr2+O//9/SS3qHnwZmTuF/Yfwb/9ZSJ7sv3x8p/yZlnZ7s+HVYP9C2t8A+4aBz3A8EfwO4G8k/ybhO8hvAL4B/BvEVwLfALwAeIH4VEJ2h3SE6x3SO+QfpFPQEbIRwo6uSWY7yI9AGgmMyvkIcgA50JjgHEEOFAY6Bk5INJl2BubrjRMuosI5Rdae0EmKXKcJILXHm6sBKaVF/RGurUGzAeRfC5Nexm/MgamOwCgiqADN2qgpoz4EvKS50ahJLXIKkPNlJ7uApTpYLt2Z+LvluKpZcWaN8ro8vkSVgwxHCs9eRnvK7cYAdbQ6ZAC+swSjJYIUHENJ6VVGdI5G2NEjrR5YGjXA23O82vEg/PitSzMNeH4XpgRMI8AM7HNL4xlRnWhZ9t/9D3gaNDz/H//tvzxZGp990Ctov8HSfwbtPwH2G42vAJ8B/Bbb8DfIvpN4AfgC4hniC4AR4gBglJQgOOSfdP0EPcN9kvMIMtFsiHOBEpgGAiZnYsTAiZCJTIASYANMBnmCmQmeIA12QMInjWU0oQGXz40zJEI7LFPkRMhWokKP/SoATw1UI9LUIgI9LQWBceLa1gaQf5dlAHKNwkr9Owk4lu4t5ZBx0XwgCLjXqnzbgdkQyBsaqTRqWhWfAZju5a/WbYzu+ABiStGVzgwQy2T721agdSfDkRkx+CNMc5INenRUss3znZlzJ9tLFJmc8DKuZCIwGGzKSEchjwZPMf9Yu7fjUTiOpVFTXs/uIPvb756ePmT7AwgyARgH8WV0vg6y1+T2Yjb8liz9N0rDd5l9S7TfSuT4n0H7TzT7DeQLYDsAz2B6BflMYF/qi0NpeZeOdE1bBbgTriTCYJYAGKUksv6eKCVQJiiRGkQNoCUQA+GDkBLgAwYlMg0gkkEDMAwpY0xHHc2RwZPGyVh+TwgwPI0Kc9lHSorMRdSpeZi8gqHmUiYsTlK5wLkb4WkDyA0g/6JKpJMYSif7EzO4tC5wqQVaS7GWjRqQIC1mHjG0TraBoAWo9o0aszEaNXUApetk77Ih07HDUEqkpQ1T7r9TwrtN8KlEjCxRbN+oKSMp9HJQ1eiSbI0aMUoHqZQOWDrZ2gF5IMZPlXonbJxg338XRRikJHBH4uX//P/ML0jpGbRXks8mfjOkvxntO5L9zWz4jTb8N0zpPyGlb6Q9C/YK8jst/Q3kd4A7gClCdMb+a8b5xNNNcdaB+DZuVUYFDAMcCcYBsARggDSUKsYAVyIxKvuRRESgwAhwonGQ5QGZOwAThR2TJhsxjsDgUx4+/xs7+rNpngo4AcNpJSos6fHNqLAAbE4xUuY2/+zvvKXZG0D+5SuVs/rMDomzd40ya51IcsASpEIFhJCY4HKk0qxwCKmM4sEFV4z6ZJ+Q0q7UIR1GQ9aEQYZPAs9u+BimBYbXCHIisHNDLiwTw3mjxrpO9pBxdlT27JpMRK1UMaRtk0MJOOwN40e2//SveXg62n50e/6XH3pS4p4Yni3ba5L9C2m/Uek3Mr0AfKHZNzL9C8jfMNg32PAd5DeZ/UZL30R7htmOiXvQ9rUBTVr5cNkiqPa61b3D2qwGoUhLCXII0NOoqCPumHiUcwQ0wG1E0g7EBGCMuiMGug2QBrmPzDiIHAAMoAYyJQMSpGEEh4MVNmUuJZK+cdJHhX2N8hQMLU5W2UpU2IGhuomFuRYJMKul3zWT2dYGkH/n+LFSDlm6hsJkjPGW0pCwfEo5VJthrBGb0TB5xoCumUMAaaYcjmnAYTqU7nZEmQMNDmAsqbFhnXJYj46xDMNlRM0UXce6drLFZSe7giJKpgpUiuPcyXYDhk/x+aenl5++e/7g0+j2bEzfEu03o73S+ULwBbDvNPsbLf2NKX2D2Uu5vIL2HcbfmIZvMPuGZM8wvsDsqTRFDMlIszLmwnlWc65ZtGHyGh/DS4W2lTe8zICnAe4DrKTMZgniyKwjqAGmJNcAq80YT8hIck9wGSkTUjIyRVVYKSJaJINScqTxmBNM2bwUiqUrUWFEhEolRbY5TZZhmSarn4EszRmfh9G9AGpO1kB1WxtA/l0B0k872Q5MKcI18wDI4QhMiWXULiiHaEPlbNxqz3OjRpVewplyyDQuKIf9wWU6jfQ0N2G610sQA6JRM2ruZLNUJU872T3l0MrQuiNqnUcDMsRxorl24/P/7Pv//f/ozyBeYOnV0vDNLP1Gpt9g9g3kE2ivMH6Dpd8wDL8hpW80vsLsGcZXpHJfS68kn2C2gzHBzFCH560Dxu4zmqPIOts0b2ojRLWhYdZ6IDGFj1ZzFDxF+J4S5ImUyd1gTCUFTyQTzJMcieSAXMBRiQGSyaCo/KWjp0xnPVedNk6WtcIZDE+jwqhNFhAsoFgJNW6lLpwMuYIp59Es1Kh1WxtA/r1hMvrOAZCpKNO0up/ZYgh6QTnEspONQuhgNyvMtoPPB39POWx8aUUkN1mkzo16eEI5FImxNGqoITrPIeew6GT3jZqpNmoATCUqHR1042hmuwTuTXjmgO9M9s2Mr6R9o9k3DMN3JPtOS99APsPSC82+I9lvGNJvsPQdZi+MKDHqkSk9wzjAaCyt/Dpu1MqK5Gl42803laICT0QjyvuPOcHCdnJHNGAsmjXuibJSK1WCEF1rIkE00VNoXdAgJgJJ8ZEnSoOSBiolSQNTSiYNhog+RUxrjZOzFPk0KtQ8XF6jQt+xpNlzvVGljlxPoOYqDR6169vaAPLvn2KjU7tx4DCUtFkq2++jHAIGyWFIFyiHgplFo4ZWGjVapxxS2LcBoNJDL42avQw/LEMeZYHcQX0cUGyNGpsbNZRcTjBDu72npxeMLzbaa4omyyuZvtHsN5KvoL0i2SstfUeyfynp8zONLyC/YUi/IdlvTOkVtBeQe5IDzAYYU4sEO3BbhLu12cE5bZ5BspxMvBuuNLaTT2OXKNJsmgFSIpkUnE6L35XgSKIMYoJ8IBlda5bGTulNCxpgliANMB8BO0ApUT6kbImUvX/nQgptnmOMhgxPokIZMaWICltkyXlf6zvcdMHc599PwXDLrjeA/CtX7SgndTxkYQZPLaXRYh4yaIOlxRCMGnfQUmvUNMqhA64TyqELSoKRIYsm4pPAixsOKeOpoxzWRk1QDhMmO8QsZn2Na5TDMr5EIhk5PCENL459Srvn0exvTOk7LX1jslcwvdL4Cto3pBI9WnSckdJvNLZaI81eo76YvpEstcX409FgYddUWUZXC0mcpuZhC5qINPPHu43dvFUB0FrQcxjkA+QDwSRwgJDgSjAOFEYJRzgToKF0vaPLHcdLuc4EMoE0kAOMiWZmE5MdkXiEcYTbpEXjRIz6YB4rGJ5EhZjrln1UOF/O+lEzAHtXm9wCyA0g/8pGDYqSD4r02Th1jRpFo6YBkgtMaKl4pRxmTaVRE3VHcACNsCy4hJQGTIcPjIzmjVI0ZhzCrlAOq7pPTzn0bvRo9FSkttY72RBwHIRjgo0TxidPz8PA55TshUwvNHvlkH4zS39DgF13YYhDmH2LdDkAEuQ3kC8lWnyC2UjaGKjcNVWkReS4TJuxLKrWcSl2qKD+ffeqOZ0ihs/RKI0xhOU0CKkOiUseMmcOA5noPihAb4CYKCaZDYAKmHpEvuIAs5Hyg8xGmI3GNI5HH3cfPn1KftwRXrQsaxe6jwpbp9sjyrWabnfzszqNCl2LSLQ1fFhS+cEi1t3WBpB/9+ixUuhOKYclovREpOM8OmOIiI9cUg5DG/LQmimqrBkGBFbKobyqPtY0PFg2qaMcLnDg5LhIMRY+Uw5rdAtgkNnLgUP6tOF5sv3A9C1Z+s3S8MqUXkh7jXqifceQvsMsmixM30C+wvgK8htSeiH5rTRkvpfbngAOJAmjtWix6zjXmmKNaJvAQz803wPpXFxdnrUUz9X6NewjzWXXO05UMsBGSCNcx4gUbQS0g/sEcgI5wmyEYwS1I5QV23cwTnBOJOu2PYEsINNsGvKQn96P+Zjgb//ZcprYGicBgL6MCCsl9TRF1gyGfVSo0vDRYJGKr4z/bGsDyL8kgmxipyVKi8ZGZUIE5TD4yx3l0NXogbVRQ1oLlAgid5TDFg0VdsxMOZxfR22keO2Ol0ZNTzms0dUow4GOZw9Gt4MmID35sN8d+ZxqpJjSb0zjbxxS7TTXkZzfmNJvsPQadcUWQb7C7HvUIUtaXSLGYJ90tUXyvLi4YIYQ6IByrvXqvKjGC8U2dpVilU+tpuOpfFjugJkRGuW+gyHTLUueg96ECVImmSXlKNsyI2jzU8AzXULcJmSILjED5jRNyZV3U/KXn9nfPvRBufrGyXpUWHjWJ3xqWVAR887K6A9XGz3WcbzNN7GKDSD/Qpis4rlDbdSMNX32og15QjnUFcqhO5g4n/g519tUBqPdc6TSRRuyNnJqJzsJmOgYZI1y6F1cupPhwyYgJ9t5SkTaJeNLYnrhzl4taojfYKk0VNILaS8FAF+R7BtS+h6pdNlGey2/RzptfCK5g1lapMEATnL7lQinn6w/AfhirXAeWhXw8/qZnQBph43tk6c3ewtAA4CnUqrNJF1kjujRIoRXqPqAnGBWwNK9gOZUznnRYyMdNAc9w+B0aH9E/tu/Kr+9+lEzvT5q0bk0V3yuJsRMZKTHbkXG7OQz6wGwB0V2Cj7asusNIP/SGiTqzFmk1VWlJmlGBCLP0l41XSwNnBrZWaEcsnwNHkUwGAsYJsHSCeUQYQDmcOwq5XAyTCaMLYWtaucRNO2VeKQncngelJ5pw0tKqTZXXsg5GsQwfGdKtab4DNoLkn2D2d+i3sgy5M3XEjGGlBhhTXGjfUxcDfRaCl3nWQwz0J1OVGu2mJgbTDYDXzoJx9RHp/GZN8ohu46GEZANkO9Bc8AzaBOoDMKjIMiQOKsgWPkwpIPI7ScoEi4iB5Aym5lrUt7/nqfPQZ6TJssnUWGaxSrWUmSqsLRWokSsRKGN+SRujewNIP8xVqMclpojywFAzLYF9QCt9UMWyqEVyqEtKIcxGM1JrZOd8xEp7Zp1A0lkBaPm3YBnGY6cFplnsXYwN/LZx6fvenrGwG9mwWYpIFi6z/bCxG+gvZYI8ltJoV9gfIbFSA8s7kOzVwD7Uo9LbXrbeAEI+0YLunpi1502Ow8S+yutR8MFcAo6p6csOj5YgCWWQEkQO6iLBJeXDGACmRURY+hE1u3ABDBqlrIR1A7gRNok00TDbsx+fHrD9Pbd8uGbCcLVFPmeqLAHwrO3j3Ppu21tAPn3jyJLSpQ0Uw73uQjjJoKFctgyJPcYncMsLZaYcPTphHLIpk6e5dilAdPxs1EOM4SRhiOEQdEdPaUcgjAmSwlpN5JPNvAbad9Ya4fkK0qUWBoqLzD7VmqPpRljESEanyP9DjsDGF/Aop7DhQrHEhA5lyPmkIjz9M5ippHLuqL6dPvk9xMcpDpFJMxNn/aArs6rOvJTRY2NkGigxgB8ZJBHEDuQE8Bo3AQY7kBWwAwbB3CkcZRzB+IIsylE5tNIYGfExGncPR95PE4+fRimlNF8jf6IqLCnltJLXdznz2VbG0D+3VfrZFfRB5872dGoCSOq44Jy6G2HtmLb2iiH5T5tjLu5HAo0a5TDM7DWMtjyoBymIY27RD6b2XMRh/ge9D/7RvKlpcelpkizVyS8wtIrLH2PWUeWYW97QeJrqHenl7Au6LLeKsWGrhlzFsydjuU02t9y8PviGel2e7Y1d7qm1VyILN+DV0Xuyl2y+DKlAbCR9AFmO8EngCMzR1kBQnEEeJRspDTCtFPSERk7Jkwi9nTPgE/FnWeitMPAPDqm17fJkVxTQvC0L0WF5ReufA5trLOPOisYllFPT8S027jYG0D+hRFk7UnX6mFSiOdWl8PJUjBeOINH72zXLLZoHeT2CuE8mRMMgOUJIFXKYTYVN0Ifnrh/5pBezNIrYw7xpUSKdfzmhbRvAF9h+AZLLzP9j9+Q0jekcjvtOSJIfgP4XCInsAcq8nK9se9anwAie5Ds0+/TGuXiOVdS9v6uNtcYAwwLCFbZotoeVjdyZARgpuwjyD2gieSoKB9kyjKArLBoyCHxWy5uOWZ2zEuLusSGWWB8KXSHAb4/mPBD+v27Phor9EpU2INhBULT/Bm7ET6iSfp6whmne1sbQP5lKXbTdsRMOawuh30kdY/LoVpbZ6Yc1vk+L3ax7jlYN61+WcRzRXyY8zXvxmEYnxKGV6bgPAP2EmISjHojUBkwpdGCOvQdQ93G11DcwbfClnkR8EyzZwCpAZCwmk7fcWa5L2rsgXIBnKdpNpflxh5IF4SbWUC2DlbLrEz1lNCLGmC2j06ZZkNqoa8IYhYYK3VKQTPfvmj4EIGMQax2Mnki8+5Af/7wfNj7wa14KXaZQANC74oTVgBwDBEUH9CJU8yPpUfcSg9bXubtWN0A8q9OtcNhCUlx1OXSlGlJX601VkrfCeXQgRn8aAvKIYvFgmvuZI/DALqCUUMiy/HkRgC7JxueacMrWSLASKVfCLwUEPxeosbCcLHXoqzzjU2CLH6PemM0aEjuEPqHJ5HahaLgSTFiFehqHH62eQU8yfWI8fLZa/X5iE4+7EShe+Z7awQoSF7a3oI89HRi3CdH8E8HmNs2WgYxgdrDFHOVhuICzgnME4H9IOSnT005MWvQlKYKvWWkp6j0TEPRgExdQ6ebHaMDqdIKs5rqz2nJZVsbQP7ljRp0LoFT8WcxlEaNF23Iely7Qna/iUlUvvU55TDm9RS86zRgmt6DEyNvquAC0rNsHDi8KKUXtHlG+4ZQ2SlyZEV2DGVMJwa7X1qjxkKyDAwhW6SWUu/CyuDkzZ+2y09T7AZyXZTG7raODdNG4XtBitOU+xqAXsJmXkEKzlqYsBApDqYTCShSbbMM+QSzHeWThGPpWGcQI2g70CeQR5K7YNRogjiCGgnsREwghpmVo3Fw2+0/NHFPPz7Da91QaaW7XaPJrPaTroUv9ql5Ysdu3w7UDSD/ARo1JUK00smuHO1shOXiKV2sCrIcAzsPmEI5nK5RDov9gjT7ljhE0tLTsHsysxdZegHthWTrQkcEaOHqx0inafY9utB8IdMrUv97F0HGY8e+C3yxccKVSG8BZNbV/dCJTixT7kXz5ioYnozqXIs411g4beZydu/pRTMQJcORKHVIcoK4I3UUORGYRI4gpnafUIkbFaLrE4gjYBOJUcQuuuOaSB5Ndtxljdkx/XiVW52uLN40lmd1cKtakDinIZ6CIRfSaZw52tvaAPKvadQAPeWQjqa6bRKOZhgVZl81nawmXrXmGOm01ZnFmG9slMMyDK04gIOAEY8fPA1DGp4xpG9geo5h79qd5rfSkAnQrCl2cKWDAYMuqmSpSSa+lLnIpwhh1wDn2jYsGttL5e9+5OYEKC81b26B5KXXsjA/6wbDy3fULILMolzRasZR02AEvSlAkVMBvSOAEcQYGj3sxoBahLiDFCNAsB2gwtu2oCiaRkA7unKk2j69f/rEo2T5clS4PA9xtlhozZslGHpRIs+77TjdAPIvhsnwoTEM7kgSDmVqBPKmvFNtEFpXeiYglqeZgbBu9drAqdqQlXKYM4dhGJiGZ6ThG9MQqTLw2mqIQKH/pVdCRZiWryC+weqYj9VI8VsnYPuKiJjGRbh1Jz4uDmNqCZK6kvOuNG/OQPJiyn3ltdWZSz9piplDnfBDWFUUcKwkd6cBGIE6D1l+kkeA8zbDEc49SC8d7glmR7jvC1jGdsOEzBxtlJwJ5HGCf/s3Tp9ppiGupchtTrIAYT84HgrlgO/QLBrax7YVIjeA/MtrkF0SlzyuT12jpkrg991GnVAORcDKrGOl0Dm8MWrC5RBIw2gwjmm3e0EaXsPyFKW22NLpnh/9ihpVlq513IbXIlz7isqeIZ9o3M8E8T5BXQO2C+IRutSn0QozRg8UDnUmc3b6Gshz5K6iwejEMNpAO3UuylsRMpBogHEHVaaMjgj2UDBsGj2RXpo3s8BFNHWmMvw6hdhF5XnT4XTA8tM7nvKLNCUdZyAErPiYz4IVRbNzDMk7txNBI3UfE+fHbGsDyH8YxKw87GzAmJeS/wvKoQNMbJRDVZdDz0iaxXNHFGUeF9xz2j+/7DkML7DU6IEgvoP2CvC5a768wvgbwDnt7uuLxhgIJ56RUhkI53DWjOkaKOuh2uXq7Hz1iv9oHyZWoLKV5s1a9ElejmJ5GuWrWGRrZtAUqbgFolQQrq8h1G1HsIBidKy9ux68a1dwtWdwzIXYlGH0xuUuEmmwlAFOnPLOsk37g46UT5aL9m+JCqN5M4/znEaFvTf2ormDUoPcIsgNIP8hokiiyEfkuVGTo5OtRNh0QjksNgs95dBgOGqmHNYok8k4piGNaffEIYU2YwhEvBZ/6W9zlMiQJwNLBGnfQMQ22jPIb0ypmGgFU4ZRb9xdjgZXLFV5IfVt7L5LIzxYkaY5AUlcS+d5IejklUbOaWNmQVcJ/ndhOHXacUFBdAPoBtoOVqTOqAKMjPEdZybtKPqudLOjgSMbI/G1ifQRxCgxapXhwR12ssQ4HDlOxun9VUesRYX9V2KnJwGe8LUFTw4fHJ62Ls0GkH/xuko5LC6HScCxWTkXymE5SGfKYSqUQzTKoQAmS6Ol4cnSEGM4xm8QX4uvdIkWESk2AijJ2pCxlmaTpcaYwiYhHmv7JiPUj+rwJBLkJYZMB0Z+oeh1rX64FkneYh1eUgVae23dnUktM/MEMBtkRYzYS0Rpc/rPVIRFpKRozIwkByQOoQKkncyOSBopHlWoiNHZxgjwACAFKGIs9d0MsyPkExIzpMnc9uNR+Z3KVDHOxAkrBh3rprxEN4cPOQCxgqI5VBwqt7UB5F8eQVbKocpIT4BhoRy645gGjNVfmlpoQ85DJmod61nFkUZyZ2l8YhpeYYVPXaJFNh41OhC0l07l+3uxO4gh8Jpip3AgLAerLWt8p9YHvCOFxUK/sfeROcNE/YlfxAIQT8d65hdXbW6logvpAOhBpIkRn/iubCZ8SiRlIwyjpFAYN02QTRCiW610hLiDFOmzsBMsQ17qjZhozIJN8LyL+iUUabjnQZaf35Q/XvUZNPK5BinTDIJddOjmjcpawkeYE2lKSNmQctoO0g0g//oUu8magUgufFaXQyxrQ+oyO501GaJjrXAZtKe026dhfMUwvIDptYsOq5rOa6UPkqWDDb5Eio0XgK80fgfTS5Esey2jQK+IjqytR3q4PHR9rdzYOtUn4KhL5lFdmn2JSrhIv3kHOHYAeVKTa7NYrnn+0dTKruEu2LhN85sTUeZ+UmvYBKI6pEwhS6UWaa66Pc50RY08OtlBIqSKOvnMxAndJ+T9IU3TPk+fTz7l8bgAxUVUWJg35gZza2AYF2sSaNvaAPIfDC1nl8PcXA6FUNPyNlAemKBqP9odlobJJ9sPL3sbdt8xDNFpZhn2BkrXGt/mSBKRTgNl3KfYrLINfL8Go4ZhhQDu7qJYPCJ4cDev+s7nuxXFrgnytlopz9N/aT5bEUAimHMrj7S/Ue7DaqpVO9tWJ/stIkSVOmTxD8SsQp5BTbWjXTrWRR4t5iIJTTI7AspwTlDVkfRxEHYvH3b8/PbpP//24Smz2MTaIipM2WCeELfPJYaqi6lSQyU3Js0GkP8gUWQ9GBvlMAG7Y2nUcHY5TPVYlYNIRcNHcDjHYZfM0pMNu1em4RuQvgF4IYpeIxAdaFhEiOQrYK+lKfNalL1fmSK1jm53BUd7KjJlt6PC0/usCVGcguKicX1aT7wkNtEB1K0Zx9XIdm2SWkuwXESf9W/5PPKjlaiVWvjoFM1IIIulNDGRnBRd6bEoHO1ozPI2EjQWDvskaRfzkxoBG2m+A+woaAyQ1L4qmSdhennf+TTiMOSkNFmLFNE1Ymrnmtap02MDxQ0g/wHXrMVYhFClMOwCYS54MlhxOURxOcwusKj/JIHZOI7j/gnD+NpYL80Eq7BegjIY+o1FiKIo8lR71dqMCRuEVLQcgeewL30AHO850IRVIIxSAWbb1VvqPfdEoLzyurjyuk/GgNqoUKcRWcewUJoz9Jmb3eYnuYxKCaSgH2Iq4rpTaL+HwjiJ4GQXaTQVNXJAuejdldS6EAhpcRYtRWk69fJjh/Ew6v3Fj2U4do4KEeImVUVq/QvhSclhWxtA/oURZNOGZIx5mxcwLLWtnIjxEATdefylb9SkYbd7Kt4v6SXmF/FcGDABkORzEY94otkTyKcSMbYLw02w3GbxO7CH2XBTBecRYDytPV7CO115XKvx6f5UfK0Jsxjb6cDx7KEl6gqD8Koc0qjYdQ4ovpvz+ZpOAZMQRgjPBCXWVgpV/gjn1L4PaRWhKFQKoYlMZZzLqRD0cKeihjhm+XGStOPxelTIJpnXAPehesa2NoD8O8BkjUas1CEnq6M/wpGz3L/OFBmQOKQnDOMzhCeATySfQAS4oV7nHrQnxvYKkPvycwZN4xOMzzTW+4wXI8YzrcV7osaTIfCT6FG6cL9rKfc5nK2MDHH9PRjvfOm9M4SKnWy4UM7q5mi2XI1N0/4O+lpkgrAvJkNFOBcOMxQdSQ/JTjljLAGKAcYio1Z/0ilJpEOMmiTcQU6JmJ4n5o8xu6g8fwbF5eK0KYXzkQFtEeQGkP9INci6i6aCG9mAsUnrn1AOBcidwzDuOe6foPwE8Bmw8jOiRViAJsBnEjVafAIQ95nB8gnWRZSw5wBVcE2k9zoonk6F6xzoFpHfnbJkZ2bQddDpWk59X6Tb61JcfHg/62mITlpPOaxeNdWeQZ2orrMMlQcmKhwc90ghmkshy92RKmumMGrkEySnNAEaIeygdJS0AzxHJ5zHYOxwB6RQ/Uk8DoZx0DRNzA4mXYoKtdgHefVr2dYGkH8tWrLrZBeAJBQuh4U1MzqQzEhLe9rwBOkJwhNoBfgUUWMAYWyjngtQ7su2JxBPjIhxD+Kp+FI/wdI+6HEFfR4p3J+msTrpYtwY2VlV4lmjFN5VCL0PHMmVSPNarVKlzGEsNgy589U+oRuiu94MvwofUCKdOxknJAsZNGmibFRSKP84dtGx1g7QEdIEYEdogjBJOsIVohhmpeONEQyfmx0sS8c8UVMnhHceHZ7Ul0UCmyfNBpD/eFFk7WTXRk0Rz7WgHGYL+4RkaWTa7WGpRIn2BHBPtNR5P6fZ2JWO6K7wgvfRNcUeZjuQeyQr221fHPkSfrWj2RcT9Ug4ogduuqNzdNqEIdfvwJO6JK5Ekb14BZfgR2cwbIQyN1ll0Agli3YMPRRGwpU7xHGFidKk0CuZypjPBCiLHt3qiCqPMWBuE6ESbTK3pg6UBTlhnkTfHZWnYXJPJedfqKDXRlPvrU1shoYbQP5DrUWjxkPZJxo1oTnoyTAegUMyaBjsWWnEYPui2B3gZngqPtO7th0FCAMw42K19lhA0Qpg0vaI+44Pz3vwxhjP4x/I1Vrlw6+HNyJHPlBH7SNNI5AtZrl7S9iyrbf3jT5LQBeLwK6QEsE9oMzEo2A7Vt9sY0bmBHkmkVXqklFv9OhsU2WbHJSzno0IIZkAaaDpRaY3TJ9ucNkMiMBS1acGwEmcDb62tQHkXx1BqmvUpFKHPDTKoTAl1mkSM3EH2r6lywX4iC6tZkmnWaLLmGOMNLs1ZSy61i215nOJLtOXQOgWOJ42YLQEPOlK3fIesLr4Oy6o93AdPM/ENFaA1oN2qJo+O8NeFyp9EsyptJe5SYtZRJrHXCQtABNMwLAHsoMUphDlgXtUMkXCS2fdPQDQoj2DuJQPrzPPiYF2FWEnH5h8T/rbqEOmWn/cOjBMiJ+zS/hWhNwA8h8sxe4ph+ooh3Wa91nDSKUn0BrYRW3RajpdfscTWNwEaxMm/GXKOE9cgmfNSifcL5TA7wXEe1LtVXC8kguf1h9P/bFPX9OqVezaS+f1qPEaTbKl1/PraWZZsJB2rNlA0eFkituoMEqbtccK/yk63gS0K6QpaHAieNBOZJfMm64d4YAcromQwz1LyARzKJBjAjDBUAbQ46fRxh25m3TMWT6NMMw0bJW2uWMqFh0bOG4A+Y8Jlc3EK3bQyYB9Lmf03TBEGpyekCLyK9HiC/uZxuIjQ5b7lJlHptLEKVFjzDxiX67vL36XjwDjGUPm/gNt0aC59LgL5cPrjZcr4HitVolrf6uOJ6JjzljURtrrLypFVjjZjjbqQ5TRxdo9T6RgI1xOYBI0gtgh40hpJ8dU5idHACPoY2nYjNGw0RDbWTxtNACFpWMYAe6MnF6AacoH/7Sjq8WJzfyj+alb+betDSD/gaLIGiSx2bzmcsMoJRuG6FqHx/QeQp1ZrHXIaNCgNF/M9rUpQ2tD37sKiESpTQJj0Nh+sSuzNrt4mlqfDHpLK4+/ixlza9ToCqrySgR670fApYDunKYzxnhaYDin2oTHPKOV8aRUHucRFNKYxDQAGEmNiu9lh6yJxhHwSW4jgVHCDtIx5lQ1wRXsHARoAtgXm/QJQBYwkbYbwEnK0xEfbkEuREKCgTAWWKRFOcA2gNwA8h9uFRMvX7gccnSOGNK+RHq7SKWxh7iLg0HRfY665J5QgGMZEI/HcNcAFK2bXZ+TFwGHJ3XBa3XFS2m0n9NjzqJFfaEBczNy5PUI9FdKCD0tEaUeWecdK+HFBPqsGxnzkQZZGbQxQVMZFzKBwgCkndwnShOYJtAnuU9AyjTV2ccJ0qRo0ITIBZSLj01QEUNQPsMQXW6ji/DBzJ+y54Hm7MBQRrgx9jnDNii+AeQ/VgRZlRwr5TA5cEwCmEYwBZhJT3O0aE8kS7OmMGWMzzGAXJkxFg2ZiBqfYfZEoDZnngt4jlebFOgpkV9Io3+VR32j5ngznb4FhsbHQbOfyyzAyPJcKu6SoXbGAnzsZiDLeUIxRM5kwc7xQsFh3pE2KTxpJpBOs6yoPZbh8RjnobsQoz+5FDWn+KrowfVGBjGRFkBpdHLIrwccPwb/zKlojZ7MqVrYr29rA8h/pBX5mpMYSh1yhCUbUpl3tKdCHXwGbE+zfakxPjcWTEodMNY6oz0h8Zm0+b7RvHmOOtVpGZRXE1VV0PA75hUvAKBuWbHeDZzCXfOPi0j4D4gmyeUQfN9EKr6vKCK66lPwWoP00GhsdcrUE4VSAn1PegYti8pw7MOIQxPEDCGLmMpw+B4qTRpoV8QsolZp2JE8hlsiM82OSBjT8Lwz/8xZ05QU6XUCYcUJc2NibwD5D1uDrCuJ6bc87Gcwq6wYhsJOFaGoTZiIEJ9BvsR1vlZzLsaIT+lWl851FPQXbBleAged9DUvpcXSn/8p3RMxPqrecylKvHeUqXc3NBYaYh+SYaZJ1qaNGaDcGY7NlgiiDTGwr0ziKCuRI0LlB9KR4C5Sa2RJRxA7gsX3JgbNy8B51CeNGYk7GDOGNO0nTfspTMSKTBAiDFULcv+2HZobQP4joqUIe9W4DwFbe4Y6Yy3wmSygSQT4mT0jxTaWn61RY71ARTBuYqRnNq3mIynyqUDF2u8rXtX3l2EvRJe90RTvONvwESfFC6/hEkieqpV396vU0LaN8/OEgpu6Jk83azlbnoM0KnMEfQKwD+Xx4q0tZbhCNDcEdZ3QMcCwptUMMI1tU6TXlklGqk1mI48ZyO/5cOizBj74UW1rA8i/WxSplmYPg7E0WIT9TBG0ffhP2x7GPRP3SGkP2B5WWDRmu5kxgx1phWbIXYx9cFd1rXhvSrkGDg/nYV9kwdxMq08Ebe8N0/mYoMWq4O7C0kHLKLcqkPcMG6F0h1WMvkpXuzZ15s+WHNIAZ4jhSjlSawWLxqIG2eYeiX00aJABHEuDLsNKoyaAMaLICp5mu2Q22dtxIgsNkdVJZwPIDSD/QWHSgDSkFNEfuINxT7MdaDskq6M6e7JQDYNPvWNKMzAad4TtQOwa3xqoNMT0JWB8NI3mWp2yalpWa9o7sbM1jHkZ9b4kqvGF2gdPJsd7kKzvuc5F0os1RklcC1cb5mGlES5fpbFTHW87NQ6zEcl3yB4ptWOS5xj1gaLOGJeJqKM+2CG8tUcE72AE609O7THSjsbjmIYj5Idea4PaAHIDyH/ICBI2wHahqMOSInMPS/saHbLOMtZo0orARAx+72gFOIsoBYAAV+OeKEIUD4Kh1sDxFqjpNNqcQ0498jwXwYz3RYf31BxvDoavxKsNEM/rlqTmURmvwGjFilWAF3YNZtpigNMchRYBIIMwyriDa4JppDBA5SdUZlgxgRyg8MsGkOKnxhJRhpd28HkSFD8lDQOYMBWieP06pPVG2rY2gPwLAZID0xApdNrDsGcKYIyOtdWZxT0shWdJ4pw+G4eWRofwRJ193MGwK+A43AuKvxRN9pqPq/Pj/PMaOuSvF9F4DnoXn/I0Cu4iTJKhCVlR1LumjSMUfur8pDSfRBbVAhvoGgAfBA7wAnQqP6kBYgrwU4rvWAlCApliOl2p/NUymEQrKrwGJpMmyiep6vVK2PrYG0D+dWDYFeQ1p4+WjCMtjUgWF9oA4xjgZ9XgaYQVsCMHoPwkRgL19qHwqseiCj4ATOCJOu8jlcNTJsw15syqWvgVHvYlZfJTIy3cEQF+iRXz+G1nJdhe7d0Qw9+Nb118bNgJ1KYaPWJm13hRK2/lhyInTiQYE91NNKNkCoBLpS5DiEbQQFLu1kqJhEVxWzMwtt9BDoNp+jT/OPjSqGxLsjeA/ItCxWkAfIwJm927h0iumTGlAWkYkAL0aBxBG2EcCyAmsl5HEUrFDiw83SpQgHJbjHiMxa41PRoU6FKkeEuxZxVBrmznZdsE3hzVeSCVvicNP7mdVx4X5ly87o1TGzRFeYRC4WHrZHCcMQ95irphY2nyGFLkbOBgIK2oYaQicGyAjMYKoFYiyfgJDfU+BVwHGBOGXfJ0mEArehobOG4A+ffAQi41Wi0BBziOuwQfDGkqFLUJhHGHZDukQhlkAb6oHwXgFQHccmmWoQCLKG67rT52BLhjPP7XyLVfzrhOGjN3p7+88Tt+mT5+Czx5x99r7oY1NWi+NCuCwU1jt+hEOtbl1RbMzBBPA0vKzAJ6YJrBjgXwPLaLA6VB7kOAoyLLqD+BYU7R02jD7pjH4VgkNFone1sbQP6xZS9eEK3uliGMPlnECmQkiB1SKkK3KOM5AXyo3OngU4/dyM6+AiKJuRaJrvZYQZNXmGPSdSy8Gj1ekDKTfg18O8vXuQTY6UX20mP1g+8z8YfNxPA1K9sSPXZVxw4IOxvbM+/sApSmog1ZIshqs7MAyJgcJ5hgSJJGOo6CD6XGOBY7hgG0AEFogDCQHKTSqFFr0ARARkaRICUKw8jBIHn0kTaA3ADyF6PC0+t34UBT6FeR+AM0kLQ0YEi7ovK9Y9QNd4sLuSOxn9PnqsbD9jgQI8wWAEnw60o9a3XDi8PfXALm4ml0OQLVSV5+Zs71B5y57gXpC1Yt7L+8CyB5cUeRgn0IzN40laZoRPBYeuoiAjQbP5qIaNEHuI2UDjAkRmNmiGgSg4SBYhJLFGnZICa6EsTQxJ3rltaiUiE5xAFmyDmMa7VpQm4A+WCK/Idkc4rOJeUNA0amMcAxOtBRY8S+ixR3MIvtZmNLrc0GgANrysSqB9jqlQPjerr5JrsDXGu3XRwKPwFFnYeDelS+rOLkNQXwRdj+i8C49hx1XOfK61sC64qxWKs9ls0dSBKaQdDURYroxn2slzwiYEmUQSpjOrWu6AmA0d0AJXoy0Q1uBriF900YLcDNBI/naPVLkEZzIWE6HsGNib0B5B8YFX6lIkcBYwYSaGZWO9Q90M21ImAgNLRu9HzbSNYuNUMgFYxmjWEHcQcrvtbXIqCLDZcLmo6n97klcnsRhGrNYaWux2vK4Q8yYK7dfmV+kvfc/+SxrWnTK483OmEAYz0zUjOaVnzkqUZmD7gSaR6gFl3qBJcBiapGN9HxNkZDx1TVMQxW5KJsblGrXI+fTAkKVd+tgb0BZPcG/s7voA5Q2OQYLaV5DKcAnjCC6tPkWdKs2ioUx0IBT5T2MDyXbVXt5xnEc6k73QRD3QOO9wLrCtjpUpf3KjCuRYg36H+PjOzcy0rUHRRGnYIkTmwjsBCl6BBxlkqrVUyd2EzMNxlESgrZHclAFRsuWknkQ1ySMe6D2sQJDmupenO5LVL0xGFIPljxscWfGyVsALmta2l2MgJmI20oplpVrYcBbGG+9QyEYo9gz6xKPuQLwBfAXsr9Q9ACKD419sx4vuER0NaltHuOYG7XKq+A5EMp96Wi4C997idAJ6yn7F9J17lSp23beSKHdgKcpuUMJbCsSc7fA+GWSJnkBi+D34YEZyJkmoEwle//jDnTmjRAbeiUcR8bOOwM8jAP29YGkH8JPgoY05CQdk+0IaTLtJAvewaKbmOA5p5W1Xj4VMy1omFjnJXBg01T2DYcFuhSDzZeBrbFMf4IFXAVYR8tcXwBCPkFIHs0erw3vV7ch3NTB7boSuuEU77obosnNcyz8wVb53nuQg8dGI5lznEGR2ko87ED5P32erFGPwQGmiVNPgnaypAbQP5lywDbFwHbJ0j7rimzbyl1a9hUr+syMA6OIV6BodALB7BrzLDOx50cuZcGtE/51l8uHOhO1HxQoeLB2uHN7V9t6twKaO00NT4X0uBC/af8Ts5Ne52re/cKPyUljrEdMIGNUhiRYwVQ1rlJWLGGteiEy0p3qBhzK81VH4cEunubpNrWBpB/fs2x1sRn/2VDSkEFlAojJlgysZPTQCaalaYNE2gh+wwayaCRkWUouLgvRWXKVg9jPhjp3dJxvJom8wFQvXHbvdasX603XhCiWE3L7wFldrYUXAHW03lNzEDZmuF9CHmqOVlmuCkyOtp1XKcMjKr8XHzdbShTi9NhdCPLrJkXnrhhom/1xw0g/xQoLPtVB4ZsvvJRfspAolk545ezeJjKtR29zqhJhBnLfYNeRrGMZ3B+DIJjrQKY/Bpj5o8f7tAV7NXt9NpOo7A/MJ0mb9+NvBtYr95+OrzOlQ+9NHfOt+NUBINoTyMJjIFa95i3JCGSgYrtxCyYAe5xCoV1NWUS8jKWK8BlFGgubVXIDSB/JSyctbhXgFAUvOxh6lhoMXRBErQQFKgRISsoVtCLCFFIhWdbo8WhCBeMUTdSAi0Vb5lyPz02p3Ft0Plsu9aBULeB8XrN8YKT4iPp8D3p9DVg5BfHh8g7ouprn/MMknM0WbnoPI9mibC89Fbu5Dw42g2kspyxFyk1SroNwj24CiqD6xIJYcj4k60zNoD8326KjCUYegHDyhI79XCqwNiuG81gg1TmG9l3EzH0Iz8QhmL6XpV5BoEDIzVPqCl4KbwTLFqAN470K6Hi8qYbPtdn2++tN57pg11Opx+NGB+sL/KR57p3jrSf1TxLtbl8rtNJgf57WB/SVzG/nOV2GkUHlPt8ShYgiY3DqFhF7LFPe+IOwxA6P0cD8nFLszeAvJYir0eFqiUbroBff8x3B5PIJmYwZJjYgGyUOHKuPRZJMo6k1WHwrkPJgf2wONBJoDVhitvptc4P8NU5yNUBcF4AO8xNilMwuUgb5IoSz+m2B6M6PQBsuNF3+cqUEU8+5C+m6GcBec+o0QnALd/n7DfLk+InSRpNDkIl3fYyLG5R1yYH2n4H7HdhR7utDSAjQ12PCtu5+VJUuJDbZwFPzqDYgSMgmhfmy6z8XJkzvTx+6jrTPasmGjhWbouIMYEYCKujGnb3kXcPg+ZWqtiGn3GiIM4rEavujE7u6SzrHHAeALaH8O+ujjgvn4luTBEsyjenJ63ZZpYldSak+GmVHWOxzRHy5aDRRLkZVIbHi2aajISMoUOJMmAOg5HcDxS5dbE3gIx1HJcp8mlxmheiQnRAqH57N6ZBAKmoSJvLQvCspdKJxjTLWC3GdEpUiQSL+iNtTqeL1NUQ4MiQ14/n5FVQPEv3tLR17g/GPqpbOYjPUsirh5TuRCWtp6fXRn7uif5Wosi7qYRfHiBf4VaudbYXpmOYudv9/qTF37NyojR6EG+KmTUZ0kAsjyNoRnoR5ymm1yajF+YNW/sw6pIpmaaJG9dwA8h5t+VJinwSlaxFhOJJSFBEpM0FK/oDptn8aKKQHBYAaKns5DHH2BTBm0J4iRyt/R56joWvzSJYYZzT686p8CwK5LVj90KD4ZKd66Vo8lFfmVtAdJVeyMfCwXsbMw9NJz0CIPfRLBdNlr5hc16LtK4OWZy2C32QNBiIXFzDWFNoI1yRSjsMFg1Bqj4WRiKBljrtoW1tANkD5bWocN7RKcA8GomnQMgTycIWLAikONCsT5lDXKLWGFvKXRR4qPn2XsgCqhYLJaLkWNRZ/rjT/urICW/PP+pe2s0VsLiHT303mF3zkuHjdcIvf8KXBukxa1+e1mD7z9JOuYow0AymBIGwAoSOUPThDHwwhTQakYSSkgtGIUGWGIrk/aiZxQGwoeQGkADyMNxMkXsgbNRZ4YxxIK6DTXIlkDtBA6WhjeXM4DgCGJt0mTQuQJClo92zZsCui91Jml0DKd4ZMX7l2OdKREqe1wm/0rj4EhXxzsfoDpDmpajwkVoq7wRPXa5Hxv5pkKWoM2IeFu91Ho0JXsbGWHxoiKo8Ps/gAjXKjG2EGcyU86Z5tgFkLLdo+FEFDNEBoS5HhdeODXV1S/OJgAXIteaMauQ3G2+BdXsFvXkUqHa40XFv5/pjHBiXAO6s06uLL5h9HXIBdDitgy2FFewKcNyTxv5BPOqz90RexMA/Bowvdfj5hcc/9Ak08kDQCWmwwqxRFwkGOLL9nEE0tVTd0bTtY04SxLSN+WwAWdbT8Twq7Hdd8fZxeP1go4E2AJYgjFKbf0yd5mPqQHFu0MxjPgvQnB/TUnTe9QJ1JeO7dbgu5pD14AdxAzOkP/6AvJZeX3xdj6TVp/Oc94Kj7svAL/9ZFuZURH8qHOsZFFmHvsvJrvpWnEvhVtXezuZVBhzp3AByA8go7+jBqPCBIEcAYSmBqZgkoShCl2gxmi61ez2Uxk0vPNHVK2v90cYSPVbHwvRYoKIl6i/k9blus3Dtg5BWZiVX/rBuRGePguRaNLvaqeb1RtXNCPfRbvUDe8c1kY+T5vb8aTbB21rADAa2Y/4ioxvOLpVe/7wXX3yVIaLlTTN3A8gvR4VXoKAOkTvisiMY9aLqIseRxgp01dq1gKLNzZdeJTy8sUvE2SLHoUuV+Hj6ttJ51pXHPDIzeZaW4yaQPYota4rjIq+PJf5qTfOPqH8uPi9bfkDsPzeenzSk5dxEhIg1mmQbEq9CAIboXMeJKWYd1aXntTZZapJSMYkQaLOq77b+2QHyUTCsd6+kLqEMl+O81O6CJXBUrTHS0gx0HNFqiJyFTsnOxlPWakPzdjuPDPRARrfWkOHSJfAMYO7kG6/1Gppg7B0D6GvVQi6UkC5yp+8Gx2sR62ogrMeemFfS7TUOum7UPU6mCBimg31qXT4dUqYY41EXPc71x46euGDicI5LCZqBoHKeNnTbAPL+qFAnoLh22NTj2CTICIrE1DyNizhplSsDQJiExFm6qqn7FJv5viBfo0VbKPl8hRN3j0DFPbKNq7YC10B2BZTWbBZOwfFugDulOGKdHdlTIi+Bl+6oT34Jmb9Yt7l8X56dmYoMRciZuYAOMpuquc+WOL04iMXsubtv6LYB5BIHBCBzmSpfih+s7VMsx7Ha9O5hHLH7PMIMJlZA88Q4PacuEizyZEyFDdFGNQTYkqfdUqOTbXdENLoNkjc72NeA9e763BdrjJcaLpcYPmtR4d0iu3du/MPTdD12xz7gLkXI9rpcVRCX89kr2DSEF7k5XiiJOpMl2++f8wZvG0DiwPuiwqYt1YFhm4sIBYD2oB/jC/afR+Pk0b1m6DRKlbFQ5xlhbGl3qz+WGqSlpbshRzCUxFl52v1efrXWt5L7drOLPB3z+VLEswaouCNqvAaMV8DxV0aD+IvRIHm5pnpt21dwUme/Fi72EiVrs3px0psp3IRbFH1IwJqlrOYsoLowpqZfsa0NIJG7E2kfFTatUVRAzFHJlhpAzjvtfDCYVIWaDY4EFukyVNWdWaWH4A7V55rdIDg4kph9sVGvY8fZ7XBYrQmsAcDpAX1Bv1H3pOE9uko3gOYXOtO883638OxeaiAfiHLXOvlfiW4vPXYxd7oMgVnGcjo6Q1ghigyd8bIne7FwDXL36Q67/GvdmE8VDMKWYm8ACQCJpylyiQyltl/VfUtLg86L2LH/PNBypQpyrBauNNsBCN8Zsxn8gF340mBPYA8rBlzEvt2/XcceAay8O51ezEKuN1x0K6I5HeW5ysZZYc18RYX7RmPmLNW8P2e+oXN2B1heGsDnF+rBa6UA6kQhafESy47JdTk6dc2Y5rsQE0FyoRfJbT/bexDhkvKWYW8ACWDHY4sKy+n0fjA8jagAOA1Pb5+jkPYweyqgtouLdqAVUNSumHPtYWHa1UWHBTzbTGQqqfUsiXb+p3EzT66jPLpR/bo1C4k7WTtfSalv1R1X73sniN2FXbz/5hO5u19aC7C7cPJZloytT3xQxyCFogXZCeqqbicj2jx5N2xpE2snG1sXewPISIn95NDnHQWibla3tmbUthHwofKrq64j4/cdemZMa7hYKIWH7Fk1dK/d6jR3wUHQbrdpz7rJt7UJL+LqqljFhbGgPxg077ZD+EPAsRmAX3+AVj7TSxMBX0fL5d9YNsy4SAeqsk+Z/xG7HZlGmLMIWbCNCVVVn8rL6XdgiUyJrfa0rX9ugLwnKqyKugsgXMPMODCsqPDOIraVI1tNucjEBnizswhqx7tuJQkjgyXGfrznygtYi8wYrnUV1E4aCGemh6fNnUuKPmu/X/0cb0WCvI1n/IWvc7XWqMdS6z9zXfp8z8evoj8YquBVAr9IniHEcOmEifQQk2qRI0m6OH/tZKMq1hkgS3bUBpAbQK4dOeJ5VHjxroxR7sL+EoHkIkWr6Uox5uIcAVZV6AKYpBGsoz7N9rUOlbPnZkc0ao+hRnnRlRxxqi94r+nUQxHiHSn4nZj5kMTZ3f7W/PPB8F7q5EWlcb/6RkPbWTXUbj41JZCs8va92s/SETMAc75NRUKNSjAzsw0gN4AEil8WT/jJK5hZTszhT3MlvpEPQNsxh9nUvamGJ4KpU+cJebPmca2hVwwXMYRgbk3NT10L7ykJ4Ob4SK1irT7naqNGjxUF76xD8lfS1EugxDsB/HbH506Au6d+eSGj5ok82pmKSnUshAXf2sIopPqlCwZ4YV3V7QrFHyBhJiWksu/V/bPN6BJIiXMLfFv/zBGk22pUWCNC8Xqoo05SyzwTk1LImFnQC10JVpwIyQHSKGKg2PxoNDsczp1vFWEKYWw+NPPA+OMBcg9w0nWsWHMrvGrt+ovRxq1o6+8WzDyozMNTEMPFsaKeP64awbMpRMzbVofyT9TGVeTJWKiq3tLrsAaGJdDjpAwZScqQiklXCnJse5FF+kzsMpxC5trWPz1AeloqiF88dDh7setCWsmMZMIoFFuEohAuYmR0pkvDxsIywZpi+FjmHMcmacbF3GQ19Upf1hpcUwk/w6EiknVmWK91Tve90dZpFHTP4PZXx2UeCvluhXRrz3+RmnM9Ib7y++WXd6kmiSpO0UWDpc7YG7abAgtZOoq0SN2tRJ3ejQN1zSe5/lCB+g0g/0MHkHYeFTb/64f8i5ico2wItR40t8KRVbexeV1rDMmz4o+96GxjBsTwu65GX8MsWVP3ZrsJemcH1+nBfNKNXoBk+1M8twZYmkrcD9r3sGp+ZWD8y3NB9848Pj46JF0GHOmKZ40uRKuVPCNCQYid3dfqV7XouGmefGDYxrJeiRfnZUaoDEIKWZuazwaQAGRcgOJXFiWkyQdkjS2VXgjhdhcV/nWzcsWsCr6sVyY2znb5yXs7rTeYHbr1qD461B0NnBuva9EMwtd1H/jAjOKXc3R+3ZPrSpAprZ1QrnwYZ/Jz5xlAU7qdwbDTV5EroNJBeCGUFnkBOtpj58fEdUqkMnxDyA0gC0A+CIarx9Qhl0J4a7DM4MYGfkvAi/GfVFKg0rjp71drRqj374I3XbVhvr3tRm2xDZX/icfJWnPmq6K6X8mwLz7HtRT8yoe+ep7glRrnLbDvgHQ5dtPoL6IVcJMHJs5A18bIPdKOyLBNwYf1yBZK7LiY9fKA0G1tAPkYEK6AjaQoZwtUdqNZmVMMYCRP/ENYZcpi7ILhIpfa0DiUoBjtERkD5EAq3iI3lLmvHP2L8Z4HdB1PZ/CEO8ED66rdX60xfukxl17PtaBXD551eAEd/6D5yiage8auEYxOD8LgLGWG6heLMuRaxAHiu6dFbAkxvA1rfbkSyIwCo7W9rQ0gr4Ph6X4uzYopXUOYkBmQZEWZp3aohehYg0Mx6Jq71IV6qHAzLE0dVvrhrt2XqmwcnqdmvP6ia71SVw74K6r/NzFHVw78O2uHD2XFd4/x3F95uIbv94ejK9+Fvo6JF6PJWXNzKT61vNYjnpbbOz4tIYii0ZVLHRJFCy2I2FsMuQHkBXAsALgAwwXIsDPOJDD5oBCcGKHCsxYHUDGmEw2bHRoQYoxokWnuWvdpOVhqk0Nzp2slpu6o46zAcl/080gKvlK7/MU0+tJLeIhSeEkJ/I8Aopugtian/EAn/JGywZlljU7UfSpItp99XdEhOUOYJzTGQcHhkBykg/BIyymaMkSX3CHP0M2hjm3900SQfh4VLk++TWm5sGYsrrNofrvMjrl4zqgyYJoPMecmTKUZ2syWQSKZYDSYRb3RYqCcjVVTa5RXOrvU3Zh4KVLUtcaO/mDQ6UDhvDFzi5r4R7sfXgLGW2NMt8YGTk5e7GuJuuN0sVbWaFe8NVoIDyJpAT15Ab8KkswQPBo0AY4MSy8XrQBmbexQ8vi52XZtABm73NSFhyWLlYWoaBsaZ9fpLjtq7f2Zy5jdJBqNQ6EEhgCFWYBfAGKwaKzUG60waqqALjqmDdmeo/jXnKo3rId7l2qEPHEt/DNt4R8Yy7kYOf4ZPtlr970YMfL8hgVWfkWk4/og+fl31mcK3UmbnKNHwaFIjVnEywCbz/i19lhri8FOjG3mdQBIceYPnxBCFElY2tBtA0hAA5dRYZWw73ZslsEIkxfR3Dk1H4/ZPCPNEV9REDdLsOJIWMd2mnpPsX61JmjRHAvZ0xKtWTA8UFC748B9NG3mFzLIlVnGi6rgizHDP7E9cFfPhdcdHk8/mBrxrvgG19nHanFwxqY5+6iW85Y6He5fUnYCAJtu5On303X01LFkmoFXgceS6TSHQ0shZDEMG7ptAAnk3XBWj6Q7rIBgD4YrxwddiLTainyZMQFWALPUGclEa4yH1HnP9I6GBhYvGslmjZ8yyc47wFEXNuoLNcVrA8w3QeNPSodvFjEfuvH6+76HT306m7j4CHgGlGvguZpWN5nGc0AlyXK9eln3dq48uZw6Gp46YgZQxnhQsfqSYJTn6c/MMzaA/I+yzL2BYAXEi4d+BUvNdi4MSleCGZGSlf26SpOxjfbADLQibmZF4ac4fs3PVpV/ak5vV6zfrwDjg/7WX6kl6ko6eepw2PHVV7FngREX5NOuzUBeba58QXziUvR8IRXnH6L9+Gi9YAmG0upkeedSLM0/1f+eQTgc0bmWe9bkRz9s4LgBJDBMvgqEqNFjtzuKgFI0ZzwRzMJwFGXNuJ3hXMim5QgjaVX+DAajFVwttcnZxpWzrWvXwb5w1FxNlS+RrU9mGr0eSbrjWDxt2PDOKOtGtHaNYXPL+6XXS7yKhV+YublBtebf2dRqEXESKjaGcSEcKqZJUgE9eeEhZoV2Wq6/g20UPDMaOJqfR06XzLZJyA0g16LCCoala+1V79FWSnBGkyE1KalZt7E2WWIQPDKZ2qFOMzCWbjaaDuRyW7BoLqerp34li1rUyTykLoAkihL12X1XuqlnSHEqvou7vF5KRe48FD0zqlrDuC+6BT4KiLgs/vvXCjm0dnjpSiNDyCRdXoASZZyn3E5Et1qUR+OGFUgFg+hwGRyCi5JMGLYmzQaQsbsJSCFt5la71idgWDvWJSmJpo2DjgTHrBzulWddtqnxsZv4RPzUiFD8GcLQCyOBHVS8a6CxGHqlS+DYWXqeBHo9YPIc4NZEc9GJVKxg4GVOMK9ni8Kyr3B3VFnPUmvOgCcozF8MY3mlhoq/Nmq88AF5ix5Jh6uY0eCEl12iwlJX1GJESJWTXW5D7YoLDplxS683gIw1PdnZuRmO0qRpu9GZcTZJ45SHxpqpA+DCDqoApzDoUpEuqw6Gdai8SpyRO5jV7btuqJxtwucKW0+6lnrzel2yA7MFSN6Vyt9Rs1yJKolbKuG8An4XwPFXxn0Wf/NaevsPkvOwgOL8ZblqxNgAsESKrdZYLl6hsNYiG4hW+HRgA8gNIMuyTt+kgeGlslV/3TXAa8SHoA5WjUez6kg4CtzNWpDYlVnHIYCzsmwwRByLENlVEca90qOYfy8Ubd0ztHwFxNaz4a+B4yob8E7zrlVWyVdMsW4p5VyLcpdpfnzW1040f2cAVQXBGk0uBI57hk2fKFVQVJ8WqEalNS1nliH9uSIlG0D+BwLIw4V9fKV7qTIjScDsU4OEwrFuQrdBIZRi7AelPknFthiwTC0F78cupNLcOTHl6pBxrWcxzwI/AGjSdcuFtZrlnRxo4lFJssvAdFY6uPakq32Yex0KT3FVN17jX5thY71bXSPFHiAdkAvKi/ucAmywbkJ6xSUdPzd03ADyQgbaWS+0znWvE0GAWUxZqUmYVfMttmZNdZAraj5tdIctWLE2lF7+ryOPDYV5T6S0ihu6JFfzgHzZmar4bYxo9gFNE4G3Azud1DfuPTRPRojuxq4HS5ZcZcTcW9/kymvm+kjT/ZWLXtOxASJJV4seC2smrCyjBVc711oAqkhIEEhTONeEqt7GpNkAcg4+yNnW+oa5VN3FZXUEh8V/2KqBfMhH22JbBURidjhsQEhyHuSdx35mhmFpTlzPovs0esXLpAeUX6UbCqtU5dP65UWgXO1IzyW2i5YHa6B4ExzvFLa45Fe2qgauO2qla5kIV/je95zxzj6HCoTxzITgJbKMlGJu2BTAZFE4mzUi6/6nOssbFgyWaC/fsXGxN4AEAORhvTOpAmxVtb6Zc5FIx0N/pHGOJGcv64UWZBGdYGXNWFUUX3Cwa0pe+dxnB+Tj/RLhTyNDXO35PKD/eM94zb12rldT+A7R7xkf5Z0fwrXONtd8ePQ1YDx/iVzJCrrh8YrGoRYpNJvXer/Um71LKrNsAty3GuQGkCtgeGLepc6wqqMsIOUc9UMVIy0plfQ6LFzFkVzImI0hfMulCVf1p0Hrco/F9vVB58Lbhlz3HXwnXexbPlX31h5PRR74SO6LFVWha6LAN/723X+aVyLHa4B/h7/u2gd699mvKegu+dWz2+HyzlqJn7VA1tK1DkVy5UnyjI1luAFkiSCHhZxir+NiVcG+bScsHxOFQUxhzmWMBg05NqtXY2ynjZ1d6wD2ornVpIvVqKuyZ9KXHP1upmZ/wD5/BShVHOlPr68Cxa2Gyj0WOLwRYd4Lwv0A/NX0erVDhou2C3fVQ0+sFO4CyVY+7LQgq9CtuvGdnlqIbvynXTKADMil+AnPDmaBxy3F3gByXuatldzA8HTyo2mgOA2OAMcqU2YYGghajR41G3KxRpJVvWc25wqFn6oPaamfRr7lVKC7rBF+ATR1AZUu1etuiWjw2vNfaQRdA527mjT3AKge17ZY6+4/7AqxpkPKi1+I1M0uFoADCl2QhU4YIz25aD2WrjVDIDfmHHOhFQqkk3A4Y5Yynn9bG0DGGl0LMKwsOy/FbHG+mDuHrEEqijxmiUXDMWiEmPUeOdcbuRDJpVWNSLYOeDP3Cmner568V0HyJDzWSqSyBpT3AOwvWRXgPGy/9MRnKTrP8/9HP7Rbc673ft6/XN956ENXAFvpYFfuC+BBNSwjO0AuXe4MZ24CFV7AUl0nXLEKrDozvXIUtrUBJICiNlophuyzHi2yGicBVxOZYDRkAtwC9NhGdyoQVlfCyr+e5x+LU6FCO7JSEzmrq50yZVaZMxfrdHfWLO+OLrl+261ZSF5Lp7+wbS3l5bUX9PUD/SKD5lpK/+hJozfbuvn9UXFqK5FhAFzhxhRlcK/pNWfjrn4+cp4pnS0aamqefaXTvq1/aoCcxhUwRG3YpKYs7pbw/O9vJkcqQ91prh0yNdtWIYGyMjgeArhAgntEmVbuAyWhCO2q528vpHqv49rdncYb4HnLoEuXcYf4RRvWR2urWukc64Fojn/Sa730XGs1kdNm0lod9MJ3q8aG6QAOHVGQlYKoZYtG1air/ITUWjas/pwSubVnNoA83elood5DK9dt7mq3QmVEj8xuIge4AhSNEQUCBlNv1Tor/Aizko8asNaa5BD1TMRjtHKQ3Eu/u1cX8lqAtsrHvvYUus2e+fIXc6mm6RdA8o/A5Dv9cPilJ7+vPnHxxNc1XNTnNn2jpt5NfnZ78bDpeKnqTbw8IeeKrAReN3zbAPK4f17OPCJGeSw7UnaknJGmHDHl5ElQbbQEGNbmTHSyB6KCXlwEVMAs9ymKPlG/HNs8pJgekoshz4Vp7wHD01T8zwgX/ki8PIu0LoS1d81T/kGvlV8BxItpwFKeTteUiWs6XJ5IRf9xaQMroNYdUW+fa44sgOheFYEESSSzAGXiLo3mbf0TRZBpygGIU0bKcd2yN53IMh9JuEZZkSkjB0ZKPDQPmRi+XUaJqBJo9fZmuVAFKazjZl8cX1mrP9JOJc/0ZcDTFx94V/T4q0fbaf2SvAGOXwPGu2qOvFAGeMhojJdnO9ttJyZfVTGcFOSzOk/cEh1rMFwN4wWFhSuQQTojN3e4qud1GfOBE8hyd/Pso4JUswHkBpAAgO//9XfQQ0GqORcWwdxc0m2RGPKUMJWxHfWeMq12WFJpW6TXxblw3lYEdTtzruZbczP6wGXxmzYhYl1StSaa+1X5skejPq78fknz4dG5x7UH6aSW92DOzWszVbzzS3gkqlwTO16tvS46hl2HujZelAlkkRnS1EZ9oAyyiudOAiZIE8AM+YT4/SjpCPcJ0zTR5WmDxg0gT5enqEF6cTaUnbFqOExT1BFDFDeRNszq4JzBLrrSQwd6qabfkUJzjjgDHOuw+Fm4yFu83e7IimboykjPpZy1YUh5vPqaol2sNfaRJq8XJ5cv/StjRLhQsjtr62NF8fw+pfObUeMtcPy1guf8Xio/+vR9zL8L0gQhLsAE6AjgWMEO0BHSJ6BPCAdIB7gfJB0W24RPAAep3N/9U56Pmw7kBpBn6/N5V8Z6Ouvp6iBXJiaSaMhIcnXWrR0DRphTbHbWC5I1a9e5822ts02VIfGiAHTxOOSN/PESV/tC6NYrj2vpvXzRAqcDR+JP8q2+67n460/+iGXtrzZ/bllE9Ldbdz+enJ0CAD/ni39C+IR0EPAZQKcDgOMMhDoIOEA6QjjGNi9A6cfYrsmPH0cKXns3y5Lmtv7pI0ieNv1avhoTteMEQ5ZBSOGuXmYbGyMmhCoC+MxiqpJW9Mti7CfMvGqqXeXMbP6dC/y6HwC0PPZ0MvG+Kvx4uwN+Sh3s7yNqFThXwXM1urtEmH5Ad5G8DwH5YFr95b955+23yhur340yoINchwKUBziOkI4Cjg0AI4KcCosmrkeEeQQ0xQUZqCm3H5F9gmtyuf6hdC83gPxHya+nJdB0sSSL6i2nCXKVKI8sAtPs6ooGyESLMdvCnAn716Z3ZiFs1plzwdgcEBe7Ja8Firfz1DVRh0td7K6Lekmu7OxPLWjTN1Ju3vGaz6hM/ZnrEhCtjUDdoP3xVs1xBVx5AzBugaIe9ONZ/biUpVJDjPQ6n4BhLtzqqQDjcVl3RI0gSyqOCcIBjklTPiq7B3izjKJzyRHf1j93BBm7fyphXS/qbaBPpI6mascKVS51ifysPICh6GOFXNhRChu1cGbYVMphUBOvna7/iP1UuANwq9/TnxlFXJqvXKM96vbnwQs58BprZzERsMK86V8L+cd+Cfc2xtbv5129sUSBOqIBZr1eAbBFluU6Jni77xTCFIhmDe0IV+Y06E8tjWwA+R/5DewaLC4Py6IFQBBmiUkGs6glwlIBvQRjpNxxfYDZwFJr7JoxVawilH5Y1H/QzL7srvTwLBOdN8z9in7kh3MkpjVgPBe3OB8Uv8D+uLc+95UaHq+lsHdIgvfOiLiXOscLAPzFyLHVFXnh9fFyTXK5vUSGNRrUsVi7TiLL9ZY+RxcbFp1qVb9sOMQM2kQoKyLO2gnPs5Yf54SHG0JuAAmUjq1m/v6CgABQMMgGmIZIk+sMYxhxhVgFxhn0GLeBxaWQI2A7Ll0NRwgjDDuBA8+Q5AaqrPKku0ZNa750Q8jU8qkXIz9d46YdLbqetp4Fg3/Pxs2tz+ce1L6Rkv8KdfHa/fq51btAUiWCRIztCA4pg3AKLiKAkJyNtyr4sSn/eB0sb4o9ksuzABN3dr1EvK1/4hRbhw4QV+gYk3bhXsgKbvsW+Tl2gu9oFo6FYe+6EzAGS6YAIYsd7GzutWuD5JLNDgR6DGS0fgTyNMjsGzYtEjw14ekroBfGxq+U+/5UyuEquGkh6r4uxssruHnFW/tekYq7rWk4s/vOhgp4rbutEiF2M5DwOuuodjZvdciq8uMtNZcyXBOEEjnWGiYmuB/L/TZg3ADynmii832lwImGSaEEHkA3NPdCFf40rQJgGfvRQHIsjJo2ChSUQwxFQbyojyOtkwt5O5o5HwX5wwqUuizLvdJE4e0I8tLg+MMv9RI3vYt8r7m96s/1uOYVcA2QrDXOcu/bMk25gV/Vd4wGTC51xwx5BceoOTqOqg0cV03LJ6l0wFVS8ZyPcB1Xm39bdr0B5LwzOLBmMwAQ8koJ7PjVTSh3gCGxCU8ggRqIVBV+hqb4Y8WPJlg0s1iunU5kn5hA8cGj80QBTCHPdn6nvra2oMmpzULqFBG1gjx6QBrrHpB8uD/EyyDOL6TYpzXCO6LHBeDeaMbEzY+MXilDiFGeiPxqB/ooV5lrxBHAAW1YHLEtRoLiAh2IyprBAfADPB9KpLkB4gaQ144xLVTsZ784gblZI6SZBYNZARyc5x2jITOL387zjbNj4Rny8TKN95Fh5j6i7A5A1oSbV+TOzM6HxtdA5M+wbBBuj0BeVde5p9N9y5EQWHSuLzFneB4RXkHBGyB5T8hfZhmhI6WD6vA3yhwkcADL8HcbDkdcJw4ga9c7AJM8wOwT1AHOg1zThowbQN4+Zo9+pmxTsILR3yMQBl02k51bRmkhhCJBFBT+muxTvarAZ12bmTBoFsa9O4q5lXp2L77ZxBKPmRt2jBpdYuA8gOSr7JtLwPhQLru2gV3aryvnlNPz1Bci9lvfw33FyUv1R5V5x0MBwwnEAWAZCMeR0FHAAeBnA8w6FK4aXepQR4BU0233I7IfQ/FnWxtA3lrela8SIYtJR5tITAC85pHNpIlN1eLU0zqGOsKooabS89xk6lR76vULGKjHQfJXapEXvLLnuchr4eMXClhflR27aMTFk4hSq0pIt/8Q74oeH4rsV0C0Rp/qJwn6OmTImB1r9Cfw2FEDD5COoo7I/Sxk/BS81h5z2+YFGKUM9ymix21tAHnHmp5tNtEsO6iMGKaWFs8WCbX2uFDgYQKtn28cFiZdYacwLoBxlkI7H3r80qjJuhdNSP2t1yhX5yEbuGAxF4k+ab/kRHiFw/046OHBjrG+9rn17+dGzZH8ol/3F3fLuaGiaKaoRoCaShMmQBMdtXBmzFQ+dtQdm6iFPkE/gnRcqoX+qUKhG0D+x0uxGxIYNBAaEmzK4O/HBC+qPNXHGp3mo5V65Oxa2AlVWCqPi+ZObdY0cV2kk+r+18HxztrX5XR6pTOs00YOznnZJy94bcxHXS0U96bY10SLeC+6PoDEQjfMfQFD/whwPPluVuuQsTHP7BgdJU2AH1rq3FJobw2bkl4fCnDOQhVz5/oQXG4/UDqSRR1yA8MNIG9m2P/yBCUL9xgLkLTfD8Z8nO0QwKrzWGTNMIamY4sYUxHQ7VkzKTyx63gPYjyIHGkc54mTC/WwK/XBy+BymiqfRJFroSR5/lwL1sytdvP8vIKfgKQW/7OPNM+e9nQuU3cOfK+NIC0fG091Wk/l8iRB/lpq/YVT8wUgnapkWSjx1NpidKhVa40hThE1ygqkrgPcPwF8tqaNynX3A7IfJc/96OO2NoC8DpAvI+gCJgc/DrBDRvr0iBrnwe5xjiKDNUOWuciwTRhZwK88prJoBiJuh3EE4iLQVjUW7vE86UGSF0DS9QdFl10auqAiXjrQuYDE9UHNa/7aK3OMp0ZXZySfJjF0Ho3dq6t5Lzj+Skp96TtYbnLUMZ1FswXdxQ9wfZbmzOcCBOvYT02tu2gSWdGcsQ20NoB85A38D/8OfE7g0YHsIMDENEppBH0IlkxLjWcGTFAKi/0C+tpkNzepoUu1E8LzOqlxr3/BEfCa9estwYc1ZF1THL9rtId3bzsFVi6iyRUAxBVAuUXJPgPHr0WIJP+4euMaSHIRaJdutA4xx1ilygIcBR0A1qixgWE3+jMB7H+v85OTTlkz29oA8q599t8/owZFADsLWbNPTyWtTmLpTLPYLKjVHYuTdtlmtZEDxM9WvCpajyQIqgqlrUUmq5HOSs3vhjXoldLXjed/JOK8ZC7FO4qHfv46pMv12EdOII/WKq/InvGesscXQXJm1rTPzkMBPOqMRei21h472bKm6Vhpg5U6WH7XVOwWqlnXBOUMuD801L+tDSABQE+AzOdR7p8Oz8aUShIb1AeDe5U2qxaILKDImW1HFo/rGVADNGtUWQaJuFJ7vDcauzD0rXPtxjMR3a8cCSuzj6dNFy3437r776h52dt5in32UxfqpZfqkXH/q6XMS4ybZkXxdxukVtAFC9AFIHq7XoEweNmOxqmO29Ru96roE11s6AgqhsWJfNd5jjGYts2QbwAZ+8fYMWlcUFbxufZwJwwxiWK0pdqdHgQNFBOoAeIQu5UGVK8a1e42xy7FTgLTZQ1WXQfFh87+OteluJU2L+p7p1zhy2wc/uLU90WhC30xijw7d+gKB/sXgHDNTuEyr3plu/qQulAJe6FbNb8ZoSmGH4DwlEFr4hQrhZqeS5+oPjSeP5w6inTzrnRSVZ9Wrm9R5AaQ8/rwaGqENgpxQKKQJCay2LqiORmGKZercK2VIFaLhSFAUXVGcqYbNuXxe3yveSMdPh2KPk2/1WWwhQ/Dk71+ofBz5WiQ7gYs3YVmOolBr8mN3UiDr4HdWtR5+r7Iy+aH1/72XUo/V0zTVssXytVgC+EvcwDwgeo1IxzCg8Y/IXwUIIzbomP9WWqTnw08VYCSJQW3IhRuOPc105ZebwB5aR1yJxYKs1DlMULWjLbAct2smGwt2DOFk113NyupuZFWZMlbQbI89pLU1o3h6F4cQpcOyEK36+mGF0HukqXCrwDjtZok78K3i0D9R5pprX3+Z6rjayDbvS/eqAPfx1/PDfDAg1TNuEqK3CJBHdq2efwnhCeqkddML2zNHicOcq/8rg0MN4B88PjYpWIZQ+h9osGMZgGG8bNAYbFTICqNkFCxU5hBswJlZd70kaQBNJWk8r6o6BQwa4SkyzVJab2DrTVbgxtH8AUK4sWIUWsAchkbr2pIfgkAeWWKp4++2U6Kp+BIu3Oy4FID55pa+Mn3QFKdKs8B0JHAUdAB1AFZnxA+BR3n7nR1KVRv2rWgHAa1sNYfuek9/oXrP/5U1VCGxAkYzSwlo6UARzPCaDQbWP1larOFtNJdKOztav2qjk0j621g1SQreG6itboHC1e72Fcz87mBXpvo9USwvD8Xdal7S6C3DbqW7pAzcF95Dt4Z6Z3dd4XqeGYbcAKOa899z+zjLTsCPiRZ52iug40Rc+y8rzu2jFehimmejSxdbyH418BRxdpVjOfiowXbbW0R5GJ/noeqabPBVqMNkhiaf3UFvgZ6TGHAhRkIK0ebSoD14hQ2d7BPIhDeAkDdTotuNGIemty50f2+Wm/kWjSJs7opT8PLR3yyeKUksSpSwfO/swJyXxPTvTUuheVY1vw3pBCQ6CPCT6mly58I+uAnpA84Ptp24UPuH4DeIb1DeoPwJukNQFyID6hEj18hCmxrA8ioALGzn0HiYkRH0XWOIydBMJhSeFyjDkMYYSGHZquqDXNnhAUNLx6kl6hzuA2ci6jt/HZdtH29kAKe3E/35GcPNdv78Z5H6oQrH8ZVcsyJ7uMjij28hwaq2/jZK4mH7miNHN8AvTdQA94hvEF8A/QzruMNqMCnN7h+SqiP+QnpHe5v3e8/RXwQyDorpWyR5AaQj9YISmWQgvBujECvHA0x1xguIE3PkUXh8VTNwcpQXwPC0sohTw4VnnVZT6lz4mMAtKo5oJUMfsUTu0/2TgFWt+qND65+hKgYpXE1Pb6vJPv1tOGOv8c7OfLkzVrjSUQvAJOkn5AC9GoECL0HYOoNKj/h76iA6HiD9EZ43Dc62u+IjvcH5B8wfbqUU+Xiw0+G0re11SAfeQOjKhmQ5iEkXgbCOxvMDjAZDtddPaoU+3oFBNVHVVXxohP5F64FOAqL5o5OwFEXwFG4Lr4rLS/9trPS6ok6kK6UXqWV7dc78NIDYIYV64SvAO09tcuQYQ4gdA9wE94h/4AUaTP8A23Mp4AfFD/JD8A+AH5A5feUPgB/B/wT7tOlevS2tgjy8eUejnNOIlUXhSJ+Ww2zSYJi8cCu7JhozvTjP8G/jtojS42y1SA5T6DxzrraJXaNVmh+K4igs872pchTqym67qp96jYo87bqeFNh77UddeGxp9niPaOKq5xqfp3SSN4HoEtBTi8jPB8N+CI6/ATxAcc7xAJ++oiIEnGRYpvwEdFliRxj+zukDxmOm074BpB/bGDlpY491Q61J8CMTAFqrOITTICZiBggD6HcuG5NC9KKFmTtdtuSt80rMv93AOMaUtyTOpEX0+cz6bPFoHlnvXBt8PkaWJ4qZuMEBNs7rf7cK7XFS1x1YkXYdqX2yAuAZleix2up9SXVJV07kckrmKkAGsh3ZH+H9CZXSaXL71FvfIN7pOLSm2qt0fM7XFFzdH9TAOYn2H1zveRdzWm2PHsDyC+VoyiCKr4zMbsowVjtEjiP+LAOhluNIrs5x4gqZ/fCGDInybToSNwyiLp48K0wYarp2ClbRmwaiE3af20o8XTOcUHW+QPSMq3YR3AJwOu89BsnkrvA8Zyb/VAK/QeehiH/gONN8gA+6CdcPyF/l1rNMYDP9Q55qUe2CPK9dK1r1PkO+bsT7xA+KeW6P9RznJ3tTBtAbjXIB1eMQBKQzeM6kpGaf2+K4epmHzmgDYNXhg0NZrUTXofF7aRpcxIlnhgeXioZ9ffXlRLTyuwfr3XNeULA7eqMKv/W6466UHO8o1Z5Mde/M429qWbUg7Ju1GN/5ex663cCgVWfMaaD2oSpqfFHuV4aMnqLWqMHILoq3fBdro8ATr3D/UM5vyvnGP2xEKKoPILZbk1BvpI2gNwiyK+tLECi8WhWhCZK5NdTCGuNsVi8miWYxb5IskWYNGNr5sQgOSsPe+m4ff3AWmRml0xl1hof511qnd7WR6OnNUi/0JTB/dTDPybgwhckzf6A+15K7R+pPfKstnssM43vgn8E6KmvKb61mqTrQ7W+qDL60yLKOvIzjwQ58GHHnH0/gtnL2y2ptGEx4hOd7K1Rs0WQD67jETge3NxlkKKK46TUUwRVj436e+FVlzaO5u0z5bAdTWnOJHkCPKdRzUno5Vh4dp8Blq7dXp9jJbo7BcdyEe7oFusLYHdl8FxnrXPdPzT+iHNhrz7eRfEXu9e3GDQ8id65EtGTxxIhvrX0GfgJcZ5vjJ8/44J3BjjW1PoNLPOR1BtYZiapN98PH++/PU88PfHxsn3atjaAfHj5JOggImdTdsKzQTlOtyqgCYQEmkpxL/LcLjJUE4xSO02HZqTQuSOdjbzocqqoS2i0NhZz/pyX/tQS8C50qa9R8dYuX4kQv3THP8or5gbS33p9vCsTmKK7vIz6ECM7AXQqg+JCzDRKb0LMOqJ2rt3fJY8aJfEO9w8of+YxrFv9SmQrbiC5AeSvLgrMgLwbfBQICXKVESBhYdAndpW5vpvKJh8ewCrd7d7HOw/CP6qetsJlJjqhonrAmS0jqEsK3PeMy/CLaHrJgkF64D12G8R1Tva15763AxzPmbtU+r3VGBstMK6rRYv1PmWER/goM5LvAD5IvoN8h/guw7uOPNokwQBPFlJ9Z4SDRRW6jfJudcgNIB88/gikKtJTJa5ttqhqyi+n6SB7qdEGtkvQYC/c3wHNnRHRvSC5Ej2uRn+4Ehl2f5S40e3lg+K2N0BmOSzOE2bQg3YJV+9zp9cOcbtBdPnG3KLEOs4DvSkaLrUL/dkaNXUAPABznnFUHSDHu0okiZzfAXwSzMxB2vKUYO49RyFeSWfcJt7xWW5rA8jVlRIwGpjI6MWUoXAyBnjO9qzS9tZZTlrDMHUeo7Ng7mkN8mIYdhKOXaoHXuxac0XI5o6pagIrhc3zlPwSM+ZLafalfP0atfHe/PfGbRfnOu8E49XoVCgqOx+l5hjgOA9zl3S6zkKiRZiS3gqn+h3yMgbkP+X5J6b8A+4/M/yD7i4jMAmUkAcDszdR5DrzSADe8c8JfVGMY1u/sv7jM2liONrU8WZa8wWsLJly16L1KAbdcEYiNiyZc1ScbLsgvnriQb0Y51lTAF/h+J5ZItTOJc5x/OIws84juq+C3yUguSD2wLvsBbsrtxTDcf4R34yebjVobj6FVMDxDfKYcQxw/AnXDyiEJgog/oTjB+Q/4rpmsQn3H5B+RNRZnsfw5gnHnM3TMUfGMzlMQh7SPMta369da9RsILkB5EMlSAKfYbsgiEwdvUJ9Os1uCLFFUiyD4pwLW7Bm3FVG0Ll2ILcDt5tR40oqiAuRyuUM+3Kt7rSxc0JF1L0K45dR6E5NxTVw1PVa5dnn9Wggecfj7vXCPt+US9r8E0K9/IDwBsdPAD8A/Kwd6xjlUWxz/JACTDE3c4qQhf+E4S27Dlac0VTyEjpgckxp2KqKW4r9J69cGjJQHRarTZYiXrEQngj71joCpBZ3WgNSluexahlLnnWJ761D3lX7uqPk14PnJaD8cubKXwxO+Pgb1Ree+uxl8/bzaeVktbzvVGqLP+D6HfAf8ADEAnw/5yjR30u6HR3sOv5TfWXcP8t85CfcP+D6nAY7tsriaTk7x0nFjcVlg2ejsmJfW8ZfwCLaAPI/9nIRZkXXkT0DhnX4u9QQa2ExBsIjJS/WC6hMmTmSZFP8Ifo5yLV5vYV4Lq+ne9eOet6BCuq0AQn0g3NdjaEDvI5tc0tNG7g843lhpEiLB1xRnXj0hHIt8taF8alrQeb6ZJBDOMCLaERT39FneMtoeUEMg9f7QPhQ3d5Ue0qNkniX/CDJK/CRpa5YXBobQCYD3We1+PJ2rXy6vDcD2dYGkGd7OEGYrMWJ5FxHjNpeiR/JYrOADi1mVKkPIM87D+R94HgWld0h338m6DC3vmdcK1YLaymqnUSAXMQb654r9wPIDaA/tV040zm7O0y+aE62EABeRozShWbQtRGfudMeNUfXrKgTUV+hA84NmK6TXSJHfy/36+qO+Sfcf8L9DdJPAB8yxSC4ca5AWBSWZQCn0skeEpDnTjZ7c7fynS8ph1sUuQHk/YkoNbkBTnXGmKzRYMz5GJeodaoBybBqqGk4ToHyesTXBZv95TrAnIg8cA3oeN6fuCcK/NrnONcReSMn/qXZzpPbSPyhmeNdTfLarcY74D+hqriD2ph5gwrQlYvq/GNjx+hNtYsNvEN8g6U30GIkSMikgYoZx9J7gYyooMkMJHl0st07e1+0gqVOPvStk70B5MOZl1zwRhdEh1JmcyiGTkT3RNeR61JlhZpd65ZLYOseuwqIJ4B5GVxuq49L1248j5CaSMUlAHwgQvylIuqvPt1qFPmF5z2NzoVjRIb+BqFEg0EPVFUEb8IUqOK25bp/tBlHKFTA5R/w/KHp+CHPn2JRdSSBMuMYjWrBYfE2LFJsSvCUzt/3RjncAPIPCRi8ZsblrIszQNIqKM2gSZBkY2dYBbfZWJnSzRrbH/aGdBkle842dBEcV8HzHjXxvt54bVbykijvpec7y77PueTShTRdv/h5n08fZMg/y4B3SZ/xIeld7nONcRageJd7Fad4g4f2o9zf4TlmH7MH2Hp+B3Xsx7dYRniEWa2nLyUyR7vQr4w9nVEOaRtybQB55zoqZnGiLzMPeVcz5T56YJuVLFhqs5xEISgWemEcsmHO5NCJ5tYciT6W8nDFovWe6PHUH+VujxldzzsvgeGlF3UPk0b3Fjh1JoQhXXpDDzB/TlXMe+R1TQUQ30rNMcRt5TWlDvWdSKd/yovTYMw//oDrp2YR3JmnTfz0Ib37uD9erEU06ueMjgRgFSBtTscXZpHqObLEZgO7AeRjAYLDzcyN5hbAJRBeZLSLZVf5GfZdBfSUS5XfEfSy+rNen+I6w+kGd47CXKgR8pf4zLhguX0D+BaR4wX9x1vRrHTX61k3BtPV6HMtlZb6AFPr0W0HyFf/7nJNQR8s9UYvIBhD30X8Vm8BhB6R4SyO+wHXZ6k3vjUnwsawwYfIg8xcZ8xUgvIGfIYY60FNs6cASh+sdLVPKIf9x0M8wEja1gaQAGwwYKCnZBlpyDTzADVmMMCOPQCKGWAG6304hRETc4AnM4CJLPcBpgKSCwAkVyKER42jLo2+XFLjuWigdVp35P3SZmusRN1ZAtAdkeQCqE/BeaHu2+4jrQhc6EJN9aa1LsKmNUZ15igRKhzpTunb9Q7XAdLHnG4rdB7dSwpeZh2hz6g96gOuA13zFFlPvyKbGIU6gKQEGYGswqgZViiHRXD+jHJoWxS5AeSd6297IZkwJGcyhzHDLCMxIzEAk8yxnZlEhtEL+DkIESXqLL93qbaXUXL1ALgAxzWdwQs867Mo8gwEsNB8bJjgK3OIHYjoatPmMqhejeZugvraTXdYqN4TnV56mHTfizk/OR0h/4TrE9BB0kGuzxIV1p8fkH9I+lDW7EQo/4gaZJmBLGk5XG/K/ib4Z4SI8YGq1AfFckomy4xjd64ojcXWqIHDh6KQe8vwbFt/1/W/AS42wNEUUz5ymEUdklSJ/HxpS1CPtHafAohAScnLVMbZYOEVSfH7cmStCs9qBdhW7kssGzVrUdtdwPRrn/Wa7sfNeutdKHuDSviQCrnmGnQogr/VrrMcVVSiKn6/V0ZMqIN7UA0jlf4Jb9TB+RJqPT8BfgDKoGBCqetwmRe3Rk2dcdQ8EF4ph1mYjI99NZuJ1xZB3rNSNFBcYW9Y8jNUoEMDQqOzryfOCFLqi5yTPLFr2sDBUJs8K0Je4hzfm9reAi1dF4XVNfHdS4/lvUCIx/Uj7xXhvZKmX/wsHrFomM8yUwPAqDf+CBEKdHXIMvvYQLCK4OoNjiqAW71oYvzH/d2NH27IrcVcxniunRh63Y2+M9062daBad/qWaMcbin2BpD3LC+QBlekyiUKXKTFkT4rmNmmqD+W5s0MhHMtnK2gpy5M+3NP19Klwt7y570isdcGynkB1G4BH3gvOAF/5kem0/Jkb/LVPoupsF7eivNgY8QA6IVw3+dZyMaqeYtUus44+kfrXHuRQSNOOtY+T4OdfMAsr61RDjHbuC4phwn0UptcHKEb5XADyC+urAxPLOGiz23OVtlWG+VhPZpUDFxqtBldAV+0SFndFq60Lh5KcXgBRHCZecIVpZxuO/GgB/Q9UeDVx+m6OPA9jJ+rTKDzcoO0UpPjIoxee4oc3OgARnnpOlePai/daXmdaZy3ZY/aosclHuM/4flDefp5HPWWTYca6WklRFQnX0edpNknAFkph4bQhkTOS8oh+vnJmXJIbpTDrQZ5T4oNAAPhR4c0t0mLRtnpkLg6l/v+4ic/T7ZHj/LhmvkagNbi/cV60ppm5Eq0wAtg+0cHFhcrCnw8/b33j63RyGsN1ri8w+ksqtS8ZKRSa5QqMP4EUMRt53lHSD/Ue10DP+G58Kz1A/I3UD8s4f34mvLwE7JjV0tsFey5UWPwWeezNGrcEpQjKslkixaZBZPDhwS+H+DsReRYGDinX/wGjhtA3pVtCTA45C4t0uwKbn0K3YMgVmW6aspeAbaELl9qKJ4U0tuvbe/v0Ixcj4guRUq/8DrujhoX4Mj1TH9VUJfXhTmuojAuK6iTp9W808/pGPxo/9HADwpNR+n39rtQ5Mv0E9CPEJmYwbKJUKjOTeIHdukdUh6Ojjwadp8hfHsuoza/NnURZE85NJSmzKR4jslBL/40p+c8u3VC2dLsLcW+cUwHQzBpRV6i1BKrZkWvAhG5SnBkej2wQFj0nMVL9beHDLB0FxCtR6C8opDWh1u8et+HI17Nf6UfTSSuKRf9QnDDe7af/4FSNTkUlsu/F7HbuGT8gPRDRd9RGbVR81YEcd+lYtG6cC3UR2HKvOeRnx8vYyaANDl8mP3cVKVHGefUlj6fjHv1lEOcUA5j3qJSDnlOOVzOjne75BZFbhHkrXUsvVySCmEIsXEAixN2LXLPdgitey1SpArDhg6DszZyULZJ3gpB/AP0DB8LkW9H0Lce8NVxkL7Wx5XuKW+96Fuf1ZpP9cmsaf/zNLKcf53g/lFA7iM8YYpxFqraTp1txCeAz9Kk+ZzdCKvJlj4BfhQ/mg+RH0opO0KJxyYsmyirpQ6767Ot3jONcjgCnggrg+W9cVeVOjtRWdkQbAPIG/vZVMtTcpbmi6KWXUFPEMpgeO1el6FwwIN2TZURtgqGHo+J+iNmCqL9KfulLgeOa4IUd9c7vxKOr26+y7bggc/lcqjIi+wirpQdyoSCilBtdRrU7C6oar7V7uPFbMs/VOuQdS7SS0oNvMv1k8QHyANLnqGi/B0dZ658Fyp86qU6eFXVozzAVcVviJ30WaUcpoQ0Zagq/Ih1unI29+D8vUhbPXJLsa8daglggpDkytmVsxDlSBWKWeVe1+tFhEIVJINmWOmIXABijkHgBbiup5aXMGAtnb7Kb75jRrDLd4kVAP2Kx/aFtJ9r9cCzzwCXZdxuybudamFeCrp1Qv+J1+WzbFkRlYhB8PeuW915WfsbXD/k/lOOyr3+aPcN+bM3SD+ZWCxaJRZfdU9Fe9mBnEqE11sfLb4zw8LUrVEOraMcYh7rqZTDMTjZ6j++Zskw5+ebeO4WQd4XfNlchnLPbp6DbghOgDKkCoAV+KYOEOMS95nm3wtQCoWfXbncF1q6p+oxrY50ClacIwC/rHq93lPR12vyPZf7nojuDBx5G/i/ElryQRBffl4TgEM0Vprg7ZsiAnxrArgqzZg6BB4iE8WZsEaOsU3AG4U3GN58sAOP7vQYnTWPzvNAwrLDR4CTlzN0y4O7TnZUdyqfukWQyQoYxvNJDli4HFKOnIrRQk9H3TBwiyC/DJDeJhjdhawpT8hyZA+Ac8Ul1HscLofcIWa4XFXRRyWylDug3M9PwiXJPQbScdua4BSI7klRydvD2LqVm19Jvy8yay7wyNeC0UfB8cuzerfkzZQhHcps4zty2CGERqPeI5Jsw95vcP8os40/y0zkT7iX2qT/lMKilZ5/wvATAz4Bzco8EswVKjwk0hSdbPjcqFmQVde8W9lHnJztF8pRSAfMHTI713+89iltjZotgrwOkG3P9AxkTtmJKVNDFrKYTHAINJcj0+QQwycWdIgudy+iFg7BFQpABSgX6fac2N47GHlv1Cfdi4o3tv9CzVHL6FEP4dhXm1eX3tvFJ4oh8JpGR3f6DTVyjFnHn5VFI/Bns0qIFPpH+92L1Bnwg8BPGd5IHQVTSJTNSt/MQB4JJSJlx+feFm9dYi8n2kQr1r7/3m2it5+xDGCHuUHDpbd6S7P1lR1sW/+UANkFehLl2U3MdDM6RZeQSTocGSYXlANLmcGUIU0gs6RM9wxahinLPRfJs5BNE7KgieTw8LH+0H11G5BOjpJWrP/VY4W38e/+iIX333TmS3OpfIEM4KOkxAUcy5xim3FU52GNLv1W8bfWLEQBvcHwRuGHkr1DfigsK5CKkZsughQYnexjRH26MM5F1dmCK5RDF5jmRg1JYBKwDxOvwb0Nkfe1axXjpHaS3gbHN4C8ttwzOv0v1zFnuKZkyInIQIp0OiHTzUG5DJnQrA3pNsGKQC5V65BRl3SV26KmKSgTSHcNX+vO0HIBbCVpaxYSOhe2YH+AXHD3uxqVXgetGj3yEZC7J3q84Fixqux1/lxTmU382YRuZ6Otny0iFH4KnSBFb7bVvKzxBvINxDtyflPiu5NHy9D6CUmojRqRSCWV9mEeyVHv7KEKoHOmUdXCm5qP65xymGfK4fBxBNLQTogxdB73g9Rqm3Fy3MBxA8iLmWme6dXumZMmZWTCMpyTgRNTngBkGSfCj4DtRE6ET6BNMGUIk8gj3ScwTQAmSZnABPEIqDRxlEHaXEj6hWjtCpNGrXZ4AqjX1Hr0x4EjHq09nukYLihDJ2k4V84fa42gdj1D+Kwd5qKwMxtnodgfFOMtAFXpe770s5BVscc9ZM6YjrXmSHX+2pxBLchVQLYASHNHHgg76Ezfk00kykBM867SUw5RTLzKiE9POczJQFejHDbxXGCjHG4A+diajgd0jn0OQ/YjciYzwcmNE8mJ5BFAAKLziIQBwgRognyCpwxqAnmMtBtHiEcQA6QxHssD5AOEATBC/EKbawXg1uwTqu5GL6rr54+V9Dg4XnBgXELZjZriqngElhxEXg4Hr0aMy+cN/2pVCbKmwlNVed6KKviboDamM/Os8R4ca48UO1LwN8rfNNibMg6QO8y6z25W766ZQhvvsfAotwnw0cCPE8ohZ1M19ba9RTy3Ug5dQBIw1fJIMuDoMfaThlURjF8vdG/rnw4gzRZ0PGmfJ590yBNHJhtt4tGSHUCONBwhDBCPkI0AjqCOAI+AHyAbQB4AjIAGyA8SR9KOAA4QBpAHAWODxms776P7bXMrvGBw9WhkeAscb9EX7wTXu/Jr3ik8fFpzlA6RVntnoOU/OyCMlBuqArc/CpMm6o3Bjvkp9+BdQz9p/Jl3fPdkx+E9O0rNUJ2orcqsoTMhwVua7QmAEcPk+HxKJ5TDYol0Sjk8E8/FarQcICwgoQ2UgyelmGX1eZGmb2sDyAuRDBoL0J45Zddxes8H5mnAYMndBjM7SjywGDRAGgsYDpAGkAnAIGAg9AlxgHEAeICQQAzl80rxWE8xwMbLc5CLTOi0qP4nrgcPGOICz/rasPvddUlewNabfyfog9K7QmXnR5ldLDVIvEUUqR9t3rEOgwMlWvTCtVZT9SHxU4O9fb7sj8PxqDrAjVbuY9WVj2jQorACCZaFvLPSqPEis3fpZHiDcthVG3rKISeAY7gcRn2zcLlKOYaru9CWZv9pAdh/+DewE1K9jILtTPbEo2M65Hw8ep6O7joKOkA6AjoKfoR0UMjxHyOS5IT+d7BeP8TvmK8HsB5XkY68EWndXVy96Xx6H2hxeVnW9hav9Rwc7zEi++qs41XKTy7gWFXA30ok+Napfhf2TBG/rRYKYAXDD4jvIN5IvtP4DvJDg30AOnoaJM6RGlek406rsfQiB2VETVyaQ+FJFtDEKZqHdbNgby6HKtQDL40XpEI5lEod0mef9laHnMVza+OG3FLsLYK8BJCpYEkGPAvKDj8o03T0KR91nBIGH5X9aGYHSiOFI4QjpAPIMdJnpRpFImQmR8RITzq59BGnQRgf4yD7eQTQF6pCzRJAl14tfscJ64ZzLZKo6hVepkHqK6u0SpaTIvu5RV1Jh2+D4/XokUtq4JXoEfPrlz6B2ljB+wyIeINY6o8VKFEB8Ue5/hPgG4gfIH7WrjeMPwG8H16fDvvf38TSfcZCvduiRrj2VqoCngIUU6lJaiAsX+hkd99ri0wLi0rGkDkDoxmTyzYPCQAfEniY4ENnhV6637WTvcxKtihyA8iVdfjXDGXN7T0SNML2Non8lMs854E+JAgGcCincisgsgBARofaQCWI6ew+PTiiXpddract0m2WQeJaY7JFYwAxagSSptlOrB9U7529Cs+8DLVLXuKc3LjmTWuVA8g9yD2APaChhSc4bcqcyqytRJb31ijXujGXGzK50QCln3L9LDTBt6bLCP8RIz6oVMEy0tPMtspjUPQfY0DczT7pONYBbHOHm0HV0be4DKq6EGq2Kop0NywVzDEzanJ0soejA4PNJz7TiXhu7mTOLGqcRfvRpGj8TA4kgx0AEzANtkpG2GBwA8gHMzWGN3ayIPUbIxJIzPjUp78refaU3JO7zKCBgsV7ZwI4BFjIACVAKSLHiCzZgBEJ1Bg1SSUJicYR8AGw3dVUmVgfAm9KE5ogHYv81iel4H6H104uKtkZkiTl0ryYWgtbqHYRtUyQy8FlAeTcw7gH+AzwFeALyCcQewDDdeuGK1Ei76k13tGQYetUf0D+U1Fv/H0xx+h6E/QDrh9w/xHRZXEYRBkUlxqLRmUwnEN6d/BTxEQA9OBD2+SYdgYZYHUWsSspFJ3Qs8idLuQhIs90dBzGVKLO2dyItVZYT3onI1DMGcAAR0SiTfCi/jl3KA3wByiH2jrZG0Cuptjf9pF6LJolpYa0t6zJP3VUgmsgMDD0ACvoDaIOhA0tfa7ptXAAkQQNEAZSR8A+y30MwqCsAw0DTLHttFmzLGkt/a4jXfPC3vgJ11sHDB+QH1EiGwUYTp2fDjplovnZGq9czqAWDTQ8AfYMyGFGgAYpomdjKscoF2lhjVz6aPLOmirvUe9ZRpEO4VDYMT/lTQn8Z2nKvKt0sQtjpjBlqiJ47WZjBkjgJ4kfMLzJcFBKGR5eB5wETwabMrDfwQ1IXVNr1k9WSSQc6shT5mU0x4poRerg6UR9aEE5vFCFRU0iFpRDL51smymHuEQ55Jcac9v6Z4kgB1sAUJy5rSqoCHtOBA5yHwAfIA2CDoRGQEeAB0BjRJI4SBjoOoA+QBzhPIJIcR0DoAMMQzRrcAA4wnEAtUcvaHi6w57vvI4A65n2xtaJrV3ZrAakcrhrBlZ1zyx0JmRepoIMxJPAEZBTRZ0I6iTdpBq+8bS5dNpx1u365FVw7G+z9n1lQMezUZ0yjlOYMe9AU+uZARKa02vgJ4g3gIVVo59I9gboE9PkTLtSqiPoGT6OSJ8HCPsyilNqf2ym6K3eSHZ+MKWTfUo5dLsAfxdcDufMogfXQjms2pB7BKMmd5TD2lnvKIdq8nnb4PgGkGsRi1tzf8NaFjvQkXDIP6fRjuloKR1gNpZ0NhoujkNJsweYjoKOhB0hHICIsiR8Ej6AVuYkIxKNmUgNBWCHs3BKOrtetFRj+Jkh66+Z8fEB4gPSm6KbPgNffX/qxsNVwdFP7Wn34cwIsdjeloPSu6ZNGSDpEO4kCsc1Pch7ZiIv39cBHIoXTAXEt9aAKWM9wZrBO+roDvGjCEzUBs0PkOUEwzfQfmiwt2k3fI5vH4Ln9kLUWCvBhAGii131GC9mqDZ/f32jZihA6olItenTzaxSpXBDCwZr525I96h5rlIOUTrZCePxABXKYYXTnnJYB9pZ/G62tQHkCUAuR1eYYoSbsye2IOT8Nh3S5KOmHLONZCIYg+J1OFyqTZjobMfnM0I6lo72saTfE9i0I48gpjjgpbMuBMtZ3xcQfmwK1+UnAySrVcA7xA9An6hOjcX7W65KqSmhTGgVBTi2sGSAcQToJIv/d/sZYVGUJcLkjFgR/+UFtYpbNcdbne2aVhd6YIkANfOq39rMY40U222In8TP0s0uQFnGfKSfID60Hw4AhcHiG+v/fKfAba6QFzOfy8EkziiHmC0Q5OXrLN1vy8GdTodZPJeLv1XnIXPX2C5D6ClB2ZuJV6UcIntQDocl5bBXUfPVD3aLHjeAPN0tdqUx05lWRZBVSPwl1dZOx3z0Q8p5sJSOlEZAJRpkoRKiCueWmh+DfghGk4Q2FXAs98FEFn62MJXmzrr4I5u69CR5HVWpcv9lmLnS6BCG9q4PSBnRVS3FS69SMdXb+6SqxRhqJ6NSujh+OrfHCq88rYrdYsTgJEU8bbZqmZYT551qFF510P/CnnUxyhOGWZFye40UP0paHXxqcjbZCguFNyS+6+ifcDmSNWYMWh2v/J4DGC1neLJS/zuRsOsGBqwCZG3ANMqhIU3RtOGHN8qhRNA6Xn1/7llQDlvTO1L7QjnksbB5Unqw7bI1ajaAPEt/xjib+orlaOXFZgmkO3zyacpMadKQJqoAG1QUyDFVdXEBmVGnm4qyT1XyqeCYQWQFMB5Zt0F2rrPYdtpJ0EfxPnmr3imK0ZYPyD/g+pD0AffPApClm918vxEeOt6n2HMySFlMIDW8U/vXW+vx3CTgOjhqCXr3oOip8Va8+ENT1AHepeoRow4gUeuRc+RYa47Ez8Ke+YFasyR/YkhvMBx4cEd2YEgxYkOGBnJKc+/JVTrZGXkYI62t84lpSTmsqkmt2VLFcwvlMGXH8ckWlMP60bI1as6jb0qXe1maTbxmyiHOND82yuEGkDeXuoo/JMC9zEWWSwWKRAeR8zRNtJQ5DBMteYyX20RoghjRYWhEltEbjiFcoQmOCYYMx7HIo0XKHduPEAdQyyhyBjCH/Aj3zwAJHOI6jnAcIP8soy7zBfgEkeGiFh1s1zzis5CwHnFufUsYCGOxsS0lx4U/1q+6D14Ax6VKei7g+BOuH6pzi637rJ9FiOJHAcffw6O6Ct2q8KvrAHi5zfAG4kNDOgRGZKA0OVSEJeABmDV6s5zhYwCk2DdqOhGQEjGq6Yp1e1wG8o5RyzwI+jLlcAY+Wkc5ZEifcQfkZEhZpY7pG+VwA8gHAfJjmsGwP6MaYh6y7vxGgD5pOh5Rx2ZQABA6llriLrZzQti6TwxFn7HcfpRwJNsYUKTmWGyfAI1L5BAgHBWNoUMwRQIAJX0A/gHwE/JP1RSy1iIhL2XIiALdl+5VLK0AcQfaGKM8wMyjYU2t48JWo43Kvp0i3cnrfuj44xJAa70xhtirXNnvcP8x0wabX8xPQFGLDL717xB+LzXKSiX8CeB3CD9g/ImU3ny0I4UJU1HVMQDZ54jKDJxyeTcsTRBH3o8Y8zHuZ5hZLJojyNZUOzFSYxHPdSt0pVKTpE4LFbPLYSCgt1vYpM/KEHpJgpL3LodRpxwOEzSkGX85C2pYBXP55nK4AeTKymVEpR4cNVA6H1sRyMxRUUfMPinrSOoIV+hDUtGYCWm0yr3eYeZi95exu89A4oiafsfn2u+lh9AtxGLGr4i+Ric7+MY/Cbwp0swfxcY0NxLbPPtYjr5m1r2DcZg1/1mSLgOMmgGSABm+3/H4akaW1hHwktzPnQrgdXB9LikEt1repchebA/0ozVq4vI7gN9Lal3qjfoB8HcQP0F+YLCJoGTBSHEi6tFTLko8hTSg6SS99VIWDgBzsxhwXH8PbVMbxVE03dyIVBsuAzEUyuEseTajpWNp4qUTERMDka1SDg3M8R7yYOBneW8tID2hHK4IaG5rA8gIlHbDuRDDSgBED7NM7McJH9MROY+Y8hGDHeE8MJWONVrqXDrWOrYmTnVFjJbk1KJOICwboqFTHRRTY8nUCGhWtn6H8NbAEDPfWHNkVTyclVXVc+WnHRmV1zy07nR0q3P3OryAoXfujj43bOgPCWFcGxi3xWs71uaJvNNndMwzjkABxTLb6K1J86PMQv5YcK6JMNUCPpDdgx6IODlWsLESqVWhh3RBtrw0biog1fT2EuWw8amLTmdQDuMNh4kXMR6LFlTLm7UQzwVzVxuO59eYutGdSjlEa9R42iiHG0D+ykp2BoS1P8PTZoERGpn96Ee6T0l5gg8ZVtTD59pjdKZh4UnjPsGsNHSaN01YNsiatazMQ8k8ut+pdLc/AH9XE3rFB1zvUjG5b+rX+igp+EfUH3UohvdBG3QthsPLAVMc6QvQRZLnnD28Z7/vGRgdzdq2ejTyel62EAe/aVZWxSaqNFk1yXqfU+ei0hP1xbkO2TNoajodohPxeOOHxnTgMftcuuCi9qdSYaAXsKqpfp07VKnzlREfmzKmfWqUQxWAPKMcVt58bb64kAtBNWUVyuFUSsGCnKX6cVKH7CJHypdVyp5y6EByx1Q72Xf0XjbK4QaQ50FL7vt4Xe2rCH7Hzt6lhYmuwbI+pknZM7JPNGVQM0gCAXJh3jXBLFPdOI8x6pOzp3ZElsIkKJNe/G5wAPSpaL58QvqE+6GrRZbtOAj6BPDZcbIPAA6Kn3O9Mfo0zpD82UXdlLk5MJJFqIIdOCqHg6NUPL8FFnYO6Lfw8TprZsGn9tnKAL8rao0/Oz71T0F1249gyhTmzMJjBm+AfofxB8AfSPah/XBQknOSN+pdEZeNHcFQI0oC0OTBISqdbBR+c2tnucOHGPUBh0hXq/oQTymHkR7n7sSQPGorbVzoaR2e5k725Q+1dZ87yiERjRokwJv02brLITfK4QaQF49dCwHTFimw7uhrgU6Zud7R/ZOZk6Y0eFbyicaSNndAozrmozmKpAplD1O5Tx0Uz+Wxk4BjKZfPHWvUDjU+55/4LKM+8wXNV6WaS310w+KuSPEowwhYIpBnsAt/bzFUfCgKJhUQDNAUlja31bwsuu+PpdTz6E6uYhOaVXZ+j1qjfkgFNGv6XKLIOWLELFVGVJCs4PgOw6RkChHG3Im4FWfAEjkyR9SIMmyNrlGD0ghplMPs8GFAOh6j4dJRDtFFczEwXoyra6m2mnjBADPYMV7TLcqhmnJT9yF3lMO54VKAfsJMOZxCZGONctgAeKMcbgB5tvvt0gUFLp1V2VvzZs+MT59wKPau7i63ifQsWKZhAkszh8yQjiJHBqOmzDsiSzoyxnxi7CduOzanGLX6Y+vUqgLBzDn+0Qm+/ixMkd9jkBo/QHyUlBjK2RESgns4ExjIyVpjnIfAvTRswtHRTrbV6DLKZd7Cpjlpn+UGaxf3koxZiAp/FKGJ9yYiESD4e0mr3zuLhBjVAWJ+EfwJlt/lbyCjeUP8REqf8d69dXx7Be7WZVbt/Hp8LAUgiVLXMwOmYwMmGcFjSbFr57qnHPqVWsMFyqF5NGpS73K4VLmbO+Id5dDkcFoTz50ph1ZMvKKTzUOGRps79AvKYc2hNsrhBpBn3cWVUZQKhqdSU01CUcIuTZ6niXk6YmIAHYYcpl08wD0sF5SGYtwVHWvHAEMRy2W1Ykhh5KVqYwdUybKQH/sA8KNZlM4Uux+dkX0Flx+ztmGZDXSflCfAS1ods5klnGqgV2uKGVBudUir21BMySxHw6bVJ+N1XhAP77FzRtCYHyifyRukH/LOWjXkx36H63dVemDxse7UeCqVcAZM4A3UTyR+Kg1HTkVBApESR/eim0usxmaOiK5qt9oIHLzR9Joobi803I9ZqzZqfNEpPqUckieUQy9RI1kA0pA+Qhl80divDl2wEuTPlEPUIfaMVcohFaUASk3xeKMcbgD5QIrNfuZuPhBUpmLWbVLlO8uY0oGTUsqeYNmC2yVKSkQTzo04qyFumzCMU7Xq3krCdSyUippuF1TGISJJ/WTzbW6c4zcFYLzP+ocxHK1Cs5PxSNIElY51bbjAyRK5ogAhkUurqgNA5jbqE6XZHC3WmadNzpI+yz7MWdpddSc/K+BJ/vv/2t7V9cax5cYiT/eMfDfJBkHy/39dkJcAC3sszUf3YeWBPB89GvlugnvzsixA8FiS7RlrupqHxSoGoU9rEXgZ/cZpZ4yP7rz3XTKNJBUfUL1S+BDSq96m/hrGnOvsG+///08/fx2WQizq5Bk/iIPlMAQZ3Q22SI899g7F85bDIFLRbjlUA+oSBBmWwxNdPe9LvCbLoak6TwLDclgNWF5ZDj1nSo1DqPmFhvZKrkkkQaKPBxq+3hkt4ndpUUDj11Iql+2G6wZsFsPmpqDGEmThRIQa/R7x012vKoxN4TR7+GUaPcpYfTDNDm9xzLyOAAbeYjD6NoQMu4K80uwGq1cAV57XTXZZoVKc5NQAWAx7N8NwRVs3JTEjOX+dJPr8Y1MT/HXKU8P2FytZW0TbdeyLsZhZ7MnfXlG2FastqWfYBb1iVLkA+BDgnaVcAdxRZIeFVfATC0xZHLOzZc4vKuLVZMt3rwasxas+CcIs2v8az3Ms0Lqjrs1y2KyJOinZrfrjYYhcjdjFe+DLbth+myyHc4RjE2qeHTXyYn/kcyfD3HJobfaxizKvCsW0HCZBPl83ez0SoQioJVw0BZzdNNPFRhJyWkxE7/W6sWzWqMT85h9bjdkrEvd5kQS15+cEBT4AKiXcLl5hHYePSAuXzS1UaxdlYnNfe0yzCKkIoixyExoJlilwAuI9xzbw7aM6GiM77NXiUAlcufavuSjQxoIYqvgUCnm4+jgJUN4q8JCJUKLtfQgyuLIn8OAC8scQXPARARN+/FZXp+23012u24baQziexItJkCEH2fW5HnbxhdpixIIhnx01Zu5IibOqVvtsOexHW/RVsEP2OFoO2xIvqleQVHmhVj/VeS+Ku5nUDpZDhPC0ArUULO21Vet/UbcKpOUwCfLl225Z/UijGsO4+qnv+Kqq7BfVIrWe17vKJrRKmAxnTjteGemOFJVICFKhRWQLbiB9tUGM4ThB0qZ8xpb0TQA76eM/MPuA8RKpPje2QWnwHcL3el5udtLtdDMxKEEbA96zfRBzlYgh3LSESM+FRA+s8IO2QKWZjeWT88gvvBrq+w3Ala5EX7oThu33/MlWKbog03qNP4AgSeEVIu/xcbWl3Ki6q6o3NHaO2Ju+2AqHRO3WK8Qs1Ng0ky8K2A6WEGr2I0Fir2OHdRChnRec6uNoOayfhKjPwjBjDKeF58aXrUgfu+F0j2qWQ0YfclgO4zXE0bptOSzmHm/Z/a3HpUDuD1hZnDw5LIe+uoHdcpijPkmQk4r99kSA/GX7hc9dGnomOJflbtedhUZYrVAYqfTVWVJBMRh9pKZWUmSL0KuWzK2hKVaANxg2F0u8XoWItbWzMGwC3tiO24Ir4Z5sAW5U3MWw72fd67nwdDcV9ZyJXoeQU1+UfuXFDhoRicfxIVLiPFdi1YL0ZWQq/v3H814kfbvy3N0ubXwn5htjedYlfNM/ew/Sj9Q/AX73X+VdRK4+siMPQva6ngiaB9c+Dft3IWR2kUQMJosc2ojHcFrpfTyoeGgFJ6FmJo0DmYzB8e40AL+wHHJYDqOK9C2HEtmQ7qhheTr+t2AgUShsshzGjKYWYJ8sh5t1JbtZGeX6dAOLYzf06bzyOccu8Q/bg/zFnZJPup6EAaU/ji/6amOpOJW7VewKbKA9hHaVqu9c8AbRM0ROEC7i1sNCgRn4gKAKpIrRKKgg7lTuVLGISNtgMAEqBcYTSBEDsSuxoaJSQVsLuVU73WEQwXo3qBd7AmGBShEnQlfRPWjCfy+d6BQaBDk+BCoqUAmCDEIUFVXt1xRaxWi3WHz1AzWGvSPxuy/OQh/2bip080239O8LIBcUuXBd7lyXB24P27XgZEatFbUUoO5dRBlhYd7K9dZGWAaDxA5K+izUEE60XagJD3azHKq+Prq3SqwarCnXk4BztBxOS7xCQW/ZkKu45dBWgdyj1/nKctie+7TCQo2oImN0pz0/lUmo0S/lmEQS5K858unN0lVGweFeKl+pfu34pGImYjBUtfrx+Ouy1DeV8w+LQCtTCtRUhQUGwSaGXSopoNgqShGiyGZCEwK607VlFewnH1zU4tPc2OkFSVwoPBV3FN5DXTVC72yySqvyIomik2OrFqNtJfPnYqshopJEGStrpUh77K2BD4A3GtwSSbuA/N5aAGOZFhpBjrEl4OLH6e6Z/gmRDyzLhwgeti7GtxXl+hjzgI0IdgKrfp5vfnXfo40fpE7HAE6WQ5Wj5bDGUgyVrkuN+HlfvcBSUMywLQqW2HLYwiAOlsMnJZuecWGL/7taif1cAO5dqHm2HPZcyTajo3EzkC8shxzP0eaAi5eNzPlhUmcSJHx2bEQPEvKLa4y/w7JT0opJBfZvpW7/suB8uaOqop78QrKpiJmb7BYXZ7t4ugVMSDH67pwWEdFOzO1ardPOZSVsWfvFqY9NYaZh5ShRUpW2Lwf49DF2eRMFisXX14qvtKX4LKeKq9KMpCGzdxg+YHyH2QXghd5vfA8xZqxCYFuLwAtELhBcAPmA4Iql3LmWh/37P9vyX9/pA9xy3H562CLYKj4OkjN87vtZOwoH6cgQasYbQnr1JxKWw1PshVF30HBZRkFYrYfn4rxENJm0UKRPlkNBHNnj2at5cjJVvILU1yM2Q8l+rvtGn/Ol5TDeG1jgA+M2hWZgCDTWyBXyxShC4h+SIFfhJ/L7P7enZYQSUIH1suP2b+sYreDrcpWRUi3H5MBR6XzlzJBXcfxAXRcnWLe9KSoH8am2x4uvbVUF4NWg+lEbbX2tf659X/HSSAjVHYKrLweLY7XZO5vNUXiF4gcMPwD8iNTuadCbF0gE2raUndPyjmp3nIuhokZuJbAUSBvbKXGEfCJIXy/g7pZP7ZMuOERKz3xE/sJyqHv07GbLoWpXgH3PY/Qhd4O9LVgeDxBvo1+5W6/WPlsOx/NTa1sOFcqwHJZZ5JmbkOwC07PlUF5ZDs3XDckOyJuH5667jVbCZDls/09Hy2EiRZo/thzt7zuKYLmbX5fFL7rf5dev9CF5+vqwUhxegZi5lxiGcucQwQmgLCJFWzJ4FLzhq9CwGWqp0wykQWQXwQbRe5TYG0R/Ts/Jwn5yR5EPMdypvIPyAcN3KP8mJt+hbcOgfGDRd8B+Anpl0TvWcofIXv/jX/fyn/9NOStwoxNM9Tgv2asfWZcC2W2IHOY3I4ldLNhqDzzvQk3zWE+OGivlF5ZDBWzzJZMHyyE+Ww7Fd1tX1ch5xPD1/96baxKODpZDErUIFmMfJejH85jR9JavHSyHQLh5wmreXjeLTEJNgT521LX45kMMy6HJk0STFWQS5J8KAXQjJOL1deexx8OD+vMkVeJpNUFcwMaRTwgee00x2lKqoLxXsEjkGRZj0U0hdxRViBYAqhJVZJ+BkeqhGSKxfOzDY6tbD5LFa1R7RJL61lPVgQcgV4CbgBvBW/ijf2DVd+pyheABq5vsVqnrg0UqBGQp3j7YK3BagccDKAWyAdirE+SHzxxy8WAHU0GJ3poVhVY77jfvQkbbRTCtJujOmaiedAgm3ntUHFZJWFgO8cJy+LzE0ax7sjvxfmU5bCERfLIc7m45xM1dPAfLYQ+tkGPLtVWLbW9OO8Yz5h73seXwuGsd3XKIlG+SIP8/SLG3hMSDC8rdUM+C9d2DA+bj0fNBRuaRPBkdJxeMpy13h0GMoYwKFpSq4D+th0xCCDZ5e3vH9e6rIlQegNwiJ/HUeosCFgrWMQYpTvEiuwA7jBU0Tz5XqVQxz7zEQ8gHRYzW9kxpRdG7lWXzz1TI3cTKAn77jVIfwOMeJ/wgw/MJ8uMGfIs9zlsFz6u/4r3C1oLCR8SGEQrDJotXmqclqJ5jsL/aMB+Hkv3Zcng8wf7SctjCLvhiy2FUk7YoqNUPExyTjJhWkwvaCE6zHPp4jy/xIrZVIB8Vgs+WQ4G5UDO3VVQh+94th4XA3m6ecap3JVv+l5bDRBLkH6/6RNq0Xz/lWrF/8/FGCcVSnm7iLUdwVIife0DsjXrBPPHB3oeU+HFwJHPP1slS9kjeeUDlHYIikMWrRHfVmKgRpkrxIXbFAyoGwmBEPa9ENUqt7DtppqdoywKaQR97PAeOPSo+s+clU/WAhd4BEIFsO/i2An+zsfpiq+Bfzi6YVAPfTsOhMis0babv7zkWPlsOD5+fxmPMWyMC+HF/Le6FboPZZTlYDlkKyl7dctiFmhgRmpRsQkevr/chg9BCqHmc9XjT5bGC/Luqu2fLYcuGjNxLfrUZsSf7JJIg/4SGpr/xgrgUWD4qHn9dQd1iWZN6ehifK85hESZfVKXyC7HmUAJ98bzMIKoGFdJtP9N2Kb9eawxc624vpXxfAuVN//CAHKJ6JBTduTqW6SYAVU90a1sCp2Oo7BX2l2/HP7jXQx7jc0jnEGqmER3j1JrAi7nFZ8thzOabQYovAmeJf09jT1FkQTpxayjZ6NKvVoOd/PhPOY9tiC8sh17sz8/JCbJbDreIO/tqkSEm0n1auCvTCaVbDsMB6q4dwBbFEq0A1OEzbJkYmlfxH3uoZFqSEolE4ssDZSKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQiCTKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEkmQiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIgkwkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIJEEmEolEEmQikUgkQSYSiUQSZCKRSPzZ+B+GrlwhibMxxQAAAABJRU5ErkJggg==";function Sakura(x, y, s, r, fn) {    this.x = x;    this.y = y;    this.s = s;    this.r = r;    this.fn = fn;}Sakura.prototype.draw = function (cxt) {    cxt.save();    var xc = 40 * this.s / 4;    cxt.translate(this.x, this.y);    cxt.rotate(this.r);    cxt.drawImage(img, 0, 0, 40 * this.s, 40 * this.s)    cxt.restore();}Sakura.prototype.update = function () {    this.x = this.fn.x(this.x, this.y);    this.y = this.fn.y(this.y, this.y);    this.r = this.fn.r(this.r);    if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {        this.r = getRandom('fnr');        if (Math.random() > 0.4) {            this.x = getRandom('x');            this.y = 0;            this.s = getRandom('s');            this.r = getRandom('r');        } else {            this.x = window.innerWidth;            this.y = getRandom('y');            this.s = getRandom('s');            this.r = getRandom('r');        }    }}SakuraList = function () {    this.list = [];}SakuraList.prototype.push = function (sakura) {    this.list.push(sakura);}SakuraList.prototype.update = function () {    for (var i = 0, len = this.list.length; i < len; i++) {        this.list[i].update();    }}SakuraList.prototype.draw = function (cxt) {    for (var i = 0, len = this.list.length; i < len; i++) {        this.list[i].draw(cxt);    }}SakuraList.prototype.get = function (i) {    return this.list[i];}SakuraList.prototype.size = function () {    return this.list.length;}function getRandom(option) {    var ret, random;    switch (option) {        case 'x':            ret = Math.random() * window.innerWidth;            break;        case 'y':            ret = Math.random() * window.innerHeight;            break;        case 's':            ret = Math.random();            break;        case 'r':            ret = Math.random() * 6;            break;        case 'fnx':            random = -0.5 + Math.random() * 1;            ret = function (x, y) {                return x + 0.5 * random - 1.7;            };            break;        case 'fny':            random = 1.5 + Math.random() * 0.7            ret = function (x, y) {                return y + random;            };            break;        case 'fnr':            random = Math.random() * 0.03;            ret = function (r) {                return r + random;            };            break;    }    return ret;}function startSakura() {    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;    var canvas = document.createElement('canvas'),        cxt;    staticx = true;    canvas.height = window.innerHeight;    canvas.width = window.innerWidth;    canvas.setAttribute('style', 'position: fixed;left: 0;top: 0;pointer-events: none;');    canvas.setAttribute('id', 'canvas_sakura');    document.getElementsByTagName('body')[0].appendChild(canvas);    cxt = canvas.getContext('2d');    var sakuraList = new SakuraList();    for (var i = 0; i < 50; i++) {        var sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;        randomX = getRandom('x');        randomY = getRandom('y');        randomR = getRandom('r');        randomS = getRandom('s');        randomFnx = getRandom('fnx');        randomFny = getRandom('fny');        randomFnR = getRandom('fnr');        sakura = new Sakura(randomX, randomY, randomS, randomR, {            x: randomFnx,            y: randomFny,            r: randomFnR        });        sakura.draw(cxt);        sakuraList.push(sakura);    }    stop = requestAnimationFrame(function () {        cxt.clearRect(0, 0, canvas.width, canvas.height);        sakuraList.update();        sakuraList.draw(cxt);        stop = requestAnimationFrame(arguments.callee);    })}window.onresize = function () {    var canvasSnow = document.getElementById('canvas_snow');}img.onload = function () {    startSakura();}function stopp() {    if (staticx) {        var child = document.getElementById("canvas_sakura");        child.parentNode.removeChild(child);        window.cancelAnimationFrame(stop);        staticx = false;    } else {        startSakura();    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友情链接</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[<div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">butterfly</button></li><li class="tab"><button type="button" data-href="#-2">Fuild</button></li><li class="tab"><button type="button" data-href="#-3">next</button></li><li class="tab"><button type="button" data-href="#-4">本站友链格式</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">浮城</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://www.fuchengya.com/</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">https://t3.picb.cc/2023/08/09/I9ZjKd.jpeg</span></span><br><span class="line">  <span class="attr">descr:</span> <span class="string">浮城故梦，忆在眼前</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> &#123;</span><br><span class="line">    <span class="attr">title:</span> <span class="string">&quot;浮城&quot;</span>,</span><br><span class="line">    <span class="attr">intro:</span> <span class="string">&quot;浮城故梦，忆在眼前&quot;</span>,</span><br><span class="line">    <span class="attr">link:</span> <span class="string">&quot;https://www.fuchengya.com/&quot;</span>,</span><br><span class="line">    <span class="attr">image:</span> <span class="string">&quot;https://t3.picb.cc/2023/08/09/I9ZjKd.jpeg&quot;</span>,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">浮城</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://www.fuchengya.com/</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">https://t3.picb.cc/2023/08/09/I9ZjKd.jpeg</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">浮城故梦，忆在眼前</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">友链名称</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">友链链接</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">友链头像</span></span><br><span class="line">  <span class="attr">descr:</span> <span class="string">友链描述</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/sun_moon.js"/>
      <url>/js/sun_moon.js</url>
      
        <content type="html"><![CDATA[function switchNightMode() {    document.querySelector('body').insertAdjacentHTML('beforeend', '<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>'),      setTimeout(function() {        document.querySelector('body').classList.contains('DarkMode') ? (document.querySelector('body').classList.remove('DarkMode'), localStorage.setItem('isDark', '0'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')) : (document.querySelector('body').classList.add('DarkMode'), localStorage.setItem('isDark', '1'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')),          setTimeout(function() {            document.getElementsByClassName('Cuteen_DarkSky')[0].style.transition = 'opacity 3s';            document.getElementsByClassName('Cuteen_DarkSky')[0].style.opacity = '0';            setTimeout(function() {              document.getElementsByClassName('Cuteen_DarkSky')[0].remove();            }, 1e3);          }, 2e3)      })    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'    if (nowMode === 'light') {      activateDarkMode()      saveToLocal.set('theme', 'dark', 2)      GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)      document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')    } else {      activateLightMode()      saveToLocal.set('theme', 'light', 2)      document.querySelector('body').classList.add('DarkMode'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')    }    // handle some cases    typeof utterancesTheme === 'function' && utterancesTheme()    typeof FB === 'object' && window.loadFBComment()    window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200)  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/weather.js"/>
      <url>/js/weather.js</url>
      
        <content type="html"><![CDATA[// WIDGET = {//     "CONFIG": {//         "layout": "1",//         "width": "300",//         "height": "100",//         "background": "1",//         "dataColor": "FFFFFF",//         "borderRadius": "5",//         "modules": "01",//         "key": "41e1ab59bba1464f85063a94b38aadd0"//     }// }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/coin/coin.css"/>
      <url>/css/coin/coin.css</url>
      
        <content type="html"><![CDATA[.tip-button {    border: 0;    border-radius: 0.25rem;    cursor: pointer;    font-size: 20px;    font-weight: 600;    height: 2.6rem;    margin-bottom: -4rem;    outline: 0;    position: relative;    top: 0;    transform-origin: 0% 100%;    transition: transform 50ms ease-in-out;    width: auto;    -webkit-tap-highlight-color: transparent;  }  .tip-button:active {    transform: rotate(4deg);  }  .tip-button.clicked {    animation: 150ms ease-in-out 1 shake;    pointer-events: none;  }  .tip-button.clicked .tip-button__text {    opacity: 0;    transition: opacity 100ms linear 200ms;  }  .tip-button.clicked::before {    height: 0.5rem;    width: 60%;    background: $button-hover-color;  }  .tip-button.clicked .coin {    transition: margin-bottom 1s linear 200ms;    margin-bottom: 0;  }  .tip-button.shrink-landing::before {    transition: width 200ms ease-in;    width: 0;  }  .tip-button.coin-landed::after {    opacity: 1;    transform: scale(1);    transform-origin: 50% 100%;  }  .tip-button.coin-landed .coin-wrapper {    background: radial-gradient(circle at 35% 97%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient(        circle at 45% 92%,        rgba(3, 16, 50, 0.4) 0.04rem,        transparent 0.02rem      ), radial-gradient(circle at 55% 98%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient(circle at          65% 96%, rgba(3, 16, 50, 0.4) 0.06rem, transparent 0.06rem);    background-position: center bottom;    background-size: 100%;    bottom: -1rem;    opacity: 0;    transform: scale(2) translateY(-10px);  }  .tip-button__text {    color: #fff;    margin-right: 1.8rem;    opacity: 1;    position: relative;    transition: opacity 100ms linear 500ms;    z-index: 3;  }  .tip-button::before {    border-radius: 0.25rem;    bottom: 0;    content: "";    display: block;    height: 100%;    left: 50%;    position: absolute;    transform: translateX(-50%);    transition: height 250ms ease-in-out 400ms, width 250ms ease-in-out 300ms;    width: 100%;    z-index: 2;  }  .tip-button::after {    bottom: -1rem;    color: white;    content: "ヾ(≧O≦)〃嗷~"; /*点击后显示的内容*/    height: 110%;    left: 0;    opacity: 0;    position: absolute;    pointer-events: none;    text-align: center;    transform: scale(0);    transform-origin: 50% 20%;    transition: transform 200ms cubic-bezier(0, 0, 0.35, 1.43);    width: 100%;    z-index: 1;  }    .coin-wrapper {    background: none;    bottom: 0;    height: 18rem;    left: 0;    opacity: 1;    overflow: hidden;    pointer-events: none;    position: absolute;    transform: none;    transform-origin: 50% 100%;    transition: opacity 200ms linear 100ms, transform 300ms ease-out;    width: 100%;  }    .coin {    --front-y-multiplier: 0;    --back-y-multiplier: 0;    --coin-y-multiplier: 0;    --coin-x-multiplier: 0;    --coin-scale-multiplier: 0;    --coin-rotation-multiplier: 0;    --shine-opacity-multiplier: 0.4;    --shine-bg-multiplier: 50%;    bottom: calc(var(--coin-y-multiplier) * 1rem - 3.5rem);    height: 3.5rem;    margin-bottom: 3.05rem;    position: absolute;    right: calc(var(--coin-x-multiplier) * 34% + 10%);    transform: translateX(50%) scale(calc(0.4 + var(--coin-scale-multiplier))) rotate(calc(var(              --coin-rotation-multiplier            ) * -1deg));    transition: opacity 100ms linear 200ms;    width: 3.5rem;    z-index: 3;  }  .coin__front,  .coin__middle,  .coin__back,  .coin::before,  .coin__front::after,  .coin__back::after {    border-radius: 50%;    box-sizing: border-box;    height: 100%;    left: 0;    position: absolute;    width: 100%;    z-index: 3;  }  .coin__front {    background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%),      linear-gradient(210deg, #8590b3 32%, transparent 32%), linear-gradient(150deg, #8590b3 32%, transparent 32%),      linear-gradient(to right, #8590b3 22%, transparent 22%, transparent 78%, #8590b3 78%), linear-gradient(        to bottom,        #fcfaf9 44%,        transparent 44%,        transparent 65%,        #fcfaf9 65%,        #fcfaf9 71%,        #8590b3 71%      ), linear-gradient(to right, transparent 28%, #fcfaf9 28%, #fcfaf9 34%, #8590b3 34%, #8590b3 40%, #fcfaf9 40%, #fcfaf9          47%, #8590b3 47%, #8590b3 53%, #fcfaf9 53%, #fcfaf9 60%, #8590b3 60%, #8590b3 66%, #fcfaf9 66%, #fcfaf9 72%, transparent          72%);    background-color: #8590b3;    background-size: 100% 100%;    transform: translateY(calc(var(--front-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--front-scale-multiplier));  }  .coin__front::after {    background: rgba(0, 0, 0, 0.2);    content: "";    opacity: var(--front-y-multiplier);  }  .coin__middle {    background: #737c99;    transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--middle-scale-multiplier));  }  .coin__back {    background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%),      radial-gradient(circle at 50% 40%, #fcfaf9 23%, transparent 23%), radial-gradient(circle at 50% 100%, #fcfaf9 35%, transparent          35%);    background-color: #8590b3;    background-size: 100% 100%;    transform: translateY(calc(var(--back-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--back-scale-multiplier));  }  .coin__back::after {    background: rgba(0, 0, 0, 0.2);    content: "";    opacity: var(--back-y-multiplier);  }  .coin::before {    background: radial-gradient(circle at 25% 65%, transparent 50%, rgba(255, 255, 255, 0.9) 90%), linear-gradient(55deg, transparent          calc(var(--shine-bg-multiplier) + 0%), #e9f4ff calc(var(--shine-bg-multiplier) + 0%), transparent calc(var(                --shine-bg-multiplier              ) + 50%));    content: "";    opacity: var(--shine-opacity-multiplier);    transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / -2)) scaleY(var(--middle-scale-multiplier))      rotate(calc(var(--coin-rotation-multiplier) * 1deg));    z-index: 10;  }  .coin::after {    background: #737c99;    content: "";    height: 0.3181818182rem;    left: 0;    position: absolute;    top: 50%;    transform: translateY(-50%);    width: 100%;    z-index: 2;  }    @keyframes shake {    0% {      transform: rotate(4deg);    }    66% {      transform: rotate(-4deg);    }    100% {      transform: rotate();    }  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/coin/coin.js"/>
      <url>/js/coin/coin.js</url>
      
        <content type="html"><![CDATA[var tipButtons = document.querySelectorAll(".tip-button");function coinAudio() {  var coinAudio = document.getElementById("coinAudio");  if (coinAudio) {    coinAudio.play(); //有音频时播放  }}// Loop through all buttons (allows for multiple buttons on page)tipButtons.forEach(button => {  var coin = button.querySelector(".coin");  // The larger the number, the slower the animation  coin.maxMoveLoopCount = 90;  button.addEventListener("click", () => {    if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true; //媒体选择    if (button.clicked) return;    button.classList.add("clicked");    // Wait to start flipping th coin because of the button tilt animation    setTimeout(() => {      // Randomize the flipping speeds just for fun      coin.sideRotationCount = Math.floor(Math.random() * 5) * 90;      coin.maxFlipAngle = (Math.floor(Math.random() * 4) + 3) * Math.PI;      button.clicked = true;      flipCoin();      coinAudio();    }, 50);  });  var flipCoin = () => {    coin.moveLoopCount = 0;    flipCoinLoop();  };  var resetCoin = () => {    coin.style.setProperty("--coin-x-multiplier", 0);    coin.style.setProperty("--coin-scale-multiplier", 0);    coin.style.setProperty("--coin-rotation-multiplier", 0);    coin.style.setProperty("--shine-opacity-multiplier", 0.4);    coin.style.setProperty("--shine-bg-multiplier", "50%");    coin.style.setProperty("opacity", 1);    // Delay to give the reset animation some time before you can click again    setTimeout(() => {      button.clicked = false;    }, 300);  };  var flipCoinLoop = () => {    coin.moveLoopCount++;    var percentageCompleted = coin.moveLoopCount / coin.maxMoveLoopCount;    coin.angle = -coin.maxFlipAngle * Math.pow(percentageCompleted - 1, 2) + coin.maxFlipAngle;    // Calculate the scale and position of the coin moving through the air    coin.style.setProperty("--coin-y-multiplier", -11 * Math.pow(percentageCompleted * 2 - 1, 4) + 11);    coin.style.setProperty("--coin-x-multiplier", percentageCompleted);    coin.style.setProperty("--coin-scale-multiplier", percentageCompleted * 0.6);    coin.style.setProperty("--coin-rotation-multiplier", percentageCompleted * coin.sideRotationCount);    // Calculate the scale and position values for the different coin faces    // The math uses sin/cos wave functions to similate the circular motion of 3D spin    coin.style.setProperty("--front-scale-multiplier", Math.max(Math.cos(coin.angle), 0));    coin.style.setProperty("--front-y-multiplier", Math.sin(coin.angle));    coin.style.setProperty("--middle-scale-multiplier", Math.abs(Math.cos(coin.angle), 0));    coin.style.setProperty("--middle-y-multiplier", Math.cos((coin.angle + Math.PI / 2) % Math.PI));    coin.style.setProperty("--back-scale-multiplier", Math.max(Math.cos(coin.angle - Math.PI), 0));    coin.style.setProperty("--back-y-multiplier", Math.sin(coin.angle - Math.PI));    coin.style.setProperty("--shine-opacity-multiplier", 4 * Math.sin((coin.angle + Math.PI / 2) % Math.PI) - 3.2);    coin.style.setProperty("--shine-bg-multiplier", -40 * (Math.cos((coin.angle + Math.PI / 2) % Math.PI) - 0.5) + "%");    // Repeat animation loop    if (coin.moveLoopCount < coin.maxMoveLoopCount) {      if (coin.moveLoopCount === coin.maxMoveLoopCount - 6) button.classList.add("shrink-landing");      window.requestAnimationFrame(flipCoinLoop);    } else {      button.classList.add("coin-landed");      coin.style.setProperty("opacity", 0);      setTimeout(() => {        button.classList.remove("clicked", "shrink-landing", "coin-landed");        setTimeout(() => {          resetCoin();        }, 300);      }, 1500);    }  };});]]></content>
      
    </entry>
    
    
  
</search>
